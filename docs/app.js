!function(){"use strict";var globals="undefined"==typeof global?self:global;if("function"!=typeof globals.require){var modules={},cache={},aliases={},has={}.hasOwnProperty,expRe=/^\.\.?(\/|$)/,expand=function(root,name){for(var part,results=[],parts=(expRe.test(name)?root+"/"+name:name).split("/"),i=0,length=parts.length;i<length;i++)".."===(part=parts[i])?results.pop():"."!==part&&""!==part&&results.push(part);return results.join("/")},dirname=function(path){return path.split("/").slice(0,-1).join("/")},initModule=function(name,definition){var path,module={id:name,exports:{},hot:hmr&&hmr.createHot(name)};return cache[name]=module,definition(module.exports,(path=name,function(name){var absolute=expand(dirname(path),name);return globals.require(absolute,path)}),module),module.exports},expandAlias=function(name){var val=aliases[name];return val&&name!==val?expandAlias(val):name},require=function(name,loaderPath){null==loaderPath&&(loaderPath="/");var path=expandAlias(name);if(has.call(cache,path))return cache[path].exports;if(has.call(modules,path))return initModule(path,modules[path]);throw new Error("Cannot find module '"+name+"' from '"+loaderPath+"'")};require.alias=function(from,to){aliases[to]=from};var extRe=/\.[^.\/]+$/,indexRe=/\/index(\.[^\/]+)?$/;require.register=require.define=function(bundle,fn){if(bundle&&"object"==typeof bundle)for(var key in bundle)has.call(bundle,key)&&require.register(key,bundle[key]);else modules[bundle]=fn,delete cache[bundle],function(bundle){if(extRe.test(bundle)){var alias=bundle.replace(extRe,"");has.call(aliases,alias)&&aliases[alias].replace(extRe,"")!==alias+"/index"||(aliases[alias]=bundle)}if(indexRe.test(bundle)){var iAlias=bundle.replace(indexRe,"");has.call(aliases,iAlias)||(aliases[iAlias]=bundle)}}(bundle)},require.list=function(){var list=[];for(var item in modules)has.call(modules,item)&&list.push(item);return list};var hmr=globals._hmr&&new globals._hmr((function(name,dep){return expandAlias(expand(dirname(name),dep))}),require,modules,cache);require._cache=cache,require.hmr=hmr&&hmr.wrap,require.brunch=!0,globals.require=require}}(),function(){var global="undefined"==typeof window?this:window;require.register("Components/DateTime.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _dayjs=_interopRequireDefault(require("dayjs")),_advancedFormat=_interopRequireDefault(require("dayjs/plugin/advancedFormat"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_dayjs.default.extend(_advancedFormat.default);var _default=function(_ref){var event=_ref.attrs.event,formatDate=function(x){return(0,_dayjs.default)(x).format("dddd, MMMM Do YYYY")},formatTime=function(x){return(0,_dayjs.default)(x).format("h:mm a")};return{view:function(){return event.startDate==event.endDate?m(".",m("h3",m("label.strong",formatDate(event.startDate))),m("h4.grouped",m("label",formatTime(event.start)),m("label"," - "),m("label",formatTime(event.end)))):m("h4.grouped",m("label.strong",formatDate(event.startDate)),m("label"," - "),m("label.strong",formatDate(event.endDate)))}}};exports.default=_default})),require.register("Components/Hamburger.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _cjs=require("@mithril-icons/clarity/cjs");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var filledGreen={fill:"green"},_default=function(){return{view:function(_ref){var mdl=_ref.attrs.mdl;return m("figure.pointer is-center",{onclick:function(){return mdl.state.showNavModal(!mdl.state.showNavModal())},style:_objectSpread(_objectSpread({},mdl.state.isAuth()&&"phone"==mdl.settings.screenSize&&{margin:"auto"}),{},{transform:"scale(1.2)"})},mdl.state.showNavModal()?m(_cjs.WindowCloseLine,filledGreen):m(_cjs.MenuLine,filledGreen))}}};exports.default=_default})),require.register("Components/Modal.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _animations=require("Styles/animations"),_default={oncreate:_animations.SlideInLeft,onbeforeremove:_animations.SlideOutRight,view:function(_ref){var _ref$attrs=_ref.attrs,classList=_ref$attrs.classList,isActive=_ref$attrs.isActive,close=_ref$attrs.close,title=_ref$attrs.title,content=_ref$attrs.content,footer=_ref$attrs.footer;return console.log("close",close),console.log("title",title),console.log("content",content),m("section.modal.".concat(classList),{class:isActive?"active":"",id:"modal"},[m("a.modal-overlay",{"aria-label":"Close",onclick:function(){return close()}}),m(".modal-container",{role:"document"},[m("header.modal-header",[m("a.btn btn-clear float-right",{id:"modal-close","aria-label":"Close",onclick:function(){return close()}}),m(".modal-title h3",title)]),m(".modal-body",m(".content",content)),m(".modal-footer",footer)])])}};exports.default=_default})),require.register("Components/Selector.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _storage=require("Utils/storage"),_animations=require("Styles/animations"),_default=function(){var state={error:Stream(null)},ResetState=function(){state.quantity=null,state.gender="Gender"},saveToStorage=function(mdl){(0,_storage.saveStorageTask)(mdl)("sb-cart")(mdl.cart).fork((function(e){log("saveToStorage - error")(e),state.error(e.message)}),(function(s){ResetState()}))};return{oninit:function(){return ResetState()},view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,product=_ref$attrs.product;return m(".frow",m(".frow content-center gutters row-between pt-20 md-columns",[state.error()&&m("code.warning",state.error()),m(".col-xs-1-3.col-md-1-4",m("h2.pb-10","$".concat(mdl.state.prices[product]))),m(".col-xs-1-3.col-md-1-4",m("label",m("input",{type:"number",inputmode:"numeric",pattern:"[0-9]*",placeholder:"quantity",value:state.quantity,oninput:function(e){return state.quantity=e.target.value}}))),m(".col-xs-1-3.col-md-1-4",m("label",m("select",{value:state.gender,onchange:function(e){return state.gender=e.target.value}},[m("option",{value:null},"Gender"),m("option",{value:"Male"},"Male"),m("option",{value:"Female"},"Female"),m("option",{value:"Unisex"},"Unisex")]))),mdl.addToCart.show()==product&&m(".animated",{oncreate:_animations.AddToCartOut,id:"add-to-cart-img",style:{"background-image":"url(".concat(mdl.addToCart.id(),")")}}),m(".col-xs-1",m("button.width-100",{disabled:null==state.quantity||"Gender"==state.gender,onclick:function(){return function(mdl){return function(product){return function(state){mdl.addToCart.show(product),mdl.cart[product][state.gender]+=parseInt(state.quantity),saveToStorage(mdl)}}}(mdl)(product)(state)}},"Add To Bag"))]))}}};exports.default=_default})),require.register("Components/accordian.js",(function(exports,require,module){"use strict"})),require.register("Components/authbox.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_navLink=(obj=require("Components/nav-link.js"))&&obj.__esModule?obj:{default:obj},_index=require("Utils/index.js");var _default=function(){return{view:function(_ref){var mdl=_ref.attrs.mdl;return mdl.state.isAuth()?m(".is-center",["admin","mod"].includes(mdl.user.role)&&m(_navLink.default,{mdl:mdl,href:"/admin/".concat(mdl.user.routename),link:"Admin",classList:"".concat((0,_index.isActiveRoute)("/admin/".concat(mdl.user.routename))," button dark")}),m(_navLink.default,{mdl:mdl,href:"/account/".concat(mdl.user.routename),role:"button",link:"Your Account",classList:"".concat((0,_index.isActiveRoute)("/account/".concat(mdl.user.routename))," button primary")}),m(_navLink.default,{mdl:mdl,href:"/logout",role:"button",link:"Logout",classList:"button secondary"})):m(".grouped.is-center",m(_navLink.default,{mdl:mdl,role:"button",href:"/login",link:"Login",classList:"".concat((0,_index.isActiveRoute)("/login")," button primary")}),m(_navLink.default,{mdl:mdl,role:"button",href:"/register",link:"Register",classList:"".concat((0,_index.isActiveRoute)("/register")," button secondary")}))}}};exports.default=_default})),require.register("Components/default.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(mdl){return{view:function(_ref){_ref.attrs.mdl;return m(".container",m(".",m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec2")),m("section",m("p","sec3")),m("section",m("p","sec1")),m("section",m("p","sec2")),m("section",m("p","sec3"))))}}};exports.default=_default})),require.register("Components/grid.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Fig={view:function(_ref){var children=_ref.children,id=_ref.attrs.id;return m("figure#".concat(id,"-slidy"),{"flex-direction":"column","justify-content":"center","scroll-snap-align":"start"},children)}},_default={onremove:function(){},view:function(_ref2){var obj,key,value,children=_ref2.children,_ref2$attrs=_ref2.attrs,id=_ref2$attrs.id;_ref2$attrs.maxheight,_ref2$attrs.height,_ref2$attrs.overflow,_ref2$attrs.mdl;return m("frow-row",{style:(obj={width:"80%","scroll-snap-type":" mandatory","scroll-snap-points-y":" repeat(3rem)"},key="scroll-snap-type",value=" x mandatory",key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj)},children.map((function(child){return m(Fig,{id:id},child)})))}};exports.default=_default})),require.register("Components/loader.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _animations=require("Styles/animations"),_default=function(){return{view:function(){return m(".logoLoader",{onremove:_animations.FadeBack},m("img.heartbeat",{src:"images/baca-logo.webp"}))}}};exports.default=_default})),require.register("Components/nav-link.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.NavLink=void 0;require("Utils");var _excluded=["mdl","href","link","classList"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var NavLink=function(){return{view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,href=_ref$attrs.href,link=_ref$attrs.link,classList=_ref$attrs.classList,rest=_objectWithoutProperties(_ref$attrs,_excluded);return m(m.route.Link,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({onclick:function(e){return e.stopPropagation()},href:href,class:"nav-link ".concat(classList," ").concat(mdl.state.navSelected()==link?"is-active":"")},rest),link)}}};exports.NavLink=NavLink;var _default=NavLink;exports.default=_default})),require.register("Components/orders.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Orders=void 0;var _Utils=require("Utils"),_cjs=require("@mithril-icons/clarity/cjs"),_ramda=require("ramda"),state={invoices:[]},calcProductPrice=function(_ref,product){var prices=_ref.prices,cart=_ref.cart;return parseInt(prices[product])*Object.values(cart[product]).reduce(_ramda.add,0)},calcTotalPrice=function(invoice){return Object.keys(invoice.cart).map((function(product){return calcProductPrice(invoice,product)})).reduce(_ramda.add,0)},fetchInvoicesTask=function(mdl){return mdl.http.back4App.getTask(mdl)(function(mdl){var userInvoices='{"userId":"'.concat(mdl.user.objectId,'"}');return"admin"==mdl.state.route.id?"classes/Invoices":"classes/Invoices?where=".concat(encodeURI(userInvoices))}(mdl)).map((0,_ramda.prop)("results")).map((0,_ramda.map)((0,_ramda.assoc)("isSelected",!1)))},fetchInvoices=function(_ref2){var mdl=_ref2.attrs.mdl;return fetchInvoicesTask(mdl).fork(function(mdl){return function(e){return log("e")([e,mdl])}}(mdl),(function(invoices){return state.invoices=invoices}))},InvoiceCell=function(){return{view:function(_ref3){var screenSize=_ref3.attrs.mdl.settings.screenSize,children=_ref3.children;return"phone"==screenSize?m("tr",[m("td",{style:{width:"25%"}},m("label",children[0].key)),children]):m("td",{style:{width:"20%"}},children)}}},Invoice=function(_ref4){var mdl=_ref4.attrs.mdl;return{view:function(_ref5){var invoice=_ref5.attrs.invoice;return[m("tr",m(InvoiceCell,{mdl:mdl},m("",{key:"Date"},(0,_Utils.formatDate)(invoice.purchaseTime))),m(InvoiceCell,{mdl:mdl},m("",{key:"Order Id"},invoice.orderID)),m(InvoiceCell,{mdl:mdl},m("",{key:"Name"},"".concat(invoice.shippingDestination.name.full_name," "))),m(InvoiceCell,{mdl:mdl},m("",{key:"Payment Status"},invoice.status)),m(InvoiceCell,{mdl:mdl},m("",{key:"Shipping Status",style:{width:"100%",borderBottom:"1px solid gold"}},invoice.shippingStatus?m("a",{href:invoice.shippingStatus},"Shipping Status"):m("p","Prepparing your order"))),m("td",m(_cjs.AngleLine,{class:"clickable ".concat(!invoice.isSelected&&"point-down"),onclick:function(){return invoice.isSelected=!invoice.isSelected},width:"16px"}))),invoice.isSelected&&m("td",{colspan:5,style:{width:"100%"}},m("tr",m("td",m("label","Shipping Destination"),"".concat(invoice.shippingDestination.address.address_line_1," ").concat(invoice.shippingDestination.address.admin_area_2," ").concat(invoice.shippingDestination.address.admin_area_1," ").concat(invoice.shippingDestination.address.postal_code)),"admin"==mdl.state.route.id&&m("td",m("button","Update Shipping Status"))),m("table",{style:{width:"100%",borderBottom:"1px solid gold"}},[m("thead",m("tr",[m("th","Product"),m("th","Quantities"),m("th","Unit Price"),m("th","Unit Total")])),m("tbody",Object.keys(invoice.cart).map((function(product){return m("tr",[m("td",product),m("td",JSON.stringify(invoice.cart[product])),m("td",invoice.prices[product]),m("td",calcProductPrice(invoice,product))])})),m("tr",m("th","Order Total"),m("th",calcTotalPrice(invoice))))]))]}}};exports.Orders=function(){return{onremove:state={invoices:[]},oninit:fetchInvoices,view:function(_ref6){var mdl=_ref6.attrs.mdl;return m("section.overflow-auto",{style:{minWidth:"100%",height:"75vh"}},state.invoices.any()?m("table.dash-table","phone"!=mdl.settings.screenSize&&m("thead.dash-nav",m("tr.mb-5",[m("th","Date"),m("th","Order Id"),m("th","Name"),m("th","Payment Status"),m("th","Shipping Status"),m("th")])),m("tbody",state.invoices.map((function(invoice){return m(Invoice,{mdl:mdl,invoice:invoice})})))):m("h2","No Orders"))}}}})),require.register("Components/paypal.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PayPal=void 0;var obj,_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj},_Utils=require("Utils");var setTempUser=function(user){return sessionStorage.setItem("baca-session-token",user.sessionToken)},unSetTempUser=function(){return sessionStorage.clear()},addInvoiceTask=function(mdl){return function(invoice){return log("addInvoiceTask")(invoice),mdl.state.isAuth()?saveInvoiceTask(mdl)(invoice):function(mdl){return function(invoice){return mdl.http.back4App.postTask(mdl)("login")({username:mdl.http.back4App.unregistered.email,password:btoa(mdl.http.back4App.unregistered.password)}).map(setTempUser).chain((function(_){return saveInvoiceTask(mdl)(invoice)})).map(unSetTempUser)}}(mdl)(invoice)}},saveInvoiceTask=function(mdl){return function(invoice){return mdl.http.back4App.postTask(mdl)("classes/Invoices")(invoice)}};exports.PayPal=function(){return{view:function(_ref3){var _ref3$attrs=_ref3.attrs,mdl=_ref3$attrs.mdl,state=_ref3$attrs.state;return m(".",{style:{maxHeight:"500px",overflowY:"auto",minWidth:"400px"},oncreate:function(_ref4){var dom=_ref4.dom;return paypal.Buttons({createOrder:function(_,actions){return actions.order.create({purchase_units:[{amount:{value:(0,_Utils.getTotal)(mdl,(0,_Utils.toProducts)(mdl.cart))}}]})},onApprove:function(data,actions){return state.isPaying="start",log("onapprove")(JSON.stringify(state)),function(actions){return log("makePaymentTask")(actions),new _data.default((function(rej,res){return actions.order.capture().then(res,rej)}))}(actions).map((_ref=mdl,user=_ref.user,cart=_ref.cart,prices=_ref.state.prices,function(_ref2){var orderID=_ref2.orderID,payerID=_ref2.payerID;return function(details){return log("formatInvoice")(user),{userId:user.objectId,orderID:orderID,payerID:payerID,purchaseTime:details.create_time,status:details.status,customer:details.payer,shippingDestination:details.purchase_units[0].shipping,cart:cart,prices:prices}}})(data)).chain(addInvoiceTask(mdl)).fork(function(state){return function(error){log("state")(state),state.error=error,setTimeout((function(){return state.isPaying="failed"})),console.log("error",error)}}(state),function(mdl,state){return function(_){console.log("succc",state,_),setTimeout((function(){return state.isPaying="success"}))}}(0,state));var _ref,user,cart,prices}}).render(dom)}})}}}})),require.register("Components/report.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;require("@mithril-icons/clarity/cjs"),require("Styles/animations");var state={date:"",time:"",location:"",subject:"",message:"",firstName:"",lastName:"",email:"",images:[]},_default={onremove:function(){state.date="",state.time="",state.location="",state.subject="",state.message="",state.firstName="",state.lastName="",state.email="",state.images=[]},view:function(_ref){var _ref$attrs=_ref.attrs,showModal=(_ref$attrs.mdl,_ref$attrs.showModal);return m(".modal-container",m("form.modal.card",m("section.modal-content",m("form",m("formgroup.grouped",m("label","Date",m("input",{type:"date",oninput:function(e){return state.date=e.target.value}})),m("label","Time",m("input",{type:"time",oninput:function(e){return state.time=e.target.value}}))),m("formgroup",m("label","Location",m("input",{oninput:function(e){return state.location=e.target.value}})),m("label","Violation",m("select",{onchange:function(e){return state.violation=e.target.value}},m("option",{value:""},"Select a violation"),m("option",{value:"Yard Parking"},"Yard Parking"),m("option",{value:"Overgrown Lot"},"Overgrown Lot"),m("option",{value:"Garbage / Trash / Rubbish"},"Garbage / Trash / Rubbish"),m("option",{value:"Junked auto appliances / furniture"},"Junked auto appliances / furniture"),m("option",{value:"new construction"},"new construction"),m("option",{value:"Business in westview terrace"},"Business in westview terrace"),m("option",{value:"Trailer being used as residance"},"Trailer being used as residance"),m("option",{value:"Other"},"Other"))),m("label","Subject",m("input",{oninput:function(e){return state.subject=e.target.value}})),m("label","Message",m("textarea",{oninput:function(e){return state.message=e.target.value}}))),m("formgroup.grouped",m("label","First Name",m("input",{oninput:function(e){return state.firstName=e.target.value}})),m("label","Last Name",m("input",{oninput:function(e){return state.lastName=e.target.value}}))),m("formgroup",m("label","Email",m("input",{oninput:function(e){return state.email=e.target.value}}))),m("formgroup",m("label","Attachement",m("input",{oninput:function(e){return state.images=e.target.files},type:"file",id:"files"}),state.images[0]&&m("img",{src:URL.createObjectURL(state.images[0])}))))),m(".modal-footer.is-right grouped",m("button.button.primary",{onclick:function(e){e.preventDefault()}},"Submit Report"),m("button.button.secondary",{onclick:function(e){e.preventDefault(),showModal(!1)}},"cancel"))))}};exports.default=_default})),require.register("Components/table.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Table=exports.formatDataForTable=void 0;var _ramda=require("ramda"),toColCell=function(x){return{col:x[0],val:x[1]}};exports.formatDataForTable=function(removeProps,data){var dto=(0,_ramda.clone)(data);return removeProps.forEach((function(prop){return dto.map((function(d){return delete d[prop]}))})),{cols:Array.from(new Set(dto.flatMap(_ramda.keys))),rows:(0,_ramda.compose)((0,_ramda.map)((0,_ramda.map)(toColCell)),(0,_ramda.map)(_ramda.toPairs))(dto)}};var Cell=function(){return{view:function(_ref){var screenSize=_ref.attrs.mdl.settings.screenSize,children=_ref.children;return"wide"==screenSize?m("tr",[m("td",{style:{width:"25%"}},m("label",children[0].key)),m("th",children)]):m("td",{style:{width:"20%"}},children)}}},Row=function(_ref2){var mdl=_ref2.attrs.mdl;return{view:function(_ref3){var row=_ref3.attrs.row;return[m("tr.card",row.map((function(cell){return m(Cell,{mdl:mdl},m("",{key:cell.col},cell.val))})))]}}};exports.Table=function(){return{view:function(_ref4){var _ref4$attrs=_ref4.attrs,mdl=_ref4$attrs.mdl,cols=_ref4$attrs.cols,rows=_ref4$attrs.rows;return m("section.table",{style:{minWidth:"100%",overflow:"auto"}},rows.any()?m("table.dash-table","wide"!=mdl.settings.screenSize&&m("thead.dash-nav",m("tr.mb-5",cols.map((function(col){return m("th.primary",col.toUpperCase())})))),m("tbody",rows.map((function(row){return m(Row,{mdl:mdl,row:row})})))):m("h2","No data"))}}}})),require.register("Components/toast.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.addDanger=exports.addWarning=exports.addInfo=exports.addSuccess=void 0;var _helpers=require("../Utils/helpers"),toastTypes=["info","warning","success","danger"],state={list:[],destroy:function(id){var index=state.list.findIndex((function(x){return x.id===id}));state.list.splice(index,1)}};exports.addSuccess=function(text){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;state.list.push({id:(0,_helpers.uuid)(),type:"success",text:text,timeout:timeout}),console.log("state",state)};exports.addInfo=function(text){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;state.list.push({id:(0,_helpers.uuid)(),type:"info",text:text,timeout:timeout})};exports.addWarning=function(text){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;state.list.push({id:(0,_helpers.uuid)(),type:"warning",text:text,timeout:timeout})};exports.addDanger=function(text){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;state.list.push({id:(0,_helpers.uuid)(),type:"danger",text:text,timeout:timeout})};var toastType=function(type){return toastTypes.includes(type)?type:"info"},destroyToast=function(_ref){var dom=_ref.dom,id=_ref.attrs.id;dom.classList.add("destroy"),setTimeout((function(){state.destroy(id),m.redraw()}),300)},Toast=function(vnode){return setTimeout((function(){destroyToast(vnode)}),vnode.attrs.timeout),{view:function(_ref2){var _ref2$attrs=_ref2.attrs,type=_ref2$attrs.type,text=_ref2$attrs.text;return m(".m-notification",{class:toastType(type),onclick:function(){return destroyToast(vnode)}},text)}}},_default={view:function(){return state.list.any()&&m(".m-notifications",state.list.map((function(msg){return m("div",{key:msg.id},m(Toast,msg))})))}};exports.default=_default})),require.register("Layouts/ProgressBar.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){return{view:function(_ref){var _ref$attrs$mdl$state$=_ref.attrs.mdl.state.loadingProgress,value=_ref$attrs$mdl$state$.value,max=_ref$attrs$mdl$state$.max;return m(".progress-bar",m("progress.progress-bar",{id:"progressbar",value:value?value():0,max:max?max():0}))}}};exports.default=_default})),require.register("Layouts/fab.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_Hamburger=(obj=require("Components/Hamburger.js"))&&obj.__esModule?obj:{default:obj};var _default=function(){return{view:function(_ref){var mdl=_ref.attrs.mdl;return console.log("FAB",mdl.state.fab()),m("button#fab",{style:{right:"-".concat(mdl.state.fab(),"px")},onclick:function(e){return mdl.state.showNavModal(!mdl.state.showNavModal())}},m(_Hamburger.default,{mdl:mdl}))}}};exports.default=_default})),require.register("Layouts/footer.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){return{view:function(_ref){_ref.attrs.mdl;return m("footer.footer.grid.card",m("section.row",m(".col-6",m("h2","Connect with Bonham Acres via"),m(".container.grouped",m("a.row.underline.nav-link",{target:"__blank",href:"https://www.facebook.com/groups/BonhamAcres?modal=false&should_open_composer=false&hoisted_section_header_type=notifications&show_migration_preparation_dialog=false&show_migration_onboarding_dialog=false"},m("img",{style:{width:"50px",height:"50px"},src:"icons/facebook.png"})),m("a.row.underline.nav-link",{target:"__blank",href:"https://nextdoor.com/neighborhood/bonhamacres--houston--tx/"},m("img",{style:{width:"50px",height:"50px"},src:"icons/nextdoor.png"})),m("a.row.underline.nav-link",{target:"__blank",href:"http://mailto:bonhamacrescivicassociation@gmail.com/"},m("img",{style:{width:"50px",height:"50px"},src:"icons/gmail.png"}))),m("p","bonhamacrescivicassociation at gmail dot com"),m("p","P O Box 2886"),m("p","Bellaire, TX 77401")),m(".col-6",m("h3","Useful Links"),m("ul",m("a.row.underline.nav-link",{target:"__blank",href:"https://www.bonhamacres.org/city-ordinances"},"City of Houston City Ordinances"),m("a.row.underline.nav-link",{target:"__blank",href:"https://09ee40f4-9ff7-4e3d-819c-429f2403854d.filesusr.com/ugd/537320_f8abdef644b04cde8dc36f671bb9868f.pdf"},"COH trash facts"),m("a.row.underline.nav-link",{target:"__blank",href:"https://www.houstontx.gov/solidwaste/Recycle_Cal.pdf"},"COH recycling calendar Schedule B"),m("a.row.underline.nav-link",{target:"__blank",href:"https://mycity.maps.arcgis.com/apps/webappviewer/index.html?id=63ed96f439fe404387c9f9e479dc4965"},"COH trash service day"),m("a.row.underline.nav-link",{target:"__blank",href:"http://www.houstontx.gov/solidwaste/treewaste.html"},"COH tree and junk waste program"),m("a.row.underline.nav-link",{target:"__blank",href:"http://www.centerpointenergy.com/en-us/residential/customer-service/electric-outage-center/report-streetlight-outages?sa=ho"},"Streetlight outage repair"),m("a.row.underline.nav-link",{target:"__blank",href:"http://www.hcad.org/"},"Harris County Appraisal District"),m("a.row.underline.nav-link",{target:"__blank",href:"http://www.hcfcd.org/"},"Harris County Flood Control District"),m("a.row.underline.nav-link",{target:"__blank",href:"https://09ee40f4-9ff7-4e3d-819c-429f2403854d.filesusr.com/ugd/537320_2472d77b27c640bfa348613b3aa86c95.pdf"},"Construction in a Floodplain")))))}}};exports.default=_default})),require.register("Layouts/hero.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_images=(obj=require("../images.js"))&&obj.__esModule?obj:{default:obj};var state={image:Stream(0),start:Stream(null),timestamp:void 0},calcHeight=function(_ref){var _ref$state=_ref.state;_ref$state.showNavMenu,_ref$state.distanceFromTop;switch(_ref.settings.screenSize){case"desktop":return"540px";case"tablet":case"wide":case"phone":return"340px"}},calcMargin=function(_ref2){var _ref2$state=_ref2.state;_ref2$state.showNavMenu,_ref2$state.distanceFromTop;switch(_ref2.settings.screenSize){case"desktop":return"150px";case"tablet":return"90px";case"wide":return"70px";case"phone":return"30px"}},updateBackground=function updateBackground(timestamp){Date.now()-state.start()>5e3&&(state.start(Date.now()),state.image()==_images.default.length-1?state.image(0):state.image(state.image()+1),m.redraw()),requestAnimationFrame(updateBackground)},_default=function(){return{onremove:function(){state.images(0),state.start(null),cancelAnimationFrame(updateBackground)},oncreate:function(_ref3){_ref3.attrs.mdl;state.start(Date.now()),requestAnimationFrame(updateBackground)},view:function(_ref4){var mdl=_ref4.attrs.mdl;return m("#hero",{style:{marginTop:calcMargin(mdl)}},_images.default.map((function(image,idx){return m("img.hero-img.animated.fadeout",{key:idx,class:state.image()==idx?"fadeInRight":"fadeOutLeft",onload:function(e){return e.target.classList.replace("fadeout","fadeInRight")},style:{height:calcHeight(mdl),backgroundImage:"url(".concat(image,")"),backgroundSize:"100% 100%"}})})),m("header",m("hgroup",m("h1","Bonham Acres"),m("h2","We are Houstons best kept secret"))))}}};exports.default=_default})),require.register("Layouts/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.fetchAll=void 0;var _hero=_interopRequireDefault(require("./hero.js")),_navbar=_interopRequireDefault(require("./navbar.js")),_subnavbar=_interopRequireDefault(require("./subnavbar.js")),_main=_interopRequireDefault(require("./main.js")),_footer=_interopRequireDefault(require("./footer.js")),_navModal=_interopRequireDefault(require("./nav-modal.js")),_animations=require("Styles/animations.js"),_toolbar=_interopRequireDefault(require("./toolbar.js")),_loginUser=_interopRequireDefault(require("Pages/Auth/login-user.js")),_registerUser=_interopRequireDefault(require("Pages/Auth/register-user.js")),_loader=_interopRequireDefault(require("Components/loader")),_data=_interopRequireDefault(require("data.task")),_ramda=require("ramda");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var state={status:"loading",navDom:null},vertAlign=function(mdl){return mdl.Routes.find((function(r){return mdl.state.navState()==r.id})).children.any()?"":"is-vertical-align"},onLayout=function(mdl){return function(_ref2){var dom=_ref2.dom;return"desktop"==mdl.settings.screenSize&&dom.parentNode.addEventListener("scroll",function(mdl){return function(_ref){var scrollTop=_ref.target.scrollTop;mdl.state.distanceFromTop(scrollTop),scrollTop>=300?(mdl.state.showNavMenu(!0),m.redraw()):(mdl.state.showNavMenu(!1),m.redraw())}}(mdl))}},toEventViewModel=function(event){var start=event.start.split("T");return{image:event.image,startDate:(0,_ramda.head)(start),startTime:(0,_ramda.tail)(start),title:event.title,allDay:event.allDay,objectId:event.objectId}},fetchTask=function(mdl){return function(url){return mdl.http.back4App.getTask(mdl)(url)}},fetchAll=function fetchAll(_ref3){var mdl=_ref3.attrs.mdl;_data.default.of((function(events){return function(images){return function(blogs){return{events:events,images:images,blogs:blogs}}}})).ap(fetchTask(mdl)("Classes/Events").map((0,_ramda.prop)("results")).map((0,_ramda.map)(toEventViewModel))).ap(fetchTask(mdl)("Classes/Gallery").map((0,_ramda.prop)("results"))).ap(fetchTask(mdl)("Classes/Blogs").map((0,_ramda.prop)("results"))).fork((function(e){log("fetchAll - layout - error")(e),504==e.code&&fetchAll({attrs:{mdl:mdl}}),state.status="error"}),(function(_ref4){var events=_ref4.events,images=_ref4.images,blogs=_ref4.blogs;mdl.data.events=events,mdl.data.images=images,mdl.data.blogs=blogs,state.status="loaded"}))};exports.fetchAll=fetchAll;var _default={oninit:fetchAll,view:function(_ref5){var dom,showNav,hide,show,children=_ref5.children,mdl=_ref5.attrs.mdl;return m("#layout",{oncreate:onLayout(mdl),"data-theme":"light",id:"layout",role:"main"},m(_toolbar.default,{mdl:mdl}),"desktop"==mdl.settings.screenSize&&m("nav#navigation.animated",{oncreate:function(_ref6){var dom=_ref6.dom;return state.navDom=dom},style:(dom=state.navDom,showNav=mdl.state.showNavMenu(),hide={position:"unset",top:0},show={position:"sticky",top:"65px"},dom?showNav?(dom.classList.add("fadeOut"),hide):(dom.classList.remove("fadeOut"),show):showNav?hide:show),class:vertAlign(mdl)},m(_navbar.default,{mdl:mdl}),m(_subnavbar.default,{mdl:mdl})),m(_hero.default,{mdl:mdl}),"error"==state.status&&m("p","ERROR"),"loading"==state.status&&m(_loader.default),"loaded"==state.status&&m("section.animated.zoomIn",m(_main.default,{mdl:mdl,children:children})),function(mdl){return"desktop"!==mdl.settings.screenSize&&mdl.state.showNavModal()}(mdl)&&m(_navModal.default,{oncreate:_animations.SlideInLeft,onbeforeremove:_animations.SlideOutRight,mdl:mdl}),"login"==mdl.state.showAuthModal()&&m(_loginUser.default,{mdl:mdl}),"register"==mdl.state.showAuthModal()&&m(_registerUser.default,{mdl:mdl}),m(_footer.default,{mdl:mdl}))}};exports.default=_default})),require.register("Layouts/main.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,children=_ref$attrs.children;return m("main",m("#page-title.is-marginless.bg-primary.text-white.is-vertical-align.is-horizontal-align.is-center",m("p.text-center.p-t-25",mdl.state.route.name)),children)}};exports.default=_default})),require.register("Layouts/nav-modal.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _cjs=require("@mithril-icons/clarity/cjs"),_navLink=_interopRequireDefault(require("Components/nav-link")),_authbox=_interopRequireDefault(require("Components/authbox")),_index=require("Utils/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var navItemstate={onHover:function(){}},toggleRoutes=function(mdl){return function(id){Object.keys(mdl.navState).map((function(k){return id!==k&&mdl.navState[k](!1)})),mdl.navState[id](!mdl.navState[id]())}},NavItem=function(){return{view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,href=_ref$attrs.href,link=_ref$attrs.link,classList=_ref$attrs.classList;return m(_navLink.default,_objectSpread(_objectSpread({mdl:mdl},navItemstate),{},{href:href,link:link,classList:classList}))}}},NavSection=function(_ref2){var _ref2$attrs=_ref2.attrs,mdl=_ref2$attrs.mdl,route=_ref2$attrs.route,toggleRoutes=_ref2$attrs.toggleRoutes,childRoutes=function(mdl,routeIds){return mdl.Routes.filter((function(r){return routeIds.includes(r.id)}))}(mdl,route.children);return{view:function(_ref3){_ref3.attrs.isSelected;return m("details.grid.col-12.text-primary.animated.pointer",{class:"primary",onclick:function(e){return toggleRoutes(mdl)(route.id)}},m("summary.nav-link",route.name),m("nav.row.fade.p-x-l-50",childRoutes.map((function(r){return r.group.includes("external")?m("a.col-12 icon nav-link",{target:"_blank",href:r.external},r.name,m(_cjs.PopOutLine,{margin:"8px",width:"15px",height:"15px"})):m(NavItem,{mdl:mdl,href:r.route,link:r.name,classList:"".concat((0,_index.isActiveRoute)(r.route)," col-12")})}))))}}},_default=function(_ref4){var _domOverlay,_domModal;_ref4.attrs.mdl;return{view:function(_ref5){var mdl=_ref5.attrs.mdl;return m("section.modal-container.animated#nav-modal",{oncreate:function(_ref6){var dom=_ref6.dom;return _domOverlay=dom},onclick:function(e){[_domModal,_domOverlay].includes(e.target)&&mdl.state.showNavModal(!1)}},m("article.modal.card",{oncreate:function(_ref7){var dom=_ref7.dom;return _domModal=dom},id:"nav-modal"},m("header.header",m(_authbox.default,{mdl:mdl})),m("nav.modal-content.row.animated",function(mdl){return mdl.Routes.filter((function(r){return r.group.includes("navmenu")}))}(mdl).map((function(r){return r.children.any()?m(NavSection,{mdl:mdl,route:r,toggleRoutes:toggleRoutes,isSelected:mdl.navState[r.id]}):m(NavItem,{mdl:mdl,href:r.route,link:r.name,classList:"".concat((0,_index.isActiveRoute)(r.route)," col-12")})})))))}}};exports.default=_default})),require.register("Layouts/navbar.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_navLink=(obj=require("Components/nav-link.js"))&&obj.__esModule?obj:{default:obj};var _default={view:function(_ref){var mdl=_ref.attrs.mdl;return m("nav.nav#navbar.is-full-width",function(mdl){return mdl.Routes.filter((function(r){return r.group.includes("navmenu")}))}(mdl).map((function(r){return m(_navLink.default,{onclick:function(e){r.children.any()&&(mdl.state.navState(r.id),e.stopPropagation(),e.preventDefault())},mdl:mdl,role:"button",href:r.route,link:r.name,classList:"primary clear ".concat((a="/".concat(mdl.state.navState()),b=r.route,a==b?"active button outline":""))});var a,b})))}};exports.default=_default})),require.register("Layouts/subnavbar.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_cjs=require("@mithril-icons/clarity/cjs"),_navLink=(obj=require("Components/nav-link.js"))&&obj.__esModule?obj:{default:obj};var _default=function(){var subroutes=function(mdl){return mdl.Routes.filter((function(r){return r.isNav&&r.group.includes(mdl.state.navState())}))};return{view:function(_ref){var mdl=_ref.attrs.mdl;return subroutes(mdl).any()&&m("nav.nav#sub-navbar.is-full-width",subroutes(mdl).map((function(r){return r.group.includes("external")?m("a.clear.nav-link",{target:"_blank",href:r.external},r.name,m(_cjs.PopOutLine,{margin:"8px",width:"15px",height:"15px"})):m(_navLink.default,{mdl:mdl,href:r.route,link:r.name,classList:"clear ".concat((a=mdl.state.subnavState(),b=r.route,a==b?"active":""))});var a,b})))}}};exports.default=_default})),require.register("Layouts/toolbar.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Hamburger=_interopRequireDefault(require("Components/Hamburger.js")),_authbox=_interopRequireDefault(require("Components/authbox.js")),_Utils=require("Utils"),_clarity=require("@mithril-icons/clarity"),_toast=_interopRequireDefault(require("Components/toast"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AuthDisplay=function(_ref){var mdl=_ref.attrs.mdl,route=mdl.state.hasNotifications()?"".concat(mdl.user.routename,"#MESSAGES"):mdl.user.routename;return{view:function(_ref2){var _mdl$user$name,mdl=_ref2.attrs.mdl;return m(m.route.Link,{href:"/account/".concat(route),selector:"a.underline.pointer"},"Welcome ".concat(null===(_mdl$user$name=mdl.user.name)||void 0===_mdl$user$name?void 0:_mdl$user$name.split(" ")[0]),mdl.state.hasNotifications()&&m(_clarity.BellOutlineBadged,{height:"24px",fill:"green"}))}}},_default={view:function(_ref3){var mdl=_ref3.attrs.mdl;return m("nav#toolbar.sticky-nav.is-horizontal-align",{style:{"background-color":mdl.state.showNavModal()?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.9)"}},m(".nav-left.is-left",m("figure.pointer",m(m.route.Link,{selector:"img",id:"nav-logo",href:"/",src:"images/baca-logo.webp"}))),"desktop"==mdl.settings.screenSize?m(".nav-right is-right",mdl.state.showNavMenu()&&m("Button.button success m-r-16",{onclick:function(){return(0,_Utils.ScrollToPageTitle)()}},"Show Menu"),m(_authbox.default,{mdl:mdl})):m(".nav-right is-right",mdl.state.isAuth()&&m(AuthDisplay,{mdl:mdl}),m(_Hamburger.default,{mdl:mdl})),m(_toast.default))}};exports.default=_default})),require.register("Models/Main.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("../Routes/index.js")),_http=_interopRequireDefault(require("Utils/http"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Map={locale:Stream(null),bounds:Stream(encodeURIComponent("-125.5957, 24.36711, -65.39063, 48.944")),defaultBounds:encodeURIComponent("-125.5957, 24.36711, -65.39063, 48.944")},state={paginate:{page:Stream(1),total_pages:Stream(0),total_results:Stream(0)},query:Stream(""),isLoading:Stream(!1),loadingProgress:{max:Stream(null),value:Stream(null)},dragging:{},isAuth:Stream(!1),navSelected:Stream(""),showNavModal:Stream(!1),showNavMenu:Stream(!1),navState:Stream("/"),subnavState:Stream(""),image:Stream(0),fab:Stream(0),editBlog:Stream(!1),showAuthModal:Stream(!1),selectedPreviewEvent:Stream(null),distanceFromTop:Stream(0),anchor:void 0,hasNotifications:Stream(!1)},_default={Map:Map,http:_http.default,Routes:_index.default,state:state,user:{role:"user"},data:{events:[],images:[],blogs:[]},errors:{},settings:{},paypal:{},toggleUserModal:function(mdl){return mdl.state.showUserModal(!mdl.state.showUserModal())},toggleAuthModal:function(mdl){return mdl.state.showAuthModal(!mdl.state.showAuthModal())},toggleNavModal:function(mdl){return mdl.state.showNavModal(!mdl.state.showNavModal())}};exports.default=_default})),require.register("Models/index.js",(function(exports,require,module){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=((obj=require("./Main"))&&obj.__esModule?obj:{default:obj}).default;exports.default=_default})),require.register("Pages/Account/dues.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_paypal=(obj=require("./paypal"))&&obj.__esModule?obj:{default:obj},_table=require("Components/table.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var state={paypal:null},_default={view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,reload=_ref$attrs.reload;return m("section.p-y-50",m(_paypal.default,{mdl:mdl,data:mdl.data.profile,status:state,reload:reload}),mdl.data.dues.any()&&m(_table.Table,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({mdl:mdl},(0,_table.formatDataForTable)(["userId","objectId","createdAt","updatedAt"],mdl.data.dues))))}};exports.default=_default})),require.register("Pages/Account/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _profile=_interopRequireDefault(require("./profile")),_dues=_interopRequireDefault(require("./dues")),_messages=_interopRequireDefault(require("./messages")),_model=require("./model");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=function(_ref){var _mdl$state$anchor,_mdl$state,mdl=_ref.attrs.mdl,state={tab:null!==(_mdl$state$anchor=null===(_mdl$state=mdl.state)||void 0===_mdl$state?void 0:_mdl$state.anchor)&&void 0!==_mdl$state$anchor?_mdl$state$anchor:"PROFILE",status:"loading"},loadAll=function(mdl){(0,_model.loadAllTask)(mdl).fork((function(e){state.status="error",console.error("issues w fetching data",e)}),(function(_ref2){var profile=_ref2.profile,dues=_ref2.dues,messages=_ref2.messages;mdl.data.profile=profile,mdl.data.dues=dues,mdl.data.messages=messages,state.status="success"}))};return{oninit:function(_ref3){var mdl=_ref3.attrs.mdl;return loadAll(mdl)},view:function(_ref4){var mdl=_ref4.attrs.mdl;return m("section","error"==state.status&&m("ERROR"),"loading"==state.status&&m("loading"),"success"==state.status&&m("section",m("nav.tabs",(mdl.user.role,["PROFILE","DUES","MESSAGES"]).map((function(tab){return m(m.route.Link,{class:state.tab==tab?"active tab.pointer":"tab.pointer",href:"/account/".concat(mdl.user.routename,"/#").concat(tab)},tab.toUpperCase())}))),m("section.container","PROFILE"==state.tab&&m(_profile.default,{mdl:mdl}),"DUES"==state.tab&&m(_dues.default,{mdl:mdl,reload:loadAll}),"MESSAGES"==state.tab&&m(_messages.default,{mdl:mdl}))))}}};exports.default=_default})),require.register("Pages/Account/messages.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _table=require("Components/table.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _default={view:function(_ref){var mdl=_ref.attrs.mdl;return m(_table.Table,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({mdl:mdl},(0,_table.formatDataForTable)([],mdl.data.messages)))}};exports.default=_default})),require.register("Pages/Account/model.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadAllTask=void 0;var _ramda=require("ramda"),_data=_interopRequireDefault(require("data.task")),_dayjs=_interopRequireDefault(require("dayjs")),_advancedFormat=_interopRequireDefault(require("dayjs/plugin/advancedFormat"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_dayjs.default.extend(_advancedFormat.default);var toDuesVM=function(dues){return dues.date=new Date(dues.date).toString().split(" ").splice(0,4).join(" "),dues},toMessagesVM=function(msgs){return msgs};exports.loadAllTask=function(mdl){var id=encodeURI('where={"userId":"'.concat(mdl.user.objectId,'"}'));return _data.default.of((function(profile){return function(dues){return function(messages){return{profile:profile,dues:dues,messages:messages}}}})).ap(function(mdl){return function(id){return mdl.http.back4App.getTask(mdl)("classes/Accounts?".concat(id)).map((0,_ramda.prop)("results")).map(_ramda.head).map((_ref=mdl.user,emailVerified=_ref.emailVerified,email=_ref.email,name=_ref.name,function(_ref2){var objectId=_ref2.objectId,avatar=_ref2.avatar;return{objectId:objectId,address:_ref2.address,emailVerified:emailVerified,email:email,name:name,avatar:avatar}}));var _ref,emailVerified,email,name}}(mdl)(id)).ap(function(mdl){return function(id){return mdl.http.back4App.getTask(mdl)("classes/Dues?".concat(id)).map((0,_ramda.prop)("results")).map((0,_ramda.map)(toDuesVM)).map(_ramda.reverse)}}(mdl)(id)).ap(function(mdl){return function(id){return mdl.http.back4App.getTask(mdl)("classes/Messages?".concat(id)).map((0,_ramda.prop)("results")).map(function(mdl){return function(msgs){return mdl.state.hasNotifications(msgs.any()),msgs}}(mdl)).map((0,_ramda.map)(toMessagesVM))}}(mdl)(id))}})),require.register("Pages/Account/paypal.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj},_ramda=require("ramda"),_toast=require("Components/toast");var _default=function(_ref2){var _ref2$attrs=_ref2.attrs,mdl=_ref2$attrs.mdl,reload=_ref2$attrs.reload,state={paydues:!1},togglePaypal=function(){return state.paydues=!state.paydues},makePayment=function(actions){(function(actions){return new _data.default((function(rej,res){return actions.order.capture().then(res,rej)}))})(actions).map(function(mdl){return function(_ref){var create_time=_ref.create_time,status=_ref.status,email_address=_ref.payer.email_address,_ref$purchase_units$=_ref.purchase_units[0].shipping,address=_ref$purchase_units$.address;return{date:create_time,status:status,full_name:_ref$purchase_units$.name.full_name,email:email_address,address:(0,_ramda.values)(address).join(" "),userId:mdl.user.objectId}}}(mdl)).chain(function(mdl){return function(invoice){return mdl.http.back4App.postTask(mdl)("classes/Dues")(invoice)}}(mdl)).fork(function(mdl,state){return function(error){addError("Dues Were NOT Successfully Paid"),log("on onErrpr",[state,error])}}(0,state),function(mdl,reload){return function(data){(0,_toast.addSuccess)("Dues Successfully Paid"),log("on success",[state,data]),reload(mdl)}}(mdl,reload))};return{view:function(_ref3){var _ref3$attrs=_ref3.attrs,status=(_ref3$attrs.mdl,_ref3$attrs.status);return m("section",state.paydues?m("#payment-request-button",{oncreate:function(_ref4){var dom=_ref4.dom;paypal.Buttons({style:{shape:"rect",color:"silver",layout:"vertical",label:"pay"},createOrder:function(data,actions){return actions.order.create({purchase_units:[{amount:{currency_code:"USD",value:50}}]})},onApprove:function(data,actions){return status.paypal="start",makePayment(actions)}}).render(dom)}},m("button.button",{onclick:togglePaypal},"Close")):m("button.button",{onclick:togglePaypal},"Pay Dues"))}}};exports.default=_default})),require.register("Pages/Account/profile.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=require("Utils/index.js"),_ramda=require("ramda"),_toast=require("Components/toast");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var state={files:[],locations:[],address:"",status:""},onError=function(x){log("on error  profile")(x)},onSuccess=function(_){return(0,_toast.addSuccess)("Image uploaded successfully")},updateProfileTask=function(mdl){return function(data){return mdl.http.back4App.putTask(mdl)("Classes/Accounts/".concat(mdl.data.profile.objectId))(data)}},_default=function(_ref2){var mdl=_ref2.attrs.mdl;return log("mdl - profile page")(mdl),{view:function(_ref3){var data,profile,mdl=_ref3.attrs.mdl;return m("section.p-y-50",m("article.row",function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},(profile=mdl.data.profile,(0,_index.handlers)(["oninput"],(function(e){return"checkbox"==e.target.type?profile[e.target.id]=JSON.parse(e.target.checked):"file"==e.target.id?profile[e.target.id]=e.target.files[0]:profile[e.target.id]=e.target.value})))),m("figure.col",m("img.avatar",{src:(data=mdl.data.profile,data.avatar&&!data.avatar.includes("fake")?data.avatar:_index.AVATAR_URL)}),m("figcaption",{style:{width:"180px"}},mdl.data.profile.avatar?m("button.button",{style:{borderColor:"var(--color-error)",color:"var(--color-error)"},onclick:function(e){return function(mdl,data){data.avatar=null,updateProfileTask(mdl)(data).fork(log("e"),(function(){return(0,_toast.addSuccess)("Image deleted",5e3)}))}(mdl,mdl.data.profile)}},"Remove Profile Pic"):m("label.button",{label:"profile-pic"},"Add profile picture",m("input",{style:{display:"none"},type:"file",id:"avatar",value:state.files,onchange:function(e){return function(mdl){return function(file){mdl.http.imgBB.postTask(mdl)(file[0]).map((0,_ramda.path)(["data","thumb","url"])).map((function(avatar){return state.avatar=avatar,{avatar:avatar}})).chain(updateProfileTask(mdl)).map((function(){return mdl.data.profile.avatar=state.avatar})).fork(onError,onSuccess)}}(mdl)(e.target.files)}})))),m("form.col",!mdl.data.profile.emailVerified&&m("label.warning","email not verified"),m("label","name",m("input",{id:"name",value:mdl.data.profile.name})),m("label","email",m("input",{id:"email",value:mdl.data.profile.email})),m("label.icon","Address",m("input",{oninput:function(e){e.target.value.length>3&&(state.status="isloading",mdl.http.openCage.getLocationTask(mdl)(e.target.value.trim()).fork((function(e){state.status="error",log("error fetching locations")(e)}),(function(_ref4){var results=_ref4.results;state.status="loaded",state.locations=results})))},id:"address",value:mdl.data.profile.address})),state.locations.any()&&m("details.dropdown",m("summary.button.outline","Address Suggestions"),m(".card",m("ul",state.locations.map((function(_ref5){var formatted=_ref5.formatted;return m("li.pointer",{onclick:function(e){mdl.data.profile.address=formatted,state.locations=[]}},formatted)}))))))),m(".nav",m(".nav-left",m("button.button.primary",{onclick:function(){return function(mdl){return function(_ref){var name=_ref.name,email=_ref.email,address=_ref.address;return updateProfileTask(mdl)({name:name,email:email,address:address}).fork(onError,onSuccess)}}(mdl)(mdl.data.profile)}},"Update"))))}}};exports.default=_default})),require.register("Pages/Admin/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ramda=require("ramda"),_table=require("Components/table.js"),_cjs=require("@mithril-icons/clarity/cjs");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var state={tab:"blogs"},displayType={users:function(_ref){var objectId=_ref.objectId,email=_ref.email,emailVerified=_ref.emailVerified,name=_ref.name,role=_ref.role;return{name:name,username:_ref.username,email:email,emailVerified:emailVerified,role:role,action:[m(_cjs.EditLine,{onclick:function(){return console.log("edit",objectId)}}),m(_cjs.RemoveLine,{onclick:function(){return console.log(objectId,"delete")}})]}},events:function(_ref2){var objectId=_ref2.objectId,title=_ref2.title,image=_ref2.image,startDate=_ref2.startDate,startTime=_ref2.startTime;return{title:title,image:m("img",{src:image}),startDate:startDate,startTime:startTime,action:[m(_cjs.EditLine,{onclick:function(){return console.log("edit",objectId)}}),m(_cjs.RemoveLine,{onclick:function(){return console.log(objectId,"delete")}})]}},blogs:function(_ref3){var objectId=_ref3.objectId,title=_ref3.title,img=_ref3.img,text=_ref3.text,author=_ref3.author;return{title:title,img:m("img",{style:{maxWidth:"150px"},src:img}),text:text.slice(0,300),author:author,action:[m(_cjs.EditLine,{onclick:function(){return console.log("edit",objectId)}}),m(_cjs.RemoveLine,{onclick:function(){return console.log(objectId,"delete")}})]}},images:function(_ref4){var objectId=_ref4.objectId,album=_ref4.album,image=_ref4.image;return{album:album,image:m("img",{style:{maxWidth:"150px"},src:image}),action:[m(_cjs.EditLine,{onclick:function(){return console.log("edit",objectId)}}),m(_cjs.RemoveLine,{onclick:function(){return console.log(objectId,"delete")}})]}}},toViewmodel=function(state,mdl){var tab,data=mdl.data[state.tab].map((tab=state.tab,function(data){return displayType[tab](data)}));return(0,_table.formatDataForTable)([],data)},_default=function(){return{oninit:function(_ref5){var mdl=_ref5.attrs.mdl;return"admin"==mdl.user.role&&function(mdl){return mdl.http.back4App.getTask(mdl)("Users").map((0,_ramda.prop)("results")).map((0,_ramda.filter)((0,_ramda.prop)("name"))).fork(log("error"),(function(u){return mdl.data.users=u}))}(mdl)},view:function(_ref6){var role,tabs,mdl=_ref6.attrs.mdl;return m("section",m("nav.tabs",(role=mdl.user.role,tabs=["blogs","events","images"],"admin"==role&&tabs.push("users"),tabs).map((function(tab){return m("a.tab.pointer",{class:state.tab==tab?"active":"",onclick:function(){return state.tab=tab}},tab.toUpperCase())}))),m("section.container",m(_table.Table,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({mdl:mdl},toViewmodel(state,mdl)))))}}};exports.default=_default})),require.register("Pages/Admin/users.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Users=void 0;var _ramda=require("ramda");exports.Users=function(){var state={users:[],errors:null};return{oninit:function(_ref){var mdl=_ref.attrs.mdl;return mdl.http.back4App.getTask(mdl)("Users").map((0,_ramda.prop)("results")).map((0,_ramda.filter)((0,_ramda.prop)("name"))).fork(log("error"),(function(u){return state.users=u}))},view:function(_ref2){var mdl=_ref2.attrs.mdl;return m("table.dash-table",m("thead",m("th"),m("th","is Admin")),state.users.map((function(user){return m("tr.mt-5",m("td",m("label",user.name)),m("td.frow.text-center",m("input",{type:"checkbox",checked:user.isAdmin,onclick:function(){user.isAdmin=!user.isAdmin,function(mdl){return function(user){log("user")(user),mdl.http.back4App.putTask(mdl)("Users/".concat(user.objectId))({role:user.role}).fork(log("error"),log("succes"))}}(mdl)(user)}})))})))}}}})),require.register("Pages/Auth/Validations.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateLoginTask=exports.validateUserRegistrationTask=void 0;var _ramda=require("ramda"),_data=require("data.validation"),_Utils=require("Utils"),ValidateRegistration=(0,_data.Success)((0,_ramda.curryN)(3,_ramda.identity)),ValidateLogin=(0,_data.Success)((0,_ramda.curryN)(2,_ramda.identity)),nameLense=(0,_ramda.lensProp)("name"),passwordLense=(0,_ramda.lensProp)("password"),passwordConfirmLense=(0,_ramda.lensProp)("confirmPassword"),emailLense=(0,_ramda.lensProp)("email"),emailConfirmLense=(0,_ramda.lensProp)("confirmEmail"),inputsMatch=function(input1){return function(input2){return input2===input1}};exports.validateUserRegistrationTask=function(data){return ValidateRegistration.ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,nameLense,"A Name is required",data))}(data)).ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,emailLense,"An Email is required",data)).apLeft((0,_Utils.validate)(_Utils.isRequired,emailConfirmLense,"An Email is required",data)).apLeft((0,_Utils.validate)(inputsMatch(data.confirmEmail),emailLense,"Emails do not match",data)).apLeft((0,_Utils.validate)(inputsMatch(data.email),emailConfirmLense,"Emails do not match",data)).apLeft((0,_Utils.validate)(_Utils.emailFormat,emailConfirmLense,"Email must be a valid format",data)).apLeft((0,_Utils.validate)(_Utils.emailFormat,emailLense,"Email must be a valid format",data))}(data)).ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,passwordLense,"A Password is required",data)).apLeft((0,_Utils.validate)(_Utils.isRequired,passwordConfirmLense,"A Password is required",data)).apLeft((0,_Utils.validate)(inputsMatch(data.password),passwordConfirmLense,"Passwords do not match",data)).apLeft((0,_Utils.validate)(inputsMatch(data.confirmPassword),passwordLense,"Passwords do not match",data))}(data)).failureMap(_ramda.mergeAll).toTask()};exports.validateLoginTask=function(data){return ValidateLogin.ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,emailLense,"An Email is required",data)).apLeft((0,_Utils.validate)(_Utils.emailFormat,emailLense,"Email must be a valid format",data))}(data)).ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,passwordLense,"A Password is required",data))}(data)).failureMap(_ramda.mergeAll).toTask()}})),require.register("Pages/Auth/fns.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMessagesTask=exports.createDuesTask=exports.createAccountTask=exports.registerUserTask=exports.resetPasswordTask=exports.loginTask=exports.loginUserTask=void 0;var obj,_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj},_ramda=require("ramda");var loginUserTask=function(mdl){return function(_ref){var email=_ref.email,password=_ref.password,login=encodeURI("username=".concat(email,"&password=").concat(password));return mdl.http.back4App.getTask(mdl)("login?".concat(login)).map(function(mdl){return function(user){return sessionStorage.setItem("baca-user",JSON.stringify(user.objectId)),sessionStorage.setItem("baca-session-token",user.sessionToken),mdl.state.isAuth(!0),mdl.user=user,mdl.user.routename=mdl.user.name.replaceAll(" ",""),mdl}}(mdl))}};exports.loginUserTask=loginUserTask;var getUserInfoTask=function(mdl){var encodeId=encodeURI('where={"userId":"'.concat(mdl.user.objectId,'"}'));return _data.default.of((function(account){return function(dues){return function(messages){mdl.data.account=account,mdl.data.dues=dues,mdl.data.messages=messages}}})).ap(function(mdl){return function(encodeId){return mdl.http.back4App.getTask(mdl)("classes/Accounts?".concat(encodeId)).map((0,_ramda.prop)("results")).chain((function(account){return account.any()?_data.default.of(account):createAccountTask(mdl)})).map(_ramda.head)}}(mdl)(encodeId)).ap(function(mdl){return function(encodeId){return mdl.http.back4App.getTask(mdl)("classes/Dues?".concat(encodeId)).map((0,_ramda.prop)("results")).chain((function(dues){return dues.any()?_data.default.of(dues):createDuesTask(mdl)}))}}(mdl)(encodeId)).ap(function(mdl){return function(encodeId){return mdl.http.back4App.getTask(mdl)("classes/Messages?".concat(encodeId)).map((0,_ramda.prop)("results")).chain((function(messages){return messages.any()?function(){var hasNotifications=messages.filter((function(message){return!message.hasRead}));return mdl.state.hasNotifications(hasNotifications.any()),_data.default.of(messages)}:createMessagesTask(mdl)}))}}(mdl)(encodeId))};exports.loginTask=function(mdl){return function(_ref2){var email=_ref2.email,password=_ref2.password;return loginUserTask(mdl)({email:email,password:password}).chain((function(_){return getUserInfoTask(mdl)}))}};exports.resetPasswordTask=function(mdl,email){return mdl.http.back4App.postTask(mdl)("requestPasswordReset")({email:email})};exports.registerUserTask=function(mdl){return function(_ref3){var name=_ref3.name,email=_ref3.email,password=_ref3.password,role=_ref3.role;return mdl.http.back4App.postTask(mdl)("users")({username:email,name:name,email:email,password:password,role:role})}};var createAccountTask=function(mdl){return mdl.user.account={address:"",avatar:""},mdl.http.back4App.postTask(mdl)("classes/Accounts")({userId:mdl.user.objectId,avatar:"",address:""}).map((function(_ref4){var objectId=_ref4.objectId;return mdl.user.account.objectId=objectId,mdl}))};exports.createAccountTask=createAccountTask;var createDuesTask=function(mdl){return mdl.user.dues={},mdl.http.back4App.postTask(mdl)("classes/Dues")({userId:mdl.user.objectId,address:""}).map((function(_ref5){var objectId=_ref5.objectId;return mdl.user.dues.objectId=objectId,mdl}))};exports.createDuesTask=createDuesTask;var createMessagesTask=function(mdl){return mdl.user.conversations={},mdl.http.back4App.postTask(mdl)("classes/Conversations")({userId:mdl.user.objectId}).map((function(_ref6){var objectId=_ref6.objectId;return mdl.user.conversations.objectId=objectId,mdl}))};exports.createMessagesTask=createMessagesTask})),require.register("Pages/Auth/login-user.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Login=void 0;var obj,_navLink=(obj=require("Components/nav-link"))&&obj.__esModule?obj:{default:obj},_Utils=require("Utils"),_Validations=require("./Validations.js"),_fns=require("./fns.js");var dataModel={userModel:{name:"",email:"",password:"",confirmEmail:"",confirmPassword:"",role:"user"}},state={isSubmitted:!1,errors:{},httpError:void 0,data:(0,_Utils.jsonCopy)(dataModel),showMsg:Stream(!1),msg:Stream(""),showResetModal:Stream(!1)},Login=function(){return{onremove:function(){return state.data=(0,_Utils.jsonCopy)(dataModel),state.errors={},state.httpError=void 0,state.isSubmitted=!1,state.showMsg(!1),state.msg(""),void state.showResetModal(!1)},view:function(_ref2){var mdl=_ref2.attrs.mdl;return mdl.state.isLoading()?"":m("section.container.p-y-50",state.showMsg()&&m("p.text-error",state.msg()),m("article.card","phone"!=mdl.settings.screenSize&&{style:{maxWidth:"80%",margin:"0 auto"}},m("form.row",{role:"form",id:"login-form",onsubmit:function(e){return e.preventDefault()}},m("formgroup.col-12",m("input",{class:state.isSubmitted?state.errors.email?"error":"success":"",id:"reg-email",type:"email",autocomplete:"username",placeholder:"Email",oninput:function(e){state.data.userModel.email=e.target.value},value:state.data.userModel.email}),state.errors.email&&m("p.text-error",state.errors.email)),m("formgroup.col-12",m("input",{class:state.isSubmitted?state.errors.password?"error":"success":"",id:"reg-pass",type:"password",autocomplete:"current-password",placeholder:"Password",oninput:function(e){state.data.userModel.password=e.target.value},value:state.data.userModel.password}),state.errors.password&&m("p.text-error",state.errors.password))),m("button.button.primary.is-center",{role:"button",form:"login-form",onclick:function(){return function(mdl){return function(data){state.isSubmitted=!0,(0,_Validations.validateLoginTask)(data.userModel).chain((0,_fns.loginTask)(mdl)).fork((function(errs){209!=errs.code?(state.errors=errs,state.msg(state.errors.response.error),state.showMsg(!0)):(state.msg("There seems to be an issue with logging in. Have you registered or verified your email?"),state.showMsg(!0))}),(function(_){state.errors={},m.route.set("/")}))}}(mdl)(state.data)},class:mdl.state.isLoading()&&"loading"},"LOGIN"),m("p.pointer.text-primary",{onclick:function(){return state.showResetModal(!0)}},"Need to reset password ?"),state.showResetModal()&&m("section.modal-container#modal",m("article.modal.card.grid",m("header.modal-header","Reset Password",m("button.button.icon-only",{id:"modal-close","aria-label":"Close",onclick:function(){return state.showResetModal(!1)}},"X")),m("section.modal-content",m("input",{type:"email",autocomplete:"username",placeholder:"Enter Email",value:state.data.userModel.email,oninput:function(e){return state.data.userModel.email=e.target.value}})),m("section.modal-footer",m("button",{onclick:function(){return function(mdl,email){(0,_fns.resetPasswordTask)(mdl,email).fork((function(_ref){var message=_ref.message;state.msg(message),state.showMsg(!0),state.showResetModal(!1)}),(function(){state.showResetModal(!1),state.msg("A password reset request was sent to the email provided, please check your email to reset your password."),state.showMsg(!0)}))}(mdl,state.data.userModel.email)}},"Reset Password")))),state.httpError&&m(".toast toast-error",state.httpError)),m(".auth-link","Need to ",m("u",m(_navLink.default,{mdl:mdl,href:"/register",link:"register",classList:""}))," ?"))}}};exports.Login=Login;var _default=Login;exports.default=_default})),require.register("Pages/Auth/register-user.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Register=exports.validateForm=void 0;var _navLink=_interopRequireDefault(require("Components/nav-link")),_Utils=require("Utils"),_Validations=require("./Validations"),_fns=require("./fns.js"),_mithrilStream=_interopRequireDefault(require("mithril-stream"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dataModel={userModel:{name:"",email:"",password:"",confirmEmail:"",confirmPassword:"",role:"user"}},state={isSubmitted:!1,errors:{},httpError:void 0,data:(0,_Utils.jsonCopy)(dataModel),showErrorMsg:(0,_mithrilStream.default)(!1),errorMsg:(0,_mithrilStream.default)(""),countdown:(0,_mithrilStream.default)(10)},validateForm=function(mdl){return function(data){state.isSubmitted=!0,(0,_Validations.validateUserRegistrationTask)(data).chain((0,_fns.registerUserTask)(mdl)).fork((function(errs){errs?(state.errors=errs,state.errorMsg(state.errors.response.error),state.showErrorMsg(!0),console.log("failed - state",state)):(state.errorMsg("There seems to be an ssue with logging in. Have you registered?"),state.showErrorMsg(!0),console.log("failed - state",state))}),(function(mdl){state.errors={},state.errorMsg("Successfully registered - please check the email you used to register with for the verification link. After you have verified you may login, if you are not redirected to the login page in ".concat(state.countdown()," seconds, click the login link below.")),state.showErrorMsg(!0),setTimeout((function(){return m.route.set("/login")}),1e4)}))}};exports.validateForm=validateForm;var Register=function(){return{onremove:function(){return state.data.userModel=(0,_Utils.jsonCopy)(dataModel),state.errors={},state.httpError=void 0,state.isSubmitted=!1,state.showErrorMsg(!1),void state.errorMsg("")},view:function(_ref){var mdl=_ref.attrs.mdl;return m("section.container.p-y-50",state.showErrorMsg()&&m("p.warning",state.errorMsg()),m("article.card","phone"!=mdl.settings.screenSize&&{style:{maxWidth:"80%",margin:"0 auto"}},m("form.row",{role:"form",id:"register-form",onsubmit:function(e){return e.preventDefault()}},m("formgroup.col-12",m("",{class:"phone"==mdl.settings.screenSize&&"col-5"},m("input",{class:state.isSubmitted?state.errors.name?"error":"success":"",id:"reg-name",type:"text",placeholder:"Full Name",oninput:function(e){return state.data.userModel.name=e.target.value},value:state.data.userModel.name})),state.errors.name&&m("p.text-error",state.errors.name)),m("formgroup.row.col-12",m(".col-6",m("input",{class:state.isSubmitted?state.errors.email?"error":"success":"",id:"reg-email",type:"email",autocomplete:"username",placeholder:"Email",oninput:function(e){return state.data.userModel.email=e.target.value},value:state.data.userModel.email}),state.errors.email&&m("p.text-error",state.errors.email)),m(".col-6",m("input",{id:"confirmEmail",class:state.isSubmitted?state.errors.confirmEmail?"error":"success":"",type:"email",autocomplete:"username",placeholder:"Confirm Email",oninput:function(e){return state.data.userModel.confirmEmail=e.target.value},value:state.data.userModel.confirmEmail}),state.errors.confirmEmail&&m("p.text-error",state.errors.confirmEmail))),m("formgroup.row.col-12",m(".col-6",m("input",{class:state.isSubmitted?state.errors.password?"error":"success":"",id:"reg-pass",type:"password",autocomplete:"new-password",placeholder:"Password",oninput:function(e){return state.data.userModel.password=e.target.value},value:state.data.userModel.password}),state.errors.password&&m("p.text-error",state.errors.password)),m(".col-6",m("input",{class:state.isSubmitted?state.errors.confirmPassword?"error":"success":"",id:"pass-confirm",type:"password",autocomplete:"new-password",placeholder:"Confirm Password",oninput:function(e){return state.data.userModel.confirmPassword=e.target.value},value:state.data.userModel.confirmPassword}),state.errors.confirmPassword&&m("p.text-error",state.errors.confirmPassword))),m("button.button.primary.col-12",{form:"register-form",onclick:function(){return validateForm(mdl)(state.data.userModel)},class:mdl.state.isLoading()&&"loading"},"Register"))),m(".auth-link","Need to ",m(_navLink.default,{mdl:mdl,href:"/login",link:"Login",classList:""})," ?"),state.httpError&&m(".toast toast-error",state.httpError))}}};exports.Register=Register;var _default=Register;exports.default=_default})),require.register("Pages/Blog/blog-editor.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_Utils=require("Utils"),_fns=require("./fns"),_loader=(obj=require("Components/loader.js"))&&obj.__esModule?obj:{default:obj};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var state={status:"loading",objectId:null,title:"",author:"",text:"",img:"",thumb:"",file:null,showModal:Stream(!1),images:[],modalState:Stream("upload"),showPreview:Stream(!1),isEditing:Stream(!1),showHelp:Stream(!1),errors:{img:null}},fetchBlogImages=function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,state=_ref$attrs.state;mdl.http.back4App.getTask(mdl)("Classes/Gallery").fork((function(e){return log("fetchBlogImages - error")(e)}),(function(_ref2){var results=_ref2.results;return state.images=results}))},setupEditor=function(_ref3){var mdl=_ref3.attrs.mdl,id=m.route.get().split(":")[1];(0,_Utils.exists)(id)&&(state.isEditing(!0),mdl.http.back4App.getTask(mdl)("Classes/Blogs/".concat(id)).fork((function(e){log("setupEditor error")(e),state.status="error",404==e.code&&m.route.set("/social/blog")}),(function(_ref4){var title=_ref4.title,text=_ref4.text,img=_ref4.img,thumb=_ref4.thumb,objectId=_ref4.objectId;state.title=title,state.text=text,state.img=img,state.thumb=thumb,state.objectId=objectId,state.editor.then((function(e){return e.setData(text)})),state.status="loaded"})))},initEditor=function(state){return function(_ref5){var dom=_ref5.dom;state.editor=ClassicEditor.create(dom,{toolbar:["heading","selectAll","undo","redo","bold","italic","blockQuote","link","indent","outdent","numberedList","bulletedList","mediaEmbed","insertTable","tableColumn","tableRow","mergeTableCells"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"}]}}),state.editor.then((function(e){return e.setData(state.text)}))}},uploadImage=function(mdl){return function(file){mdl.http.imgBB.postTask(mdl)(file).chain((0,_fns.saveImgToGalleryTask)(mdl)).fork((function(e){return state.errors.img=e}),(function(_ref6){var image=_ref6.image,thumb=_ref6.thumb;state.img=image,state.thumb=thumb,state.showModal(!1)}))}},assignImg=function(img,thumb){state.img==img?(state.img="",state.thumb=""):(state.img=img,state.thumb=thumb)},Modal=function(){return{onremove:function(){return(0,_fns.resetModalState)(state)},oninit:fetchBlogImages,view:function(_ref8){var _ref8$attrs=_ref8.attrs,mdl=_ref8$attrs.mdl,state=_ref8$attrs.state;return m("section.modal-container",m("article.modal.card.grid",m("header.modal-header",m("nav",m(".tabs",m("a.pointer.".concat("upload"==state.modalState()?"active":""),{onclick:function(e){e.stopPropagation(),state.modalState("upload")}},"Upload New Image"),m("a.pointer.".concat("select"==state.modalState()?"active":""),{onclick:function(e){e.stopPropagation(),state.modalState("select")}},"Select From Database")))),m("section.modal-content",m("form.grid","upload"==state.modalState()?m("input",{type:"file",id:"file"}):state.images.map((function(_ref9){var image=_ref9.image,thumb=_ref9.thumb;return m("figure.col-6.button.".concat(thumb==state.thumb?"primary":"outline"),{onclick:function(e){e.preventDefault(),e.stopPropagation(),assignImg(image,thumb)}},m("img",{src:thumb}))})))),m("section.modal-footer",m(".tabs grouped",m("button.button",{onclick:function(){return state.showModal(!1)}},"Cancel"),m("button.button.primary",{onclick:function(e){e.preventDefault(),function(mdl){return function(state){return state.file?uploadImage(mdl)(state.file):state.showModal(!1)}}(mdl)(state)},role:"button",disabled:!state.file&&!(0,_Utils.exists)(state.img)},"select"==state.modalState()?"Use":"Upload")))))}}},_default=function(){return{onremove:function(){return(0,_fns.resetEditorState)(state)},oninit:setupEditor,view:function(_ref10){var mdl=_ref10.attrs.mdl;return m(".grid","loading"==state.status&&m(_loader.default),"error"==state.status&&m("p","Error - redirecting"),state.status=m("form.container",function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},(0,_fns.onInput)(state)),m("section",m("label","Title",m("input",{id:"title",value:state.title}))),m("section",state.thumb&&m("aside.col-6",m("img.col-12",{src:state.thumb}),m("button.primary.col-12",{onclick:function(e){e.preventDefault(),state.thumb="",state.img=""}},"Remove image")),m(".col-12",m("button.primary.col-6",{onclick:function(e){e.preventDefault(),state.showModal(!state.showModal())}},state.thumb?"Update Image":"Add An Image"))),state.showModal()&&m(Modal,{state:state,mdl:mdl}),m("section",m("#editor.fr-view",{onupdate:function(e){return state.editor.then((function(e){return state.text=e.getData()}))},oncreate:initEditor(state)})),m("nav.container.grouped.is-center",m(m.route.Link,{selector:"button.button.secondary",href:state.objectId?"/social/blog-post:".concat(state.objectId):"/social/blog"},"Cancel"),m("button.button.primary",{disabled:(0,_fns.isInvalid)(state),onclick:function(e){e.preventDefault(),function(mdl){return function(_ref7){var title=_ref7.title,img=_ref7.img,text=_ref7.text,thumb=_ref7.thumb,objectId=_ref7.objectId,dto={title:title,img:img,text:text,author:mdl.user.name,thumb:thumb};(objectId?mdl.http.back4App.putTask(mdl)("Classes/Blogs/".concat(objectId))(dto):mdl.http.back4App.postTask(mdl)("Classes/Blogs")(dto)).fork((function(e){return console.log("e",e)}),(function(data){return m.route.set("/social/blog-post:".concat(objectId||data.objectId))}))}}(mdl)(state)}},state.objectId?"Update":"Submit"),state.isEditing()&&m("button.button.error",{onclick:function(e){e.preventDefault(),(0,_fns.deleteBlog)(mdl)(state.objectId)}},"Delete"))))}}};exports.default=_default})),require.register("Pages/Blog/blog-post.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _cjs=require("@mithril-icons/clarity/cjs"),_Utils=require("Utils"),_htmlSanitize=_interopRequireDefault(require("Utils/html-sanitize")),_blog=require("./blog"),_loader=_interopRequireDefault(require("Components/loader.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var state={status:"loading",blog:null,comments:null,new:{comment:""}},Post={view:function(_ref){var _ref$attrs=_ref.attrs,blog=_ref$attrs.blog,mdl=_ref$attrs.mdl;return m("section.card",m(".row",m("hgroup.col",m("h2.bold",blog.title),m("h4",m("i","Added On ",blog.createdAt,blog.updatedAt!==blog.createdAt&&[" and updated on: ",blog.updatedAt]," by ",blog.author))),m("figure.col-3.is-horizontal-align",m("img",{src:blog.thumb||"images/main.webp"}))),m("hgroup.col",m.trust(_htmlSanitize.default.SanitizeHtml((0,_Utils.parseMarkdown)(blog.text)))),blog.author==mdl.user.name&&m("footer.grouped",m(m.route.Link,{selector:"button.button.primary.icon",href:"/social/blog-editor:".concat(blog.objectId)},"Edit",m(_cjs.NoteEditLine,{fill:"white"})),m("button.button.error",{onclick:function(){return deleteBlog(mdl)}},"Delete")))}},toBlogs=function(){return m.route.set("/social/blog")},deleteBlog=function(mdl){return mdl.http.back4App.deleteTask(mdl)("Classes/Blogs/".concat(state.blog.objectId)).fork(toBlogs,toBlogs)},_default={oninit:function(_ref2){var _ref2$attrs=_ref2.attrs,mdl=_ref2$attrs.mdl,id=_ref2$attrs.id;mdl.http.back4App.getTask(mdl)("Classes/Blogs/".concat(id)).map(Array.of).map(_blog.toViewModel).fork((function(e){log("fetchBlogPost")(e),404==e.code&&m.route.set("/social/blog"),state.status="error"}),(function(_ref3){var blog=_slicedToArray(_ref3,1)[0];state.blog=blog,state.status="loaded"}))},view:function(_ref5){var mdl=_ref5.attrs.mdl;return m("section.fade.p-y-6.container","error"==state.status&&m("p","error redirecting"),"loading"==state.status&&m(_loader.default),"loaded"==state.status&&[m(m.route.Link,{selector:"button.button.primary.outline.icon",href:"/social/blog",class:"primary"},m(_cjs.ArrowLine,{style:{transform:"rotate(270deg)"}}),"Back To Blogs"),m(Post,{blog:state.blog,mdl:mdl}),m(m.route.Link,{selector:"button.button.primary.outline.icon",href:"/social/blog",class:"primary"},m(_cjs.ArrowLine,{style:{transform:"rotate(270deg)"}}),"Back To Blogs")])}};exports.default=_default})),require.register("Pages/Blog/blog-preview.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_htmlSanitize=(obj=require("Utils/html-sanitize"))&&obj.__esModule?obj:{default:obj};var _default={view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,_ref$attrs$post=_ref$attrs.post,title=_ref$attrs$post.title,text=_ref$attrs$post.text,thumb=_ref$attrs$post.thumb,createdAt=_ref$attrs$post.createdAt,updatedAt=_ref$attrs$post.updatedAt,author=_ref$attrs$post.author,objectId=_ref$attrs$post.objectId;return m("article.card.col-6",m(".row",m("hgroup.col-8",m("h2.bold",title),m("h3"),m("p","Added On ",createdAt,updatedAt!==createdAt&&[" updated on ",updatedAt]," by ",author)),m("figure.col.is-horizontal-align",m("img",{src:thumb||"images/main.webp"}))),m("hgroup.col",m.trust(_htmlSanitize.default.SanitizeHtml(text.replace(/<[^>]*>/g,"").slice(0,100))),"...",m(m.route.Link,{href:"/social/blog-post:".concat(objectId)},"continue reading")),(author==mdl.user.name||["admin","mod"].includes(mdl.user.role))&&m("footer",m(m.route.Link,{selector:"button",href:"/social/blog-editor:".concat(objectId)},"Edit")))}};exports.default=_default})),require.register("Pages/Blog/blog.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.toViewModel=exports.formatLensDate=void 0;var _loader=_interopRequireDefault(require("Components/loader.js")),_Utils=require("Utils"),_ramda=require("ramda"),_blogPreview=_interopRequireDefault(require("./blog-preview.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var state={errors:{},blogs:[]},formatLensDate=function(prpty){return(0,_ramda.over)((0,_ramda.lensProp)(prpty),_Utils.formatDate)};exports.formatLensDate=formatLensDate;var toViewModel=(0,_ramda.compose)(_ramda.reverse,(0,_ramda.sortBy)((0,_ramda.propEq)("createdAt")),(0,_ramda.map)((0,_ramda.compose)(formatLensDate("updatedAt"),formatLensDate("createdAt"))));exports.toViewModel=toViewModel;var loadBlogs=function(_ref){var mdl=_ref.attrs.mdl;mdl.http.back4App.getTask(mdl)("Classes/Blogs").map((0,_ramda.prop)("results")).map(toViewModel).fork((function(error){return state.errors=error}),(function(results){return state.blogs=results}))},_default=function(){return{oninit:loadBlogs,onremove:function(){state.errors={},state.data=[]},view:function(_ref2){var mdl=_ref2.attrs.mdl;return mdl.state.isLoading()?m(_loader.default):m("article.grid.p-y-6.fade",m("section.container",mdl.state.isAuth()&&m("nav.nav.m-y-6",m(".nav-center",m(m.route.Link,{selector:"button.button.primary",href:"/social/blog-editor:",class:"phone"==mdl.settings.screenSize?"col-12":""},"Add A Blog Post"))),m(".row",state.blogs.any()?state.blogs.map((function(post){return m(_blogPreview.default,{mdl:mdl,post:post})})):m("article.card",mdl.state.isAuth()?m(m.route.Link,{href:"/social/blog-editor:",class:"button primary"},"Add The First Post !"):m("h1","Log in to add the First Post!")))))}}};exports.default=_default})),require.register("Pages/Blog/fns.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onInput=exports.deleteBlog=exports.toBlogs=exports.saveImgToGalleryTask=exports.isInvalid=exports.resetEditorState=exports.resetModalState=void 0;var obj,_Utils=require("Utils"),_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj};exports.resetModalState=function(state){state.images=[],state.modalState("upload")};exports.resetEditorState=function(state){state.title="",state.author="",state.text="",state.img="",state.thumb="",state.file=null,state.showPreview(!1),state.isEditing(!1),state.showModal(!1),state.showHelp(!1),state.objectId=null};exports.isInvalid=function(s){return!(0,_Utils.exists)(s.title)||!(0,_Utils.exists)(s.text)};exports.saveImgToGalleryTask=function(mdl){return function(_ref){var _ref$data=_ref.data,image=_ref$data.image,thumb=_ref$data.thumb;return mdl.http.back4App.postTask(mdl)("Classes/Gallery")({album:"blog",image:image.url,thumb:thumb.url}).chain((function(_){return _data.default.of({image:image.url,thumb:thumb.url})}))}};var toBlogs=function(){return m.route.set("/social/blog")};exports.toBlogs=toBlogs;exports.deleteBlog=function(mdl){return function(id){return mdl.http.back4App.deleteTask(mdl)("Classes/Blogs/".concat(id)).fork(toBlogs,toBlogs)}};exports.onInput=function(state){return(0,_Utils.handlers)(["oninput"],(function(e){"file"==e.target.id?state[e.target.id]=e.target.files[0]:state[e.target.id]=e.target.value}))}})),require.register("Pages/Events/calendar.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_ramda=require("ramda"),_fullcalendarMin=(obj=require("Utils/fullcalendar.min.js"))&&obj.__esModule?obj:{default:obj};var getCellDate=function getCellDate(target){return["MAIN","BUTTON"].includes(target.tagName)?null:"TD"==target.tagName?target.dataset.date:getCellDate(target.parentNode)},onEventClick=function(state){return function(info){info.jsEvent.preventDefault();var id=info.event.extendedProps.objectId;state.event=state.events.find((0,_ramda.propEq)("objectId",id));var start=state.event.start.split("T"),end=state.event.end.split("T");state.event.startDate=(0,_ramda.head)(start),state.event.startTime=(0,_ramda.head)((0,_ramda.tail)(start)),state.event.endDate=(0,_ramda.head)(end),state.event.endTime=(0,_ramda.head)((0,_ramda.tail)(end)),state.event.id=id,state.previewEvent(!0),info.event.url&&window.open(info.event.url)}},_default={view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,state=_ref$attrs.state;return m("section#calendar",{oncreate:function(_ref2){var dom=_ref2.dom;state.calendar=function(dom,state){return new _fullcalendarMin.default.Calendar(dom,{events:state.events,eventClick:onEventClick(state),initialView:"dayGridMonth",initialDate:new Date,selectable:!0,editable:!0,droppable:!0,headerToolbar:{left:"today",center:"title",right:"prev next"}})}(dom,state),state.calendar.render()},onclick:function(e){mdl.state.isAuth()&&!state.previewEvent()&&getCellDate(e.target)&&(state.selectedDate(getCellDate(e.target)),state.event.startDate=state.selectedDate(),state.selectedDate()&&state.showEditor(!0))}})}};exports.default=_default})),require.register("Pages/Events/editor.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Utils=require("Utils");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var data={status:null,locations:[]},_default={onremove:function(_ref){var _ref$attrs=_ref.attrs;return(0,_ref$attrs.resetState)(_ref$attrs.state)},view:function(_ref2){var event,_ref2$attrs=_ref2.attrs,mdl=_ref2$attrs.mdl,showEditor=_ref2$attrs.showEditor,deleteEvent=_ref2$attrs.deleteEvent,submitEvent=_ref2$attrs.submitEvent,resetState=_ref2$attrs.resetState,state=_ref2$attrs.state,uploadImage=_ref2$attrs.uploadImage;return m("aside.modal-container",m("article.modal",m("header.modal-header",m("h1.title.text-primary.is-center",state.event.objectId?"Edit Event":"Add Event")),m("section.modal-content.container",m("form.grid",function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},(event=state.event,(0,_Utils.handlers)(["oninput"],(function(e){return"checkbox"==e.target.type?event[e.target.id]=JSON.parse(e.target.checked):"file"==e.target.id?event[e.target.id]=e.target.files[0]:event[e.target.id]=e.target.value})))),m("h2.text-primary","Date",m("span.text-error","*")),m("formgroup.grouped",m("label","Start Date",m("input",{type:"date",id:"startDate",value:state.event.startDate})),m("label","Start Time",m("input",{type:"time",id:"startTime",value:state.event.startTime,pattern:"(?:[01]|2(?![5-9])){1}d{1}:[0-5]{1}d{1}"}))),m("formgroup",m("label","All Day Event?",m("input",{type:"checkbox",id:"allDay",value:state.event.allDay,checked:state.event.allDay}))),m("formgroup.grouped",m("label","End Date",m("input",{type:"date",id:"endDate",value:state.event.endDate})),m("label","End Time",m("input",{type:"time",id:"endTime",value:state.event.endTime}))),m("formgroup",m("label",m("h2.text-primary","Title",m("span.text-error","*")),state.errors.title&&m("h2.text-error",state.errors.title),m("input",{type:"text",id:"title",value:state.event.title}))),m("h2.text-primary","Image",m("span.text-error","*")),"uploading-image"==state.status()?m("h2.tag.is-center","Attaching Image - please be patient"):m("formgroup.grouped",m("label","Upload an Image",m("input",{type:"file",id:"file",value:state.files,onchange:function(){return uploadImage(state.event.file)}}),state.event.image&&m("img",{src:state.event.image}))),m("label.icon",m("h2.text-primary","Location",m("span.text-error","*")),state.errors.location&&m("h2.text-error",state.errors.location),m("input",{oninput:function(e){e.target.value.length>3&&(data.status="isloading",mdl.http.openCage.getLocationTask(mdl)(e.target.value.trim()).fork((function(e){data.status="error",log("error fetching locations")(e)}),(function(_ref3){var results=_ref3.results;data.status="loaded",data.locations=results})))},id:"location",value:state.event.location})),data.locations.any()&&m("details.dropdown",m("summary.button.outline","options"),m(".card",m("ul",data.locations.map((function(_ref4){var formatted=_ref4.formatted;return m("li.pointer",{onclick:function(e){state.event.location=formatted}},formatted)}))))),m("formgroup",m("label",m("h2.text-primary","Details",m("span.text-error","*")),state.errors.description&&m("h2.text-error",state.errors.description),m("textarea",{id:"description",value:state.event.description}))))),m("footer.modal-footer",m(".tabs.grouped.is-center",m("button.button",{onclick:function(){resetState(state),showEditor(!1)}},"Cancel"),state.event.id&&m("button.button.error",{onclick:function(e){deleteEvent(mdl,state.event.id)},role:"button"},"Delete"),m("button.button.primary",{onclick:function(e){submitEvent(mdl,state.event)},role:"button"},"Submit")))))}};exports.default=_default})),require.register("Pages/Events/event.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_cjs=require("@mithril-icons/clarity/cjs"),_DateTime=(obj=require("Components/DateTime"))&&obj.__esModule?obj:{default:obj},_ramda=require("ramda");var updateEventTask=function(mdl){return function(id){return function(event){return mdl.http.back4App.putTask(mdl)("Classes/Events/".concat(id))(event)}}},onError=function(e){return console.log("e",e)},onSuccess=function(event,field,value){return function(){return event[field]=value}},updateEvent=function(xs){return function(x){return xs.includes(x)?(0,_ramda.without)([x],xs):xs.concat([x])}},_default={view:function(_ref){var _ref$attrs=_ref.attrs,mdl=_ref$attrs.mdl,event=_ref$attrs.event,previewEvent=_ref$attrs.previewEvent,editEvent=_ref$attrs.editEvent,resetState=_ref$attrs.resetState,state=_ref$attrs.state;return m(".modal-container",m(".modal",m("header.modal-header",m("h2.text-primary strong is-center",event.title.toUpperCase())),m("section.modal-content ",m(".row",m(".col",m(".grouped",m(_cjs.CalendarLine,{fill:"#14854f"}),m(_DateTime.default,{event:event})),event.location&&m(".grouped",m(_cjs.HomeSolid,{fill:"#14854f",height:60,width:60}),m("label",event.location)),event.allDay&&m(".grouped",m("label.tag.primary","All Day Event"))),m(".col",m(".grouped clear icon",m(_cjs.UserLine,{fill:"#14854f"}),m("label","Attendees: ",event.attendees.length)),mdl.state.isAuth()&&m(".tag grouped",m(".button.clear icon",{onclick:function(){return function(mdl,event){var attendees=updateEvent(event.attendees)(mdl.user.objectId);updateEventTask(mdl)(event.id)({attendees:attendees}).fork(onError,onSuccess(event,"attendees",attendees))}(mdl,event)}},(0,_ramda.includes)(mdl.user.objectId,event.attendees)?m("",m(_cjs.HappyFaceLine,{fill:"green"}),m("","I'm Attending!")):m("",m(_cjs.SadFaceLine),m("","Not Attending"))),m(".button.clear icon-only",{onclick:function(){return function(mdl,event){var likes=updateEvent(event.likes)(mdl.user.objectId);updateEventTask(mdl)(event.id)({likes:likes}).fork(onError,onSuccess(event,"likes",likes))}(mdl,event)}},m(_cjs.HeartLine,{fill:(0,_ramda.includes)(mdl.user.objectId,event.likes)&&"red"}))))),m(".grouped",m("img",{src:event.image})),m("hr.bd-primary"),m(".grouped.container",m("p.p-t-25",event.description))),m("footer.modal-footer",m(".tabs grouped",(event.createdBy==mdl.user.name||["admin","mod"].includes(mdl.user.role))&&m("button.button.secondary.is-full-width",{onclick:function(e){editEvent(!0),previewEvent(!1),e.preventDefault()},role:"button",disabled:!1},"Edit"),m("button.button.primary.is-full-width",{onclick:function(){resetState(state),mdl.state.selectedPreviewEvent(null),previewEvent(!1)}},"Close")))))}};exports.default=_default})),require.register("Pages/Events/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _calendar=_interopRequireDefault(require("./calendar")),_editor=_interopRequireDefault(require("./editor")),_event=_interopRequireDefault(require("./event")),_ramda=require("ramda"),_loader=_interopRequireDefault(require("Components/loader.js")),_data=_interopRequireDefault(require("data.task")),_validations=require("./validations.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var state={errors:{},status:Stream("loading"),calendar:null,showEditor:Stream(!1),selectedDate:Stream(null),events:[],previewEvent:Stream(!1),files:[],event:{attendees:[],image:null,id:"",startDate:"",start:"",startTime:"00:00:00",end:"",endDate:"",endTime:"00:00:00",title:"",description:"",allDay:!1,location:""}},resetState=function(s){state.event={image:"",id:"",startDate:"",start:"",startTime:"00:00:00",end:"",endDate:"",endTime:"00:00:00",title:"",description:"",location:"",allDay:!1},state.files=[],state.errors={}},toViewModel=function(event){var start=event.start.split("T"),end=event.end.split("T");return event.startDate=(0,_ramda.head)(start),event.startTime=(0,_ramda.head)((0,_ramda.tail)(start)),event.endDate=(0,_ramda.head)(end),event.endTime=(0,_ramda.head)((0,_ramda.tail)(end)),event.id=event.objectId,event},fetchEvents=function(_ref){var mdl=_ref.attrs.mdl;state.status("loading");mdl.http.back4App.getTask(mdl)("Classes/Events").map((0,_ramda.prop)("results")).fork((function(e){state.status("error"),console.error(e)}),(function(events){state.events=events,mdl.state.selectedPreviewEvent()&&(state.event=(0,_ramda.head)(events.filter((0,_ramda.propEq)("objectId",mdl.state.selectedPreviewEvent())).map(_ramda.clone).map(toViewModel)),state.previewEvent(!0)),state.status("loaded")}))},deleteEvent=function(mdl,id){state.status("loading");mdl.http.back4App.deleteTask(mdl)("Classes/Events/".concat(id)).fork((function(e){console.error(e)}),(function(evt){fetchEvents({attrs:{mdl:mdl}}),state.showEditor(!1)}))},formatDate=function(date,time){var t=time.replaceAll("am","").replaceAll("pm","").replaceAll("AM","").replaceAll("PM","").trim();return"".concat(date,"T").concat(t)},onImgError=function(e){state.errors.img=e,state.status("error")},onImgSuccess=function(img){state.event.image=img.thumb,state.status("loaded")},uploadImage=function(mdl){return function(file){state.status("uploading-image"),mdl.http.imgBB.postTask(mdl)(file).chain(function(mdl){return function(_ref2){var _ref2$data=_ref2.data,image=_ref2$data.image,thumb=_ref2$data.thumb;return mdl.http.back4App.postTask(mdl)("Classes/Gallery")({album:"events",image:image.url,thumb:thumb.url}).chain((function(_){return _data.default.of({image:image.url,thumb:thumb.url})}))}}(mdl)).fork(onImgError,onImgSuccess)}},submitEvent=function(mdl,_ref3){var id=_ref3.id,startDate=_ref3.startDate,startTime=_ref3.startTime,endDate=_ref3.endDate,endTime=_ref3.endTime,title=_ref3.title,allDay=_ref3.allDay,description=_ref3.description,image=_ref3.image,location=_ref3.location,event={start:formatDate(startDate,startTime),end:formatDate(endDate,endTime),title:title,allDay:JSON.parse(allDay),description:description,createdBy:mdl.user.name,image:image,location:location};return(0,_validations.validateEventTask)(event).chain(function(id){return function(data){return id?mdl.http.back4App.putTask(mdl)("Classes/Events/".concat(id))(data):mdl.http.back4App.postTask(mdl)("Classes/Events")(_objectSpread(_objectSpread({},data),{},{attendees:[],likes:[]}))}}(id)).fork((function(errors){state.errors=errors,console.error(errors)}),(function(evt){fetchEvents({attrs:{mdl:mdl}}),state.showEditor(!1)}))},_default={oninit:fetchEvents,view:function(_ref4){var mdl=_ref4.attrs.mdl;return m("article",state.showEditor()&&m(_editor.default,{mdl:mdl,state:state,showEditor:state.showEditor,submitEvent:submitEvent,deleteEvent:deleteEvent,resetState:resetState,uploadImage:uploadImage(mdl)}),state.previewEvent()&&m(_event.default,{mdl:mdl,state:state,editEvent:state.showEditor,previewEvent:state.previewEvent,event:state.event,resetState:resetState}),"loaded"==state.status()&&m("section.container",m(_calendar.default,{mdl:mdl,state:state})),"loading"==state.status()&&m("section",m(_loader.default)),"error"==state.status()&&m("section","is error"))}};exports.default=_default})),require.register("Pages/Events/validations.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateEventTask=void 0;var _ramda=require("ramda"),_data=require("data.validation"),_Utils=require("Utils"),ValidateEvent=(0,_data.Success)((0,_ramda.curryN)(3,_ramda.identity)),titleLens=(0,_ramda.lensProp)("title"),detailsLens=(0,_ramda.lensProp)("description"),locationLens=(0,_ramda.lensProp)("location");exports.validateEventTask=function(data){return console.log(data),ValidateEvent.ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,titleLens,"Your event needs a title.",data))}(data)).ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,detailsLens,"Your event needs some information.",data))}(data)).ap(function(data){return(0,_data.Success)(data).apLeft((0,_Utils.validate)(_Utils.isRequired,locationLens,"Your event needs a location.",data))}(data)).failureMap(_ramda.mergeAll).toTask()}})),require.register("Pages/Gallery/album.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _loader=_interopRequireDefault(require("Components/loader.js")),_ramda=require("ramda"),_Utils=require("Utils"),_data=_interopRequireDefault(require("data.task")),_cjs=require("@mithril-icons/clarity/cjs");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var state={album:[],title:"",showModal:Stream(!1),isUpLoading:Stream(!1),modalState:{imgFiles:[],selectedImgs:[],previewImgs:[]}},deleteImageTask=function(mdl){return function(_ref){var objectId=_ref.objectId;return mdl.http.back4App.deleteTask(mdl)("Classes/Gallery/".concat(objectId))}},fetchAlbum=function(_ref2){var mdl=_ref2.attrs.mdl,album=m.route.get().split(":")[1].replaceAll("%20"," "),byAlbumName=encodeURI('where={"album":"'.concat(album,'"}'));mdl.http.back4App.getTask(mdl)("Classes/Gallery?".concat(byAlbumName)).fork((function(e){log("fetchAlbum - error")(e)}),(function(_ref3){var results=_ref3.results;results.any()?(state.album=results,state.title=album):m.route.set("/social/gallery")}))},uploadImage=function(mdl){return function(file){return mdl.http.imgBB.postTask(mdl)(file).chain(function(mdl){return function(_ref4){var _ref4$data=_ref4.data,image=_ref4$data.image,thumb=_ref4$data.thumb;return mdl.http.back4App.postTask(mdl)("Classes/Gallery")({album:state.title,image:image.url,thumb:thumb.url})}}(mdl))}},Modal=function(){return{onremove:function(){return function(state){state.modalState={imgFiles:[],selectedImgs:[],previewImgs:[]}}(state)},view:function(_ref5){var mdl=_ref5.attrs.mdl;return m("section.modal-container",m("article.modal.card.grid",m("header.modal-header",m("h2","Drag and drop or add using the button")),m("section.modal-content",state.isUpLoading()?m("p","PROCESSING IMAGES... PLEASE BE PATIENT"):m("form.grid",m("input",{oninput:function(e){return state.modalState.imgFiles=e.target.files},onchange:function(e){state.modalState.previewImgs=Array.from(state.modalState.imgFiles).filter((function(file){return(0,_ramda.startsWith)("image/",(0,_ramda.prop)("type",file))})).map((function(file){return{file:file,src:URL.createObjectURL(file)}}))},type:"file",id:"files",multiple:!0}),m(".row",state.modalState.previewImgs.map((function(_ref6){var src=_ref6.src,file=_ref6.file;return m("figure.button.col-4.".concat(state.modalState.selectedImgs[src]?"primary":"outline"),{onclick:function(e){return function(src,file){state.modalState.selectedImgs[src]?state.modalState.selectedImgs[src]=null:state.modalState.selectedImgs[src]=file}(src,file)}},m("img",{src:src}))}))))),m("section.modal-footer.grouped",m("button",{onclick:function(){return state.showModal(!1)}},"Cancel"),m("button",{onclick:function(e){return function(mdl,images){state.isUpLoading(!0);(0,_ramda.traverse)(_data.default.of,uploadImage(mdl),Object.values(images)).fork((function(e){return console.error("e",e)}),(function(d){fetchAlbum({attrs:{mdl:mdl}}),state.isUpLoading(!1),state.showModal(!1)}))}(mdl,state.modalState.selectedImgs)},role:"button",type:"submit",disabled:!(0,_Utils.exists)(Object.values(state.modalState.selectedImgs))},"Upload"))))}}},_default={oninit:fetchAlbum,view:function(_ref7){var mdl=_ref7.attrs.mdl;return mdl.state.isLoading()&&!state.isUpLoading()?m(_loader.default):m("article.grid.p-y-6.fade.",m("nav.grouped.m-y-6",m(m.route.Link,{selector:"button.button.primary.outline.icon",href:"/social/gallery",class:"primary"},m(_cjs.ArrowLine,{style:{transform:"rotate(270deg)"}}),"Back To Gallery"),mdl.state.isAuth()&&[m("button.button.primary",{onclick:function(e){return state.showModal(!0)}},"Add more Images to Album"),m("button.button error",{onclick:function(e){!function(mdl){(0,_ramda.traverse)(_data.default.of,deleteImageTask(mdl),state.album).fork((function(e){return console.error(e)}),(function(){return m.route.set("/social/gallery")}))}(mdl)}},"Delete Album")],state.showModal()&&m(Modal,{mdl:mdl})),m("section.container",m("h2",state.title.toLocaleUpperCase()),m(".row",state.album.map((function(pic){return m("figure.is-center.col-4.pos-rel",mdl.state.isAuth()&&m(_cjs.TimesCircleLine,{class:"pointer bg-white pos-abs",style:{borderRadius:"50%",top:0,right:"20%"},fill:"red",onclick:function(e){return function(mdl,pic){deleteImageTask(mdl)(pic).fork((function(e){return log("deleteImg - error")(e)}),(function(){return fetchAlbum({attrs:{mdl:mdl}})}))}(mdl,pic)}}),m("img",{src:pic.thumb}))})))))}};exports.default=_default})),require.register("Pages/Gallery/gallery.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_loader=(obj=require("Components/loader.js"))&&obj.__esModule?obj:{default:obj},_ramda=require("ramda");var state={albums:[],showModal:Stream(!1),newAlbum:{title:"",img:null}},groupByAlbum=(0,_ramda.compose)((0,_ramda.groupBy)((0,_ramda.prop)("album")),(0,_ramda.prop)("results")),fetchAllAlbums=function(_ref){var mdl=_ref.attrs.mdl;mdl.http.back4App.getTask(mdl)("Classes/Gallery").map(groupByAlbum).fork((function(e){return log("fetchAllAlbums- error")(e)}),(function(albums){return state.albums=albums}))},createtNewAlbum=function(mdl){mdl.http.imgBB.postTask(mdl)(state.newAlbum.img).chain(function(mdl){return function(_ref2){var _ref2$data=_ref2.data,image=_ref2$data.image,thumb=(_ref2$data.medium,_ref2$data.thumb);return mdl.http.back4App.postTask(mdl)("Classes/Gallery")({album:state.newAlbum.title,image:image.url,thumb:thumb.url})}}(mdl)).fork((function(e){return log("createtNewAlbum- error")(e)}),(function(){state.newAlbum={title:"",img:""},state.showModal(!1),fetchAllAlbums({attrs:{mdl:mdl}})}))},AlbumCover={view:function(_ref3){var _ref3$attrs$album=_ref3.attrs.album,thumb=_ref3$attrs$album.thumb,album=_ref3$attrs$album.album;return m(m.route.Link,{selector:"figure",class:"button card col-4 bg-white",href:"social/gallery/album:".concat(album)},m("img",{src:thumb}),m("figcaption",album))}},NewAlbumModal={view:function(_ref4){var mdl=_ref4.attrs.mdl;return m(".modal-container",m("form.modal.card",m("section.modal-content",m("label","Album Title",m("input",{oninput:function(e){state.newAlbum.title=e.target.value}})),m("label","Add A Photo",m("input",{oninput:function(e){return state.newAlbum.img=e.target.files[0]},type:"file",id:"files"}))),m(".modal-footer.is-right grouped",m("button.button.secondary",{onclick:function(e){e.preventDefault(),state.showModal(!1)}},"cancel"),m("button.button.primary",{disabled:!state.newAlbum.img,onclick:function(e){e.preventDefault(),createtNewAlbum(mdl)}},"Create Album"))))}},_default={oninit:fetchAllAlbums,view:function(_ref5){var mdl=_ref5.attrs.mdl;return mdl.state.isLoading()?m(_loader.default):m("article.grid.p-y-6.fade",mdl.state.isAuth()&&m("nav.nav",m(".nav-center",m("button.button.primary",{onclick:function(e){return state.showModal(!0)},class:"phone"==mdl.settings.screenSize?"col-12":""},"Add A New Album"),state.showModal()&&m(NewAlbumModal,{mdl:mdl}))),m("section.row.container",Object.keys(state.albums).map((function(album){return m(AlbumCover,{mdl:mdl,album:state.albums[album][0]})}))))}};exports.default=_default})),require.register("Pages/about.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(mdl){return{view:function(_ref){var mdl=_ref.attrs.mdl;return m("section",{class:"desktop"==mdl.settings.screenSize?"p-50":""},m("section.is-marginless.bd-primary.p-x-50.p-y-6",m("hgroup.grid",m("h2.strong","About Us"),m(".row",m("p.col","The Bonham Acres Civic Association (BACA) is a registered 501(c)4 organization that was established to work for the common good of the community, providing a single voice for our neighborhood to area municipalities. The BACA operates with an all-volunteer staff, voluntary membership dues, and the donated time and energy of its neighbors."),m("figure.col",m("img.height-auto",{src:"images/IMG_3216.webp"}))))),m("section.is-marginless.bd-primary.p-x-50.p-y-6.bg-primary.text-white",m("hgroup.grid",m("h2.strong","Bonham Acres Sub Division"),m(".row",m("figure.col",m("img.height-auto",{src:"images/baca-map.webp"})),m("p.col","A small jewell of a neighborhood located in Southwest Houston. Subdivision bounded by Bissonnet to the north, Braes Bayou to the south, Fondren to the east and Bonhomme Re to the west. There are 5 streets within, Bonhomme Rd, Cadawac Rd, Lugary Ln, Wanda Ln and Tree Frog. Bonham Acres Houston neighborhood is located in 77074 zip code in Harris county. Bonham Acres has 152 single family properties with a median build year of 1958 and a median size of 1,807 Sqft.")))),m("section.is-marginless.p-x-50.p-y-6",m("h2.strong","Community Support"),m(".grid",m(".row",m(".col-3",m("hgroup",m("p.strong","Historical Accounts"),m("p","Dr. Bonhams home became Bonham Family Nature Park."))),m(".col-3",m("hgroup",m("p.strong","Improvements"),m("p","Streets lights paid for by residents of Bonham Acres."))),m(".col-3",m("hgroup",m("p.strong","Working Together"),m("p","Residents worked together to get speed bumps installed."))),m(".col-3",m("hgroup",m("p.strong","Legacy of Impact"),m("p","Residents funded the 5 entry monuments into Bonham Acres.")))))))}}};exports.default=_default})),require.register("Pages/city-ordinances.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_report=(obj=require("Components/report"))&&obj.__esModule?obj:{default:obj},_clarity=require("@mithril-icons/clarity");var state={showOrdinanceViolation:Stream(!1),showModal:Stream(!1),title:null,contents:null},contents={car:{icons:{default:_clarity.CarLine},title:"Car Parking in Residential Area",contents:[m(".card",m("em","Parking of Vehicles on Residential Property Chapter 28, Article X"),m("p","To read the complete ordinance, go to ",m("a.nav-link",{target:"__blank",href:"www.Municode.com"},"www.Municode.com")," on the internet and search for City of Houston, Chapter 28, Article X, or enter Parking of Vehicles on Residential Property in the search block."),m("p",m("a.nav-link",{target:"__blank",href:"https://www.houstontx.gov/police/pdfs/brochures/english/Parking_of_vehicles_on_residential_propert.pdf"},"https://www.houstontx.gov/police/pdfs/brochures/english/Parking_of_vehicles_on_residential_propert.pdf")),m("p","You can find out if a residence is covered by the ordinance by calling 311 or going to the city map viewer on the internet at ",m("a.nav-link",{target:"__blank",href:"http://mycity.houstontx.gov/public/"}," http://mycity.houstontx.gov/public/ "),"and activating ",m("em","the Prohibited Yard Parking application: ")),m("p",m("a.nav-link",{target:"__blank",href:"https://www.houstontx.gov/planning/Prohibited-Yard-Parking-Ordinance.html"},"https://www.houstontx.gov/planning/Prohibited-Yard-Parking-Ordinance.html")))]},trash:{icons:{default:_clarity.TrashLine},title:"Trash & Dumpster Ordinances",contents:[m("p",m("a.nav-link",{target:"__blank",href:"https://www.rollouthouston.com/"},["Roll Out Houston!",m(_clarity.PopOutLine)])),m("p",m("a.nav-link",{target:"__blank",href:"https://www.houstontx.gov/solidwaste/trashfacts.pdf"},["Houston Trash Facts PDF",m(_clarity.PopOutLine)]))]},noise:{icons:{default:_clarity.MusicNoteLine},title:"Noise Ordinances",contents:[m("p","According to the "," Houston Sound Ordinance, "," sound ",m("span.strong"," cannot exceed 65 decibels during the day "),"and",m("span.strong"," 58 decibels at night in residential areas.")," Permits must be obtained for sound up to 75 decibels until 10pm on Sundays through Thursdays and until 11pm on Fridays and Saturdays. "," The Houston ordinance penalizes up to ",m("span.strong"," $1, 000 per offense or per hour.")),m("p",m("a.nav-link",{target:"__blank",href:"https://library.municode.com/tx/houston/codes/code_of_ordinances?nodeId=COOR_CH30NOSOLERE"},"https://library.municode.com/tx/houston/codes/code_of_ordinances?nodeId=COOR_CH30NOSOLERE"))]},nuisance:{icons:{default:_clarity.HomeLine},title:"Nuisance Ordinances",contents:[m("p",m("a.nav-link",{target:"__blank",href:"https://statutes.capitol.texas.gov/Docs/HS/htm/HS.342.htm#342.004"},"Section 342.004 of the Texas Health and Safety Code")),m("p","State law giving authority to municipalities to require landowners to keep their property free of weeds, brush and conditions constituting a public nuisance."),m("p",m("a.nav-link",{target:"__blank",href:"https://statutes.capitol.texas.gov/Docs/TN/htm/TN.311.htm#311.003"},"Sections 311.003 - 311.004 of the Texas Transportation Code")),m("p","State laws giving authority to type-A municipalities to require a person to keep the front of their premise free of weeds and trash. It also gives them the authority to require a landowner to improve their sidewalk and allows home-rule municipalities to declare a defective sidewalk a public nuisance."),m("p",m("a.nav-link",{target:"__blank",href:"https://statutes.capitol.texas.gov/Docs/TN/htm/TN.683.htm#E"},"Texas Transportation Code, Chapter 683, Subchapter E")),m("p","State law governing junked vehicles; declaring them a public nuisance.")]}},Modal=function(){return{view:function(_ref){var _ref$attrs=_ref.attrs,title=(_ref$attrs.mdl,_ref$attrs.title),contents=_ref$attrs.contents;return m("article.modal-container",{oncreate:function(_ref2){return _ref2.dom.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})},onclick:function(){state.contents=null,state.showModal(!1)}},m("article.modal.container.card",m("header.model-header",m("h2",title)),m("section.modal-content",contents)))}}},CardOrd=function(){var isSelected=!1;return{view:function(_ref3){var _ref3$attrs=_ref3.attrs,id=_ref3$attrs.id,title=_ref3$attrs.title,icons=_ref3$attrs.icons,contents=_ref3$attrs.contents;return m("article.card.col-6.bd-primary.p-x-50.p-y-6.pointer",{id:id,class:isSelected&&"text-success",onmouseover:function(){return isSelected=!0},onmouseout:function(){return isSelected=!1},onclick:function(){state.title=title,state.contents=contents,state.showModal(!0)}},m("hgroup.row",m(icons.default,{class:"col.is-center",fill:isSelected&&"#14854f",style:{margin:"0 auto",width:"30%",height:"250px"}}),m("h2.col.is-center",title)))}}},_default={view:function(_ref4){var mdl=_ref4.attrs.mdl;return m("section.container",{class:"desktop"==mdl.settings.screenSize&&"p-50"},m("section.is-marginless",m("p","Bonham Acres is a deed restricted community in which deed restrictions are actively enforced. ",m(m.route.Link,{selector:"a.underline",class:"strong",href:"/legal/deed-restrictions"},m("em","The Deed Restrictions"))," are intended to preserve and enhance property values as well as to promote safety in our community. "),m("p","Many of these deed restrictions are enforced with the assistance of the City of Houston, whose legal department and our council representative have supported and whom have been valuable partners to Bonham Acres when enforcing deed restrictions."),m("p","Violations to any of these deed restrictions should be reported directly to the Bonham Acres Civic Association.",m(".p-y-6.is-center",mdl.state.isAuth()?m("button.button.icon.bd-error",{onclick:function(e){return state.showOrdinanceViolation(!0)}},"Report City Ordinance Violation",m(_clarity.ExclamationTriangleLine,{fill:"red"})):m(m.route.Link,{selector:"button",class:"button.bd-error",href:"/login"},"Login To Report City Ordinance Violation"),state.showOrdinanceViolation()&&m(_report.default,{mdl:mdl,showModal:state.showOrdinanceViolation})),m("p",m("em","All reports will be treated as anonymous and your name kept private.")),m("p.strong","Your assistance in reporting violations will go a very long way to protect and enhance our property values."))),m("section.row",Object.keys(contents).map((function(ord){return m(CardOrd,{mdl:mdl,id:ord,title:contents[ord].title,icons:contents[ord].icons,contents:contents[ord].contents})}))),state.showModal()&&m(Modal,{mdl:mdl,title:state.title,contents:state.contents,close:function(){state.contents=null,state.title=null,state.showModal(!1)}}))}};exports.default=_default})),require.register("Pages/contact.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var BoardMembers=[{title:"President",name:"Tim Hatton",phones:["713-480-8020","713-208-8756"],emails:["timhatton202@yahoo.com","kimyhatton@gmail.com"]},{title:"Vice President",name:"Cortney Meza",phones:["832-491-9705"],emails:["mezacort@yahoo.com"]},{title:"Secretary",name:"Alan Hernandez",phones:["832-798-2568"],emails:["Alan@teamwpr.com"]},{title:"Treasurer",name:"David Gessing",phones:["281-733-8959"],emails:["Dgessing@gmail.com"]},{title:"Deed Restrictions ",name:"Henrietta Nixon",phones:["713-773-9291"],emails:["nixkh@comcast.net"]}],_default=function(mdl){return{view:function(_ref){var mdl=_ref.attrs.mdl;return m("article",m("section.container",m("h2.is-center.is-marginless.m-b-15.strong","Bonham Acres Civic Association Board Members April 13, 2021"),m(".row.container",BoardMembers.map((function(_ref2){var title=_ref2.title,name=_ref2.name,phones=_ref2.phones,emails=_ref2.emails;return m(".card.col-".concat(function(mdl){switch(mdl.settings.screenSize){case"phone":case"wide":return"12";case"tablet":return"6";default:case"desktop":return"4"}}(mdl)),m("h4.text-primary",title),m("p",name),phones.map((function(phone){return m("p",phone)})),emails.map((function(email){return m("p.pointer.underline",{href:"mailto:".concat(email)},email)})))})))))}}};exports.default=_default})),require.register("Pages/deed-restrictions.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(_ref){var _mdl$state$anchor$toU,_mdl$state$anchor,mdl=_ref.attrs.mdl,LUGARY=[m("h3",{style:{"text-align":"center","white-space":"pre-wrap"}},m("strong","# 1341013")),m("h3",{style:{"text-align":"center","white-space":"pre-wrap"}},"Bonham Acres Subdivision Section 3 - Lugary"),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},["Volume 2853 Page 466 of the Records of Maps and Plats of Harris County, Texas",m.trust("&nbsp;")]),m("p",{style:{"white-space":"pre-wrap"}},"THE STATE OF TEXAS"),m("p",{style:{"text-align":"right","margin-left":"40px","white-space":"pre-wrap"}},"KNOW ALL MEN BY THESE PRESENTS:"),m("p",{style:{"white-space":"pre-wrap"}},"COUNTY OF HARRIS"),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},["That M. G. Rosenthal, being the owner of Bonham Acres ",m("strong","Section 3,")," a subdivision of 20.92 acres of land out of the ",m("em","J. "),"R. Black Survey, Abstract 134, Harris County, Texas, according",m.trust("&nbsp;")]),m("p",{style:{"white-space":"pre-wrap"}},"to map of said subdivision, filed for record October 4, 1952, in the office of the County Clerk of Harris County, Texas, File No. 1323250 to which reference is here made for all purposes, does hereby declare that the lots and tracks in said subdivision shall from and after the date of this instrument be held and conveyed subject to the covenants, conditions, easements, restrictions and reservations hereinafter set out."),m("p",{style:{"white-space":"pre-wrap"}},["M.G. Rosenthal does hereby dedicate the streets, drives, and lanes for use by the public as such reserving the right unto himself, his heirs, successors, and assigns to, at any time, use the same for the installation, maintenance, repairs, and renewal of any and all public utilities.",m("br")]),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","DEFINITIONS"))),m("p",{style:{"white-space":"pre-wrap"}},"The word street as used herein shall include any street, drive. Boulevard, road, lane, avenue, or place as shown on the recorded plat as a thoroughfare."),m("p",{style:{"white-space":"pre-wrap"}},["A corner lot is one that abuts on more than one street.",m.trust("&nbsp;")," Any lot, except a corner, is deemed to front on the street upon which it abuts.",m.trust("&nbsp;")," A corner lot shall be deemed to front on the street on which it has smallest frontage."]),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","RESTRICTIONS"))),m("p",{style:{"white-space":"pre-wrap"}},["For the purpose of creating and carrying out uniform plan for improvement and sale of property in said addition as a restricted addition, the following restrictions upon the use of said property are hereby established and adopted, subject to the provisions hereof, and shall be made part of each and every contract and deed executed by or on behalf of M. G. Rosenthal, his heirs, successors, and assigns, by appropriate reference to this dedication and same shall be considered a part of each contract and deed as though incorporated fully therein.",m.trust("&nbsp;")," And these restrictions as hereinafter set forth shall be and are, hereby imposed upon each lot or parcel of land in said additions shown by said plat and referred to herein, and same shall constitute",m.trust("&nbsp;")," covenants remaining with land and shall be binding upon, and shall insure to the benefit of M. G. Rosenthal, his heirs, successors, and assignee, and all subsequent purchases for said property, and each purchaser, by virtue of accepting a contract or deed of said property, shall be subject to and bound by such restrictions, covenants and conditions and for terms of this instrument as hereinafter set forth."]),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","USE OF LAND"))),m("ol",{"data-rte-list":"default"},[m("li",m("p",{style:{"white-space":"pre-wrap"}},"No lots shall be used for anything other than residential purposes except Commercial Reserve Lots in Blocks 1 and 5, as shown by the Plat of Bonham Acres Section 3, which plots and areas have been set aside for community center and business purpose, such as retail stores, offices, shops, and utility facilities as may be hereinafter determined by M.G. Rosenthal, his heirs, successors, and assigns.")),m("li",m("p",{style:{"white-space":"pre-wrap"}},"No sign of any kind shall be displayed to the public view on any residential lot except one sign of not more than five square feet advertising the property for sale or rent, or signs used by builders to advertise the property during the construction and sales period.")),m("li",m("p",{style:{"white-space":"pre-wrap"}},"No animals, livestock, or poultry of any kind shall be raised, bred, or kept on any lot, except that dogs, cats, or other household pets may be kept, provided that they are not kept, bred, or maintained for any commercial purposes.")),m("li",m("p",{style:{"white-space":"pre-wrap"}},"No noxious or offensive trade or activity shall be carried on o or upon any lot, nor shall anything be done thereon which may be, or become any annoyance or nuisance to the neighborhood.")),m("li",m("p",{style:{"white-space":"pre-wrap"}},"No spiritous, vinous, or malt or medicated bitters capable of producing intoxication shall ever be sold, or offered for sale on said premises, or any part thereof, except on commercial reserve lots in blocks 1 and 5, nor shall said premises, or any part thereof except on commercial reserve lots in blocks 1 and 5 be used for private or public professional purposes, nor shall any part thereof be used for illegal or immoral purposes."))]),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","ARCHITECTURAL RESTRICTIONS"))),m("p",{style:{"white-space":"pre-wrap"}},["No improvements of any character shall be erected, or the erection thereof",m.trust("&nbsp;")," begun, of changes made in the exterior design thereof after original construction on any lot or home site in Bonham Acres Section 3, until plans and specifications have been submitted to and approved by the Architectural Committee hereinafter constituted. Such approval is to include exterior design, the type of material to be used, and the colors to be applied on the exterior of the structure, and such approval is to be based on the following general requirements, stipulations, and restrictions:"]),m("p",{style:{"white-space":"pre-wrap"}}),m("ol",{"data-rte-list":"default"},[m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No dwelling shall be erected or placed on any lot having a width of less than 70 feet at the minimum building setback line, nor shall any dwelling be erected or placed on any lot having an area of less than 7000 square feet. Lots 37 through 41 inclusive, in Block 3, may have widths at minimum set back lines as shown on Plat."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"All lots in the tract, except Commercial Reserve Lots block 1 and 5, shall be used for residential purposes."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No structure shall be erected on any residential plot other than one single family dwelling not to exceed two stories in height and one or two car garage."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No structure shall be moved onto any lot."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No trailer, basement, tent, shack, garage or barn or other out building erected in the tract shall at any time be used as a residence either temporarily or permanently, except as provided (f) below, nor shall any residence of a temporary character be permitted. No temporary building shall be erected or maintained on any lot except during actual construction of a home being erected thereon. That such temporary building must be on the lot on which construction is in progress and not on adjoining lots, streets, or easements. At completion the temporary building must be removed immediately. No such temporary building or structure shall be used for residential purposes during construction."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No garage apartment for rental purposes shall be permitted. However, this does not prevent occupancy of servants quarters by domestic servants domiciled with an owner occupant."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"All improvements shall be constructed on the lot so as to front on the street upon which such lot faces."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"Dwelling on corner lots shall have a presentable frontage on all streets which that particular lot fronts."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No residence shall be constructed on any lot or building site in the addition costing less than Nine Thousand Dollars ($9,000.00). These restrictions as to the value of improvements are to be given consideration based upon labor and material costs as of September 1, 1954. And all future values of improvements is to be given consideration based upon comparable costs of labor and material at the time of construction, using the basic value hereinabove given."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No residence shall be constructed on any lot or building or building lot in this addition with less than one thousand (1,000) square feet of ground floor area exclusive of porches and garage."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"The building lines of any residence to be erected in Bonham Acres Section 3 shall be as follows: Not less than twenty five (25) feet from the front property line, except Lots 37 through 41 in block 3, which may be erected 20 feet thereafter, and not less than five (5) feet from the side property line, except that on all corner lots no structure shall be erected nearer than ten (10) feet from side property line abutting a tract no swelling shall be located on any lot nearer than twenty five (25) feet to the rear lot line."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No fence , wall, hedge, pergola, or other detached structures for ornamental purposes shall be erected, grown, or maintained on any part of any lot forward of the front building of said lot without a written consent of the Architectural Committee."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No radio aerial wires shall be maintained on any portion of ant lot forward of the front building line of said lot."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No detached garage, servants house or other out building of any kind shall be erected on any lot nearer than seventy (70) feet to the front property line, nearer than five (5) feet to either side property line, or nearer than the easement on the rear or side property line of said lot. This does not apply to garage and servants quarters when attached to the main residents but any servant quarters attached to the main residence must be in the rear of same. No outside toilets will be permitted. No outbuilding shall exceed in height the dwelling to which they are appurtenant, without the written consent of the Architectural Committee. Every outbuilding, except a greenhouse, shall correspond in style and architecture to the dwelling which it is appurtenant. The right is reserved by the Architectural Committee to change these restrictions in the case of unusual and irregular shaped lots 37 through 41 in Block 3, where same is required for the best appearance of the immediate community."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No building of frame construction on the exterior of any kind or character shall be erected on any lot unless same, at the time of construction, shall receive at least two coats of paint."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No building material of any kind shall be placed or stored upon the property until the owner is ready to commence improvements and then such material shall be placed within the property lines of the lot, or parcel of land, upon which the improvements are to be erected and shall not be placed in the street or between the pavement and property line."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No stumps, tree, underbrush, or any refuse of any kind, or scrap material from the improvements being erected on any lot, shall be placed on any adjoining lots, streets, or easements. All such material, if not disposed of immediately, must remain on the property on which construction work is in progress and at the completion of such improvements such material must be immediately removed from the property."),m("p",{style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No oil drilling, oil development operations, oil refining, quarrying or mining of any kind shall be permitted upon or in any lots, nor shall oil wells, tanks, terminals, mineral excavations or shafts be permitted upon or in any lot. No derrick or other structures designed for use in boring for oil or natural gas shall be erected, maintained or permitted upon any lot."),m("p",{style:{"white-space":"pre-wrap"}})])]),m("p",{style:{"white-space":"pre-wrap"}},["The Architectural Committee shall be composed of Harold Hill, Ray Wilson, and Dr. Russell Bonham, all of Harris County, Texas.",m.trust("&nbsp;")," This Committee and its successors are hereby vested with the full right and authority to act as such under the provisions of these restrictions. The majority of such committee shall have the right to designate a representative to act for it in all matters arising hereunder.",m.trust("&nbsp;")," In the event of the death or resignation of any member of the Committee, the remaining members shall have full right and authority to act herein and to designate a representative to assist."]),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},"In the event said committee or its designated representative fails to approve or disapprove any design or location within 30 days after plans and specifications have been submitted to it, or in any event, if no suit to enjoin the erection of such building or the making of such alterations has been commenced prior to completion thereof, such approval will not be required and the covenants contained in these restrictions shall be deemed to have been fully complied with."),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},"Neither the members of such Committee, nor any designated representatives, shall be entitled to any compensation for services preformed pursuant to these restrictions."),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},["At any time a vacancy exists on said committee M.G. Rosenthal shall have the right to fill vacancies and should he fail to do so within 30 days after receiving notice of such vacancy the remaining members of the committee shall have the right to fill any vacancy.",m.trust("&nbsp;")," All appointments and designations of persons as successors to the Committee shall be made in writing by a recordable instrument, which shall be filed for record in Harris County Texas.",m.trust("&nbsp;")," The powers and duties of the Committee, as from time to time constituted, shall continue in force during the effective period of the restrictions hereby created."]),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},["Thereafter, the owners of fifty one percent (51%) of the lots in Bonham Acres Section 3 (one lot or home site constituting one ownership) becoming dissatisfied with any members as then constituted, shall have the right to remove any member or members of said committee, and may designate and appoint a new member or members by written petition bearing, the signatures of the property owners so acting.",m.trust("&nbsp;")," The petition shall show the property owned by each petitioner.",m.trust("&nbsp;")," In case property is owned by man and wife as community property, the signature of the husband alone shall be sufficient, except that in cases where the husband resides elsewhere, or has abandoned his wife, her signature shall be sufficient alone.",m("br")]),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","DURATION OF RESTRICTIONS"))),m("p",{style:{"white-space":"pre-wrap"}},m("br")),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","RIGHT TO ENFORCE"))),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},m("span",{style:{"text-decoration":"underline"}},m("strong","EASEMENTS"))),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},m("br")),m("p",{style:{"white-space":"pre-wrap"}},m("br")),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},"EXECUTED at Houston, Texas, as of the 1st of September, A, D. 1954."),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},"ATTEST:"),m("p",{style:{"white-space":"pre-wrap"}},"___________________"),m("p",{style:{"white-space":"pre-wrap"}},["*W Goldston - Cashier",m("br"),m("em","*The signatures and the Seal of University State Bank appear on original and filed copy"),m("br")]),m("p",{style:{"white-space":"pre-wrap"}},"THE STATE OF TEXAS"),m("p",{style:{"white-space":"pre-wrap"}},"COUNTY OF HARRIS"),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},["BEFORE ME, the undersigned authority, a Notary Public in and for said County and State, on this day personally appeared, M. G. Rosenthal known to me to be the person whose name is subscribed to the fore going instrument, and acknowledge to me that he executed the same for the purpose and consideration therein expressed.",m.trust("&nbsp;")]),m("p",{style:{"white-space":"pre-wrap"}}),m("p",{style:{"white-space":"pre-wrap"}},"GIVEN under my hand and seal of office, this 26th day of October, A.D., 1954."),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"___________________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"*Elaine L. Oates"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"Notary Public in and for Harris County Texas"),m("p",{style:{"white-space":"pre-wrap"}},m("em","*Elaine L. Oates signature and Seal appear on original and filed copy"))],CADAWAC=[m("h3",{style:{"text-align":"center","white-space":"pre-wrap"}},m("strong","# 1052372")),m("h3",{style:{"text-align":"center","white-space":"pre-wrap"}},[m.trust("&nbsp;"),"Bonham Acres Subdivision Section 2 - Cadawac Rd"]),m("p",{style:{"white-space":"pre-wrap"}},"THE STATE OF TEXAS"),m("p",{style:{"text-align":"right","margin-left":"40px","white-space":"pre-wrap"}},"KNOW ALL MEN BY THESE PRESENTS:"),m("p",{style:{"white-space":"pre-wrap"}},"COUNTY OF HARRIS"),m("p",{style:{"white-space":"pre-wrap"}},["That we, Dr. Russell F. Bonham and wife Dora Bonham; the owners of Bonham Acres ",m("strong","Second Section,")," a Sub-division out of the ",m("em","J. "),"R. Black Survey, Abstract 134, Harris County, Texas, a plat of which was filed with the County Clerk of Harris County, Texas, on September 5, 1952, under File No. 1037211, and which instrument is of record. ",m("em","in "),"Volume ____",m("span",{style:{"text-decoration":"underline"}},m("strong",m("em",","))),m("strong",m("em")),"Page ____of the Records of Maps and Plats of Harris County, Texas, do hereby establish the following minimum restrictions and covenants upon the use ",m("strong",["of Lots A ",m.trust("&amp;")," B ",m.trust("&amp;")," lots 1 to 32,"])," inclusive, in said Addition, and hereby declare that all conveyances of said lots or tracts in said Addition shall be subject to the following minimum restrictions, covenants, easements and conditions, which shall be, continue and remain in effect until January 1, 1972, at which time, said covenants and restrictions shall be automatically extended for successive periods of ten years unless by a vote of the majority of the then owners of the lots in said Addition, it is agreed to change the said covenants or restrictions it whole or in part. Such vote shall be evidenced by written declaration, signed and acknowledged by such owners wad recorded in the Deed Records of ",m("em","Harris "),"County, Texas.",m("br")]),m("ol",{"data-rte-list":"default"},[m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No business or professional house, sanitarium, hospital, saloon, place of public amusement or entertainment, livery stable, factory, warehouse, duplex, apartment house, rooming house, boarding house, or place of business of any kind, shall be constructed, built, kept or maintained on the said lots, nor shall any house on said premises be used for any such purpose or purposes, but said premises shall be used for one family residence only. No trailer, tent, or other outbuilding placed or erected on said lots shall at any tine be used as a residence, either temporarily or permanently, nor shall any structure of a temporary character be used as a residence."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No building shall be erected, placed or altered on any of said lots until the building plans, specifications and plot plan showing the location of such building shall have been submitted to end approved in writing by Dr. Russell F, Bonham or wife, Dora Bonham, or their authorized representatives., for conformity and harmony of external design with existing structures in the subdivision; and as to location of the building with respect to property and building setback lines. If the aforesaid individuals or their authorized representatives fail to approve or disapprove such design or location within fifteen days after plans have been submitted to it, or if no suit to enjoin the erection of such building, or the making of such alterations has been commenced prior to the completion thereof, such approval will not be required. Said individuals or their authorized representative shall without compensation. Said individuals shall act and serve until all tracts are sold, and until their successors have been chosen thereafter by the then recorded owners of a majority of said lots who may designate in writing duly recorded in the Deed Records of said County their authorized representative who thereafter have all of the powers, subject to the same limitations as were previously designated to the aforesaid individuals. None of the following restrictions shall be modified without the written approval of a majority of said lot owners."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No residence shall be constructed or located nearer to the front line than twenty five (25) feet, or nearer to the side street line than the building setback lines shown on the recorded plat of this Addition, or close to the nearest point either side property line of same than (10) feet. These restrictions, establishing building line, apply to galleries, porches, porte-cocheres, steps, projections and every other permanent part of the improvements where there is a roof or other covering, except detached garages may appear as close ne five (5) feet to the property line on the side."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"Only one residence may be contracted on any lot or lot and a fractional part of a lot"),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["No servant quarters shall be occupied as a residence, either before or during the erection of ",m("strong",m("em","the ")),"main residence building, snit after the erection of such main residence building, such servant quarters shall be occupied only ",m("strong",m("em","by ")),"domestic servants."]),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No spirituous, vinous or malt liquors, or medicated bitters capable of producing intoxication shall ever be sold or offered for sale on any of said lots"),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["No trash, ashes or other refuse may be thrown ",m("em","on "),m("strong",m("em","any vacant ")),"lot, avenue, boulevard, drive or street."]),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["No nuisance or advertising sign, billboard or other advertising device shall be placed on or suffered to ",m("strong",m("em","remain ")),"upon any of said lots, except that the developers may place thereon such advertising signs or devices as they may deem appropriate, helping to do with ",m("strong",m("em","the ")),"sale ",m("strong",m("em","of the ")),"property, and except that any lot owner may place a lot owned by him for re-sale, a sign so indicating having an area of not more than five square feet and a height of not more than four feet from the surface of the ground."]),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No livestock of any kind shall be kept or harbored on said premises."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No building material of any kind or character shall be placed in the streets, boulevards, drives, avenues, or between the curb and property line, it being required that all building material to be used in the construction of buildings on any of said premises shall be placed within the property line of said premises upon delivery. Furthermore, no building material of any kind shall be placed or stored upon any such premises until the owner is ready to commence construction of such improvements and it is required that upon completion of said improvements, all surplus materials shall be promptly removed from said premises."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No fence or wall of any kind or character or for any purpose which is over six feet in height, except a hedge, shall be erected or permitted on any of said lots, and no fence or wall or hedge of any character shall be erected or permitted between the street and the projection of the residence building lines, except for the East and West lines of said addition."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["It is understood and agreed that ",m("em","the "),"easements shown on said plat and those referred to in this and the section immediately preceding are to be reserved as perpetual easements for the purposes indicated."]),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No drilling, developing, or exploring for oil, gas, sulfur or other minerals shall ever be permitted on any of said lots."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["The type and minimum cost of any residence which may be erected or constructed on said lots ",m("em","stall "),"be an follows;"]),m("p",{style:{"white-space":"pre-wrap"}},"No residence shall be erected on any tract that contains less than 1,150 square feet of floor space, exclusive Of the garage and servant's quarters, porches or breezeways."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"All residences shall be constructed of brick, brick veneer, concrete and stucco, hollow tile, rock, rock veneer, frame, or some other form of building material, but no residence or residences shall be constructed of materials unacceptable to the said individuals for approval of design."),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}})])]),m("p",{style:{"white-space":"pre-wrap"}},["It is understood and agreed that the foregoing restrictions, easements, covenants and conditions shall be ",m("em","deemed. "),"to be covenants running with the land and shall be binding upon all grantees who may purchase any of said lots in said Addition; their ",m("em","heirs "),"or assigns, ",m("em","or any "),"other person claiming under them; and should they, or any of them at any time violate, or attempt to violate, or shall omit to perform or observe any of the foregoing restrictions or conditions, it shall be lawful for any person owning land, which is subject to the same restrictions or conditions in respect to which default is made, or for the said owners, their heirs, representatives, successors and assigns, to institute and prosecute appropriate proceedings at law or in equity for the wrong done or attempted"]),m("p",{"data-rte-preserve-empty":"true",style:{"white-space":"pre-wrap"}}),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},"EXECUTED this the 14th of October, A, D. 1952."),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"____________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"*Dr. Russell F. Bonham"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"____________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"*Dora Bonham"),m("p",{style:{"white-space":"pre-wrap"}},[m("em","*Original Recorded Copies were signed"),m("br")]),m("p",{style:{"white-space":"pre-wrap"}},"THE STATE OF TEXAS"),m("p",{style:{"white-space":"pre-wrap"}},"COUNTY OF HARRIS"),m("p",{style:{"white-space":"pre-wrap"}},["BEFORE ME, the undersigned authority, on this day personally appeared, DR. RUSSELL F. BONHAM and wife DORA BONHAM, known to me to be the persons whose names are subscribed to the foregoing instrument, and acknowledged to me that they executed the same for the purpose and considerations therein expressed; and the said DORA BONHAM, wife of the said DR. RUSSELL F. BONHAM, having been examined by me privately and apart from her husband , and having the same fully explained to her, she, the said DORA BONHAM, acknowledged said instrument to be her act and deed and declared that she had willingly signed the same for the purpose and consideration therein expressed, and that she did not wish to retract it.",m("br")]),m("p",{style:{"white-space":"pre-wrap"}},"GIVEN UNDER MY HAND AND SEAL OF OFFICE this the 14th day of October, A.D., 1952."),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"___________________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"W.H. COLBERT"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"Notary Public in and for Harris County Texas"),m("p",{style:{"white-space":"pre-wrap"}},[m("em","W.H. COLBERT signature and Seal appear on original and filed copy"),m("br"),m("em","Filed for Record "),m("span",{style:{"text-decoration":"underline"}},m("strong",m("em","Oct 16, 1952, "))),m("strong",m("em","at 1:00 oclock PM"))])],pages={BONHOMME:[m("h3",{style:{"text-align":"center","white-space":"pre-wrap"}},m("strong","# 521224 ")),m("h3",{style:{"text-align":"center","white-space":"pre-wrap"}},"Bonham Acres Subdivision Section 1 - Bonhomme Rd"),m("p",{style:{"white-space":"pre-wrap"}},"THE STATE OF TEXAS"),m("p",{style:{"text-align":"right","margin-left":"40px","white-space":"pre-wrap"}},"KNOW ALL MEN BY THESE PRESENTS:"),m("p",{style:{"white-space":"pre-wrap"}},"COUNTY OF HARRIS"),m("p",{style:{"white-space":"pre-wrap"}},["That we, Dr. Russell F. Bonham and wife Dora Bonham; the owners of Bonham Acres,a Sub-division out of the ",m("em","J. "),"R. Black Surveys, a plat of which is recorded. ",m("em","in "),"Volume 24",m("span",{style:{"text-decoration":"underline"}},m("strong",m("em",","))),m("strong",m("em")),"Page 26 of the Records of Maps and Plats of Harris County, Texas, and joined herein by Richard I Anderson and wife Doris Anderson",m("strong",[", do hereby establish the following minimum restrictions and covenants upon the use",m.trust("&nbsp;")," of lots Nos. 2 to 20 "]),"inclusive, in said Addition, and hereby declare that all conveyances of said lots or tracts in said Addition shall be subject to the following minimum restrictions, covenants, easements and conditions, which shall be, continue and remain in effect until January 1, 1970, at which time, said covenants and restrictions shall be automatically extended for successive periods of ten years unless by a vote of the majority of the then owners of the lots in said Addition, it is agreed to change the said covenants or restrictions it whole or in part. Such vote shall be evidenced by written declaration, signed and acknowledged by such owners wad recorded in the Deed Records of ",m("em","Harris "),"County, Texas."]),m("p",{style:{"white-space":"pre-wrap"}},m("br")),m("ol",{"data-rte-list":"default"},[m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No business or professional house, sanitarium, hospital, saloon, place of public amusement or entertainment, livery stable, factory, warehouse, duplex, apartment house, rooming house, boarding house, or place of business of any kind, shall be constructed, built, kept or maintained on the said lots, nor shall any house on said premises be used for any such purpose or purposes, but said premises shall be used for one family residence only. No trailer, tent, or other outbuilding placed or erected on said lots shall at any tine be used as a residence, either temporarily or permanently, nor shall any structure of a temporary character be used as a residence."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No building shall be erected, placed or altered on any of said lots until the building plans, specifications and plot plan showing the location of such building shall have been submitted to end approved in writing by Dr. Russell F, Bonham or wife, Dora Bonham, or their authorized representatives., for conformity and harmony of external design with existing structures in the subdivision; and as to location of the building with respect to property and building setback lines. If the aforesaid individuals or their authorized representatives fail to approve or disapprove such design or location within fifteen days after plans have been submitted to it, or if no suit to enjoin the erection of such building, or the making of such alterations has been commenced prior to the completion thereof, such approval will not be required. Said individuals or their authorized representative shall act without compensation. Said individuals shall act and serve until all tracts are sold, and until their successors have been chosen thereafter by the then recorded owners of a majority of said lots who may designate in writing duly recorded in the Deed Records of said County their authorized representative who thereafter have all of the powers, subject to the same limitations as were previously designated to the aforesaid individuals. None of the following restrictions shall be modified without the written approval of a majority of said lot owners."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No residence shall be constructed or located nearer to the front line than twenty five (50) feet, or nearer to the side street line than the building setback lines shown on the recorded plat of this Addition, or close to the nearest point either side property line of same than (10) feet. These restrictions, establishing building line, apply to galleries, porches, porte-cocheres, steps, projections and every other permanent part of the improvements where there is a roof or other covering."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"Only one residence may be contracted on any lot or lot and a fractional part of a lot"),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["No servant quarters shall be occupied as a residence, either before or during the erection of ",m("strong",m("em","the ")),"main residence building, and after the erection of such main residence building, such servant quarters shall be occupied only ",m("strong",m("em","by ")),"domestic servants."]),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No spirituous, vinous or malt liquors, or medicated bitters capable of producing intoxication shall ever be sold or offered for sale on any of said lots"),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["No trash, ashes or other refuse may be thrown ",m("em","on "),m("strong",m("em","any vacant ")),"lot, avenue, boulevard, drive or street."]),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["No nuisance or advertising sign, billboard or other advertising device shall be placed on or suffered to ",m("strong",m("em","remain ")),"upon any of said lots, except that the developers may place thereon such advertising signs or devices as they may deem appropriate, helping to do with ",m("strong",m("em","the ")),"sale ",m("strong",m("em","of the ")),"property, and except that any lot owner may place a lot owned by him for re-sale, a sign so indicating having an area of not more than five square feet and a height of not more than four feet from the surface of the ground."]),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No livestock of any kind shall be kept or harbored on said premises."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No building material of any kind or character shall be placed in the streets, boulevards, drives, avenues, or between the curb and property line, it being required that all building material to be used in the construction of buildings on any of said premises shall be placed within the property line of said premises upon delivery. Furthermore, no building material of any kind shall be placed or stored upon any such premises until the owner is ready to commence construction of such improvements and it is required that upon completion of said improvements, all surplus materials shall be promptly removed from said premises."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No fence or wall of any kind or character or for any purpose which is over six feet in height, except a hedge, shall be erected or permitted on any of said lots, and no fence or wall or hedge of any character shall be erected or permitted between the street and the projection of the residence building lines, except for the East and West lines of said addition."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["It is understood and agreed that ",m("em","the "),"easements shown on said plat and those referred to in this and the section immediately preceding are to be reserved as perpetual easements for the purposes indicated."]),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},"No drilling, developing, or exploring for oil, gas, sulfur or other minerals shall ever be permitted on any of said lots."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",[m("p",{style:{"white-space":"pre-wrap"}},["The type and minimum cost of any residence which may be erected or constructed on said lots ",m("em","stall "),"be an follows;"]),m("p",{style:{"white-space":"pre-wrap"}},"No residence shall be erected on any tract that contains less than 1,500 square feet of floor space, exclusive of the garage and servant's quarters, porches or breezeways."),m("p",{style:{"white-space":"pre-wrap"}},m("br"))]),m("li",m("p",{style:{"white-space":"pre-wrap"}},"All residences shall be constructed of brick, brick veneer, concrete and stucco, hollow tile, rock, rock veneer, frame, or some other form of building material, but no residence or residences shall be constructed of materials unacceptable to the said individuals for approval of design."))]),m("p",{style:{"white-space":"pre-wrap"}},[m("br"),"It is understood and agreed that the foregoing restrictions, easements, covenants and conditions shall be ",m("em","deemed. "),"to be covenants running with the land and shall be binding upon all grantees who may purchase any of said lots in said Addition; their ",m("em","heirs "),"or assigns, ",m("em","or any "),"other person claiming under them; and should they, or any of them at any time violate, or attempt to violate, or shall omit to perform or observe any of the foregoing restrictions or conditions, it shall be lawful for any person owning land, which is subject to the same restrictions or conditions in respect to which default is made, or for the said owners, their heirs, representatives, successors and assigns, to institute and prosecute appropriate proceedings at law or in equity for the wrong done or attempted",m("br"),m("br")]),m("p",{style:{"text-align":"center","white-space":"pre-wrap"}},"EXECUTED this the 19th of April, A, D. 1948."),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"____________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"*Dr. Russell F. Bonham"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"____________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"*Dora Bonham"),m("p",{style:{"white-space":"pre-wrap"}},m("em","*Original Recorded Copies were signed")),m("p",{style:{"white-space":"pre-wrap"}},"THE STATE OF TEXAS"),m("p",{style:{"white-space":"pre-wrap"}},"COUNTY OF HARRIS"),m("p",{style:{"white-space":"pre-wrap"}},[m("br"),"BEFORE ME, the undersigned authority, on this day personally appeared, DR. RUSSELL F. BONHAM and wife DORA BONHAM, known to me to be the persons whose names are subscribed to the foregoing instrument, and acknowledged to me that they executed the same for the purpose and considerations therein expressed; and the said DORA BONHAM, wife of the said DR. RUSSELL F. BONHAM, having been examined by me privately and apart from her husband , and having the same fully explained to her, she, the said DORA BONHAM, acknowledged said instrument to be her act and deed and declared that she had willingly signed the same for the purpose and consideration therein expressed, and that she did not wish to retract it."]),m("p",{style:{"white-space":"pre-wrap"}},m("br")),m("p",{style:{"white-space":"pre-wrap"}},"GIVEN UNDER MY HAND AND SEAL OF OFFICE this the 19th day of April, A.D., 1948."),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"___________________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"W.H. COLBERT"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},["Notary Public in and for Harris County Texas",m("br"),m("br")]),m("p",{style:{"white-space":"pre-wrap"}},["THE STATE OF TEXAS",m("br"),"COUNTY OF HARRIS"]),m("p",{style:{"white-space":"pre-wrap"}},"BEFORE ME, the undersigned authority, on this day personally appeared, RICHARD I. ANDERSON and wife DORIS ANDERSON, known to me to be the persons whose names are subscribed to the foregoing instrument, and acknowledged to me that they executed the same for the purpose and considerations therein expressed; and the said DORIS ANDERSON, wife of the said RICHARD I. ANDERSON, having been examined by me privately and apart from her husband , and having the same fully explained to her, she, the said DORA BONHAM, acknowledged said instrument to be her act and deed and declared that she had willingly signed the same for the purpose and consideration therein expressed, and that she did not wish to retract it."),m("p",{style:{"white-space":"pre-wrap"}},"GIVEN UNDER MY HAND AND SEAL OF OFFICE this the 19th day of April, A.D., 1948."),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"___________________________________"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"W.H. COLBERT"),m("p",{style:{"text-align":"right","white-space":"pre-wrap"}},"Notary Public in and for Harris County Texas"),m("p",{style:{"white-space":"pre-wrap"}},m("em","W.H. COLBERT signature and Seal appear on original and filed copy")),m("p",{style:{"white-space":"pre-wrap"}},[m("em","Filed for Record "),m("span",{style:{"text-decoration":"underline"}},[m("em","April 21, 1952, at 3:00 oclock PM")])])],CADAWAC:CADAWAC,LUGARY:LUGARY},state_page=null!==(_mdl$state$anchor$toU=null===(_mdl$state$anchor=mdl.state.anchor)||void 0===_mdl$state$anchor?void 0:_mdl$state$anchor.toUpperCase())&&void 0!==_mdl$state$anchor$toU?_mdl$state$anchor$toU:"BONHOMME";return{view:function(){return m("section",m("nav.tabs",Object.keys(pages).map((function(tab){return m(m.route.Link,{href:"/legal/deed-restrictions#".concat(tab),class:state_page==tab?"active tab.pointer":"tab.pointer"},tab)}))),m("section.card.container",{style:{height:"100vh",overflow:"scroll"}},pages[state_page]))}}};exports.default=_default})),require.register("Pages/default.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(mdl){return{view:function(_ref){_ref.attrs.mdl;return m(".container",m(".hero","COMING SOON"))}}};exports.default=_default})),require.register("Pages/faq.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(mdl){return{view:function(_ref){_ref.attrs.mdl;return m(".frow-container frow-center","")}}};exports.default=_default})),require.register("Pages/home.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Layouts=require("../Layouts"),_DateTime=_interopRequireDefault(require("Components/DateTime")),_cjs=require("@mithril-icons/clarity/cjs"),_gliderMin=_interopRequireDefault(require("Utils/glider.min.js")),_ramda=require("ramda");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var State={events:null,blogs:null,images:null},Blog={view:function(_ref){var _ref$attrs=_ref.attrs,idx=(_ref$attrs.mdl,_ref$attrs.idx),blog=_ref$attrs.blog;return m(".card.opacity-overlay.is-vertical-align m6 row",{key:idx,style:{height:"200px",alignContent:"stretch",overflow:"auto"}},m("img",{src:blog.img||"images/main.webp",style:{objectFit:"contain",maxHeight:"150px"}}),m("h2.text-primary text-wrap",blog.title),m(m.route.Link,{selector:"button",class:"button primary outline is-full-width",href:"/social/blog-post:".concat(blog.objectId)},m("p","...Read More")))}},Img={view:function(_ref2){var _ref2$attrs=_ref2.attrs,idx=_ref2$attrs.idx,img=_ref2$attrs.img;return m(".card.m6",{style:{width:"250px"}},m("img.is-center",{style:{height:"100%",margin:"0 auto"},key:idx,src:img.thumb}))}},Event={view:function(_ref3){var _ref3$attrs=_ref3.attrs,mdl=_ref3$attrs.mdl,idx=_ref3$attrs.idx,event=_ref3$attrs.event;return m(".card.is-vertical-align m6 row",{key:idx,style:{height:"200px",backgroundImage:event.image,alignContent:"stretch",overflow:"auto"}},event.allDay&&m("p.tag","All Day Event!"),m(".row.grouped",m("h2.is-left.text-primary text-wrap",event.title),m("img.is-right",{style:{maxHeight:"100px"},src:event.image})),m(_DateTime.default,{event:event}),m(m.route.Link,{selector:"button",class:"button primary outline is-full-width",onclick:function(){return mdl.state.selectedPreviewEvent(event.objectId)},href:"/social/events"},m("p","...Read More")))}},Slider={view:function(_ref4){var _ref4$attrs=_ref4.attrs,mdl=_ref4$attrs.mdl,data=_ref4$attrs.data,type=_ref4$attrs.type;return m(".grouped.glider",{style:{maxHeight:"350px"}},(0,_ramda.clone)(data).reverse().map((function(item,idx){return"event"==type?m(Event,{mdl:mdl,event:item,idx:idx}):"img"==type?m(Img,{mdl:mdl,img:item,idx:idx}):"blog"==type?m(Blog,{mdl:mdl,blog:item,idx:idx}):void 0})))}},Nav={view:function(){return m("nav.p-t-25.row",m(".nav-left",m("button.button.m-auto.outline.dark",{style:{width:"80%"}},m(_cjs.AngleDoubleLine,{style:{transform:"rotate(270deg)",transition:"transform .3s ease-out"}}))),m(".nav-right",m("button.button.m-auto.outline.dark",{style:{width:"80%"}},m(_cjs.AngleDoubleLine,{style:{transform:"rotate(90deg)",transition:"transform .3s ease-out"}}))))}},Section={view:function(_ref5){var _ref5$attrs=_ref5.attrs,mdl=_ref5$attrs.mdl,title=_ref5$attrs.title,type=_ref5$attrs.type,data=_ref5$attrs.data;return m("section.row.p-b-25",data.any()&&m(".glider-contain",{onbeforeremove:function(_ref6){var dom=_ref6.dom;return State[dom.id].destroy()},oncreate:function(_ref7){return function(dom){var slides=dom.children[1],prev=dom.children[2].children[0],next=dom.children[2].children[1],slider=new _gliderMin.default(slides,{duration:.5,arrows:{prev:prev,next:next},draggable:!0,dragVelocity:3.3,easing:function(x,t,b,c,d){return c*(t/=d)*t+b},scrollPropagate:!1,rewind:!0,eventPropagate:!0,scrollLock:!0,scrollLockDelay:150,resizeLock:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:4,itemWidth:"100%",slidesToScroll:2}},{breakpoint:1e3,settings:{slidesToShow:3,itemWidth:"100%",slidesToScroll:1}},{breakpoint:624,settings:{slidesToShow:2,itemWidth:"100%",slidesToScroll:1}},{breakpoint:300,settings:{slidesToShow:1,itemWidth:"100%",slidesToScroll:1}}]});State[dom.id]=slider}(_ref7.dom)}},m("h2.is-center.strong",title),m(Slider,{mdl:mdl,data:data,type:type}),m(Nav)))}},_default={oninit:_Layouts.fetchAll,view:function(_ref8){var mdl=_ref8.attrs.mdl;return m("article.grid",m(Section,{mdl:mdl,title:"Upcoming Events!",type:"event",data:mdl.data.events}),m(Section,{mdl:mdl,title:"Recent Photos",type:"img",data:mdl.data.images}),m(Section,{mdl:mdl,title:"Latest Blog Posts!",type:"blog",data:mdl.data.blogs}))}};exports.default=_default})),require.register("Pages/join-baca.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(mdl){return{view:function(_ref){_ref.attrs.mdl;return m("",m("section.card",m("hgroup",m("p","BACA operates as a non-profit organization for community and civic improvement and protection and other non-profit purposes."),m("p","Any income received shall be applied only to the non-profit purposes and objectives of the organization, and no part of the income shall inure to the benefit of any officer or member."),m("p","We will use the ",m("span.text-primary","annual $50 membership")," to maintain ",m(m.route.Link,{selector:"a",class:"underline",href:"/"},"bonhamacres.org"),", Bonham Acre monuments, BACA work & communication uphold deed restriction and city ordinances, mailers & signage, social events, other items as voted on by BACA members."),m("h3","We are not a HOA",m("a",{target:"__blank",href:"https://independentamericancommunities.com/2017/06/18/civic-and-neighborhood-associations-very-different-from-modern-hoas/"}," we are a voluntary civic association "),"with the goal of helping one another!!"))),m("section.bg-primary.text-white.card",m("h2","Why Join?"),m("hgroup",m("h4","Safety & Peace for You & YOUR Family and everyone else in the neighborhood."),m("p","If you want to protect YOU & YOUR family, you can either rely on yourself alone or else with neighbors working togetherby reporting crimes and violations that disturb peace, tranquility and joy.  When you",m("span.strong"," become involved "),"in BACA, you are on the team that will be looking out for each other! ")),m("hgroup",m("h4","Safeguard YOUR property value."),m("p","If you want to protect your property value, you can either rely on someone else to do it or do it yourself by joining other residents to work for the betterment of our community. When you",m("span.strong"," join "),"BACA, you have better control over community rules and maintenance, which can affect the value of your property.As a ",m("span.strong"," homeowner ")," it's only normal to have an interest in your investment.")),m("hgroup",m("h4","Work with the City of Houston and Precinct 3 for the benefit of BACA."),m("p","If you want to leverage many voices, namely the many members of Bonham Acres, to work with organizations, commercial entities, governments to improvement our neighborhood you need to join."))))}}};exports.default=_default})),require.register("Routes/authenticated-routes.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default2=_interopRequireDefault(require("Pages/default.js")),_index=_interopRequireDefault(require("Pages/Account/index.js")),_Admin=_interopRequireDefault(require("Pages/Admin")),_index2=_interopRequireDefault(require("Layouts/index.js")),_Utils=require("Utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=[{id:"account",name:"Account",route:"/account/:name",position:["toolbar"],group:["authenticated"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index2.default,{mdl:mdl},m(_index.default,{key:mdl.state.anchor,mdl:mdl}))}},{id:"admin",name:"Admin",route:"/admin/:name",position:["toolbar"],group:["authenticated"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index2.default,{mdl:mdl},m(_Admin.default,{mdl:mdl}))}},{id:"profile-page",name:"Profile Page",route:"/account/:name/profile",position:["settings-nav"],group:["authenticated"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){console.log("profile page login on match",mdl,args,path,fullroute,isAnchor,!mdl.state.isAuth()),isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index2.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"manage-users",name:"Manage Users",route:"/account/:name/user-management",position:["settings-nav"],group:["authenticated","admin"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){"admin"!=mdl.user.role&&m.route.set(m.route.get()),isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index2.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"logout",name:"",route:"/logout",position:[],group:["authenticated","admin"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){localStorage.clear(),sessionStorage.clear(),mdl.state.isAuth(!1),mdl.user={},console.log("loggout",mdl);var currentRoute=m.route.get();["/account"].map((function(r){return currentRoute.includes(r)}))?m.route.set("/"):m.route.set(currentRoute)},component:function(mdl){return m(_index2.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}}];exports.default=_default})),require.register("Routes/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _authenticatedRoutes=_interopRequireDefault(require("./authenticated-routes.js")),_mainRoutes=_interopRequireDefault(require("./main-routes.js")),_legalRoutes=_interopRequireDefault(require("./legal-routes.js")),_safetyRoutes=_interopRequireDefault(require("./safety-routes.js")),_memberRoutes=_interopRequireDefault(require("./member-routes.js")),_socialRoutes=_interopRequireDefault(require("./social-routes.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=(0,require("ramda").flatten)([_authenticatedRoutes.default,_mainRoutes.default,_socialRoutes.default,_memberRoutes.default,_legalRoutes.default,_safetyRoutes.default]);exports.default=_default})),require.register("Routes/legal-routes.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("Layouts/index.js")),_default2=_interopRequireDefault(require("Pages/default.js")),_cityOrdinances=_interopRequireDefault(require("Pages/city-ordinances.js")),_deedRestrictions=_interopRequireDefault(require("Pages/deed-restrictions.js")),_index2=require("Utils/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=[{id:"legal",name:"Legal",route:"/legal",isNav:!0,group:["navmenu"],children:["deed-restrictions","city-ordinances"],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_index2.scrollToAnchor)(mdl.state.anchor):(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"deed-restrictions",name:"Deed Restrictions",route:"/legal/deed-restrictions",isNav:!0,group:["nav","legal"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_deedRestrictions.default,{key:mdl.state.anchor,mdl:mdl}))}},{id:"city-ordinances",name:"City Ordinances",route:"/legal/city-ordinances",isNav:!0,group:["nav","legal"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_index2.scrollToAnchor)(mdl.state.anchor):(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_cityOrdinances.default,{mdl:mdl}))}}];exports.default=_default})),require.register("Routes/main-routes.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("Layouts/index.js")),_contact=_interopRequireDefault(require("Pages/contact.js")),_home=_interopRequireDefault(require("Pages/home.js")),_about=_interopRequireDefault(require("Pages/about.js")),_joinBaca=_interopRequireDefault(require("Pages/join-baca.js")),_index2=require("Utils/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}m("img",{src:"images/baca-logo.webp"});var _default=[{id:"home",name:"Welcome to Bonham Acres Civic Association (BACA)",route:"/",isNav:!0,group:["toolbar"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_index2.scrollToAnchor)(mdl.state.anchor):(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_home.default,{mdl:mdl}))}},{id:"about",name:"About Bonham Acres",route:"/about",isNav:!0,group:["navmenu"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_index2.scrollToAnchor)(mdl.state.anchor):(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_about.default,{mdl:mdl}))}},{id:"contact",name:"Contact BACA",route:"/contact",isNav:!0,group:["navmenu"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_index2.scrollToAnchor)(mdl.state.anchor):(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_contact.default,{mdl:mdl}))}},{id:"join-BACA",name:"Join Bonham Acres Civic Association",route:"/join-BACA",isNav:!1,group:["navmenu"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_index2.scrollToAnchor)(mdl.state.anchor):(0,_index2.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_joinBaca.default,{mdl:mdl}))}}];exports.default=_default})),require.register("Routes/member-routes.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("Layouts/index.js")),_default2=_interopRequireDefault(require("Pages/default.js")),_loginUser=_interopRequireDefault(require("Pages/Auth/login-user.js")),_registerUser=_interopRequireDefault(require("Pages/Auth/register-user.js")),_Utils=require("Utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=[{id:"members",name:"Members",route:"/members",isNav:!1,group:["navbar","members"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"login",name:"Account Login",route:"/login",isNav:!1,group:["nav","members"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_loginUser.default,{mdl:mdl}))}},{id:"register",name:"Register Account",route:"/register",isNav:!1,group:["nav","members"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_registerUser.default,{mdl:mdl}))}},{id:"volunteer",name:"Volunteer",route:"/members/volunteer",isNav:!1,group:["nav","members"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"join",name:"Become a Member",route:"/members/join",isNav:!0,group:["nav","members"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}}];exports.default=_default})),require.register("Routes/safety-routes.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("Layouts/index.js")),_default2=_interopRequireDefault(require("Pages/default.js")),_Utils=require("Utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=[{id:"safety",name:"Safety",route:"/safety",isNav:!0,group:["navmenu"],children:["report","district-J","SeeClickFix","Harrison-County-Public-Health","Houston-311-Service-Request/Report"],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"report",name:"File An Internal Report With BACA",route:"/safety/report",isNav:!0,group:["nav","safety"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"district-J",name:"District J",route:"/external",external:"https://www.houstontx.gov/council/j/request.html",isNav:!0,group:["external","safety"],children:[],options:[]},{id:"Houston-311-Citizen-Portal",name:"Houston 311 Citizen Portal",route:"/external",external:"https://apps.apple.com/us/app/id1556529541",isNav:!0,group:["external","safety"],children:[],options:[]},{id:"Harrison-County-Public-Health",name:"Harrison County Public Health",route:"/external",external:"https://publichealth.harriscountytx.gov/Services-Programs/Services/NeighborhoodNuisance",isNav:!0,group:["external","safety"],children:[],options:[]},{id:"Houston-311-Service-Request/Report",name:"Houston 311 Service Request/Report",route:"/external",external:"https://houston311.powerappsportals.us/en-US/",isNav:!0,group:["external","safety"],children:[],options:[]}];exports.default=_default})),require.register("Routes/social-routes.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("Layouts/index.js")),_default2=_interopRequireDefault(require("Pages/default.js")),_blog=_interopRequireDefault(require("Pages/Blog/blog.js")),_blogEditor=_interopRequireDefault(require("Pages/Blog/blog-editor")),_blogPost=_interopRequireDefault(require("Pages/Blog/blog-post")),_gallery=_interopRequireDefault(require("Pages/Gallery/gallery.js")),_album=_interopRequireDefault(require("Pages/Gallery/album.js")),_index2=_interopRequireDefault(require("Pages/Events/index.js")),_Utils=require("Utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=[{id:"social",name:"Social",route:"/social",isNav:!0,group:["navbar","navmenu"],children:["map-of-bonham-acres","blog","explore","gallery","events","bfn-park"],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"events",name:"Events",route:"/social/events",isNav:!0,group:["nav","social"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_index2.default,{mdl:mdl}))}},{id:"gallery",name:"Photo Gallery",route:"/social/gallery",isNav:!0,group:["nav","social"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_gallery.default,{mdl:mdl}))}},{id:"album",name:"Photo Gallery Album",route:"/social/gallery/album:album",isNav:!1,group:["nav","social"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_album.default,{mdl:mdl}))}},{id:"blog",name:"Blog",route:"/social/blog",isNav:!0,group:["nav","social"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_blog.default,{mdl:mdl}))}},{id:"blog-editor",name:"Blog Editor",route:"/social/blog-editor:objectId",isNav:!1,group:["social","authenticated"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_blogEditor.default,{mdl:mdl}))}},{id:"blog-post",name:"",route:"/social/blog-post:objectId",isNav:!1,group:["social"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)(),mdl.blogpost=args.objectId.slice(1),mdl.blogpost.length>1?m(_index.default,{mdl:mdl},m(_blogPost.default,{mdl:mdl,id:mdl.blogpost})):m.route.SKIP},component:function(mdl){return m(_index.default,{mdl:mdl},m(_blogPost.default,{mdl:mdl,id:mdl.blogpost}))}},{id:"map-of-bonham-acres",name:"Explore Bonham Acres",route:"/social/map",isNav:!0,group:["nav","social"],children:[],options:[],onmatch:function(mdl,args,path,fullroute,isAnchor){return isAnchor?(0,_Utils.scrollToAnchor)(mdl.state.anchor):(0,_Utils.ScrollToPageTitle)()},component:function(mdl){return m(_index.default,{mdl:mdl},m(_default2.default,{mdl:mdl}))}},{id:"bfn-park",name:"Bonham Family Nature Park",route:"/external",external:"https://www.pct3.com/Parks/Bonham-Family-Nature-Park",isNav:!0,group:["nav","social","external"],children:[],options:[]}];exports.default=_default})),require.register("Styles/animations.js",(function(exports,require,module){"use strict";function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoveChildrenOut=exports.animate=exports.SlideChildrenInDown=exports.StretchInLeft=exports.SlideChildrenInRight=exports.SlideUp=exports.FadeIn=exports.FadeOut=exports.FadeBack=exports.SlideDown=exports.SlideOutLeft=exports.SlideOutRight=exports.replaceCSS=exports.AddToCartOut=exports.ToggleFadeOut=exports.AddToCart=exports.SlideInRight=exports.SlideInLeft=exports.SlideInUp=void 0;exports.SlideInUp=function(_ref){return _ref.dom.classList.toggle("slideInUp")};exports.SlideInLeft=function(_ref2){return _ref2.dom.classList.toggle("slideInLeft")};exports.SlideInRight=function(_ref3){return _ref3.dom.classList.toggle("slideInRight")};var AddToCart=function(_ref4){return _ref4.dom.classList.toggle("slide-out-tr")};exports.AddToCart=AddToCart;exports.ToggleFadeOut=function(_ref5){return _ref5.dom.classList.toggle("fade")};exports.AddToCartOut=function(_ref6){var dom=_ref6.dom;return AddToCart({dom:dom}),new Promise((function(resolve){return setTimeout((function(){resolve()}),500)}))};exports.replaceCSS=function(a,b){return function(_ref7){return _ref7.dom.classList.replace(a,b),new Promise((function(resolve){return setTimeout((function(){resolve()}),300)}))}};exports.SlideOutRight=function(_ref8){return _ref8.dom.classList.replace("slideInLeft","slideOutLeft"),new Promise((function(resolve){return setTimeout((function(){resolve()}),300)}))};exports.SlideOutLeft=function(_ref9){return _ref9.dom.classList.replace("slideInRight","slideOutRight"),new Promise((function(resolve){return setTimeout((function(){resolve()}),300)}))};exports.SlideDown=function(_ref10){var dom=_ref10.dom;dom.style.opacity=0,dom.classList.toggle("slideInDown"),dom.style.opacity=1};exports.FadeBack=function(_ref11){var dom=_ref11.dom;return dom.classList.replace("fadeInRight","fadeback"),new Promise((function(resolve){return setTimeout((function(){dom.classList.replace("fadeback","fadeInRight"),dom.addEventListener("animationend",resolve)}),300)}))};exports.FadeOut=function(_ref12){var dom=_ref12.dom;return dom.classList.replace("fade","fadeOut"),new Promise((function(resolve){return setTimeout((function(){dom.classList.replace("fadeOut","fade"),dom.addEventListener("animationend",resolve)}))}))};exports.FadeIn=function(_ref13){var dom=_ref13.dom;return console.log(dom.classList),dom.classList.replace("fadeOut","fade"),console.log(dom.classList),new Promise((function(resolve){return setTimeout((function(){dom.addEventListener("animationend",resolve)}),3e3)}))};exports.SlideUp=function(_ref14){return _ref14.dom.classList.replace("slideInDown","slideOutUp"),new Promise((function(resolve){return setTimeout((function(){resolve()}),300)}))};exports.SlideChildrenInRight=function(_ref15){return _toConsumableArray(_ref15.dom.children).map((function(child,idx){child.style.opacity=0,setTimeout((function(){child.classList.toggle("slideInLeft"),child.style.opacity=1}),10*(idx+1))}))};exports.StretchInLeft=function(idx){return function(_ref16){var dom=_ref16.dom;return dom.style.opacity=0,setTimeout((function(){dom.classList.toggle("stretchRight"),dom.style.opacity=1}),100*idx+20)}};exports.SlideChildrenInDown=function(idx){return function(_ref17){var dom=_ref17.dom;dom.style.opacity=0,setTimeout((function(){dom.classList.toggle("slideDown"),dom.style.opacity=1}),200*(idx+1))}};exports.animate=function(dir){return function(_ref18){var dom=_ref18.dom;dom.style.opacity=0,setTimeout((function(){dom.classList.toggle(dir),dom.style.opacity=1}),200)}};exports.RemoveChildrenOut=function(_ref19){var dom=_ref19.dom;return new Promise((function(){_toConsumableArray(dom.children).reverse().map((function(child,idx){return setTimeout((function(){child.style.display="none"}),100*idx)}))}))}})),require.register("Utils/ckeditor.js",(function(exports,require,module){"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e350){throw _e350},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e351){didErr=!0,err=_e351},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var t,e;t=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}),(e=t.en=t.en||{}).dictionary=Object.assign(e.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"}),
/*!
   * @license Copyright (c) 2003-2022, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   */
function(t,e){"object"==(void 0===exports?"undefined":_typeof(exports))&&"object"==(void 0===module?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==(void 0===exports?"undefined":_typeof(exports))?exports.ClassicEditor=e():t.ClassicEditor=e()}(self,(function(){return function(){var t={3062:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAEC,eAAgB,CAGhB,mBAAoB,CACpB,kBAAmB,CAEnB,aAAc,CACd,cAAe,CACf,iBAAkB,CAClB,0BACD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);var a=s},903:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CACf,iBAAkB,CAClB,mBAMD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEACC,4DAA8D,CAC9D,yDAA2D,CAC3D,sDAAuD,CACvD,gDAAiD,CACjD,gBAkBD,CAfC,yEACC,UAAW,CACX,OAAQ,CACR,QAAS,CAET,aAAc,CACd,iBAAkB,CAClB,QAAS,CACT,yDAA2D,CAE3D,0BAA2B,CAG3B,iFAAmB,CAAnB,iCAAmB,CAAnB,kFAAmB,CAAnB,uGACD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);var a=s},3143:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},4717:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDACC,iBAAkB,CAClB,MAAO,CACP,OAAQ,CACR,8BAA+B,CAG/B,mBACD,CAKA,wCACC,YACD,CClBA,qDACC,WAAY,CACZ,6CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);var a=s},9315:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);var a=s},8733:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);var a=s},3508:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBACC,aAAc,CACd,UAAW,CACX,iBAAkB,CAKlB,gBAAkB,CAGlB,cAeD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAMC,mBAAoB,CAGpB,cAAe,CAGf,sBAiBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEACC,oBAAqB,CACrB,qBAAsB,CAMtB,kBAAmB,CACnB,eAAgB,CAChB,sBACD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var a=s},2640:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BACC,qBAAsB,CACtB,mBAAoB,CACpB,qBAAsB,CACtB,wCAAyC,CACzC,yDAA0D,CAC1D,YAAa,CACb,eAAgB,CAChB,mBACD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);var a=s},5083:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CACC,cAAe,CACf,gBACD,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAEC,+CAAgD,CAChD,kDACD,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);var a=s},4036:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px*var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BACC,aAAc,CACd,iBAAkB,CAMlB,oCAAsC,CACtC,sCAAwC,CACxC,iBAAkB,CAClB,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BACC,SAAU,CACV,uDAAwD,CACxD,wEAA0E,CAC1E,qCAAuC,CACvC,0BAAgC,CAGhC,oDAAuD,CAGvD,sBAA4B,CAM5B,eAAgB,CAChB,mFAAsF,CACtF,oFAyBD,CAtBC,qCAEC,QAAS,CAET,OAAQ,CACR,SAAU,CACV,QAAS,CACT,OAAQ,CAER,mCAAoC,CACpC,yBAA0B,CAC1B,oFAAqF,CACrF,sFAAuF,CAEvF,4CAA6C,CAC7C,sBAAyB,CACzB,mBAAsB,CACtB,4BAA6B,CAG7B,qBACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GACC,SAAU,CACV,OAAQ,CACR,QACD,CACA,IACC,UAAY,CACZ,QACD,CACA,GACC,SAAU,CACV,UAAY,CACZ,YACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);var a=s},3773:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCACC,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,KAAM,CACN,MAMD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAEC,UAAW,CACX,QAeD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCACC,UAAW,CACX,WAUD,CARC,yCACC,8CAA+C,CAC/C,+CAAgD,CAChD,iBAAkB,CAClB,8DAA+D,CAC/D,kCAAmC,CACnC,yDACD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);var a=s},3689:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAEC,iBAAkB,CAClB,KAAM,CACN,MACD,CCRC,yFACC,oBACD,CAID,uGAEC,UAAW,CACX,OAAQ,CACR,gDAAiD,CACjD,oBACD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);var a=s},1905:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},9773:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCACC,WAAY,CACZ,gDAAiD,CACjD,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);var a=s},2347:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCKA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EACC,kCAAmC,CACnC,kCAAmC,CACnC,sBAAuB,CACvB,cAAe,CAIf,+BAAgC,CAChC,aAAc,CACd,iBAKD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDvDD,oCC2DC,wDACC,8DAMD,CAJC,0EACC,WAAY,CACZ,cACD,CAGD,gJAME,aAEF,CD1ED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var a=s},7754:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCACC,SAAU,CACV,+BA8CD,CA5CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CACC,kCAAmC,CACnC,QAAS,CACT,eAAgB,CAChB,QAAS,CACT,gDAAiD,CACjD,SAaD,CAnBA,4GAaE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAWD,CATC,wEACC,QAAS,CACT,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\twidth: 50%;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var a=s},4652:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck-content .media{clear:both;margin:.9em 0;display:block;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CAKX,aAAe,CAIf,aAAc,CAId,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);var a=s},7442:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAQC,0CACC,YAAa,CACb,qBAAsB,CACtB,kBAmBD,CCpBA,kFACC,aAqBD,CAHC,oBAnBD,kFAoBE,YAEF,CADC,CDlBA,sEAIC,cAAe,CAEf,iBAUD,CCoBD,wFACC,kBAAmB,CACnB,SACD,CD3BE,wGACC,eAAgB,CAChB,aACD,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CElDA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CACC,0CAA+C,CAC/C,0CA4BD,CA1BC,uEACC,qDAAsD,CACtD,kDAAmD,CACnD,qCAAsC,CACtC,uBAA2B,CAC3B,qBAMD,CAJC,gFACC,UAAW,CACX,WACD,CAGD,4EACC,sDAAuD,CACvD,kBAAmB,CACnB,iBAAkB,CAClB,iBAAkB,CAClB,sBAOD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDACC,eAAgB,CAChB,gBACD,CAEA,4UAIC,gvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,48BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css";\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t@mixin ck-tooltip_enabled;\n\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t&:hover {\n\t\t\t\t@mixin ck-tooltip_visible;\n\t\t\t}\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not readonly.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var a=s},9292:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBACC,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},1613:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAEC,oJAA2J,CAC3J,yFACD,CAEA,qCACC,iBACD,CAEA,uCACC,+CAAgD,CAChD,iDAAkD,CAClD,iDAAkD,CAClD,4CAA6C,CAC7C,iBAMD,CAJC,6CACC,yCAA0C,CAC1C,6CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\twidth: var(--ck-insert-table-dropdown-box-width);\n\theight: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);var a=s},6306:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAIC,gBAAkB,CAClB,aAgCD,CA9BC,yBAEC,wBAAyB,CACzB,gBAAiB,CAIjB,UAAW,CACX,WAAY,CAIZ,yBAiBD,CAfC,wDAEC,aAAc,CACd,YAAa,CAKb,wBACD,CAEA,4BACC,eAAiB,CACjB,2BACD,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the ediitor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);var a=s},3881:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,8DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);var a=s},6945:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,yDACD,CAGC,0IAEC,iBAAkB,CAClB,uBAAwB,CACxB,aAAc,CACd,gBA8BD,CA3BC,sJACC,UAAW,CACX,mBAAoB,CACpB,yDAA0D,CAC1D,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QACD,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);var a=s},4906:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BCCC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6BD,CE/BC,qDACC,aAqBD,CAHC,oBAnBD,qDAoBE,YAEF,CADC,CFvBF,6BAKC,iBAAkB,CAClB,mBAAoB,CACpB,kBAAmB,CACnB,oBAyBD,CAvBC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEkBA,iEACC,kBAAmB,CACnB,SACD,CAbA,yFACC,YACD,CC7BD,6BCAC,oDD0ID,CCvIE,6EACC,0DACD,CAEA,+EACC,2DAA4C,CAC5C,uEACD,CAID,qDACC,6DACD,CDhBD,6BEDC,eF2ID,CA1IA,wIEGE,qCFuIF,CA1IA,6BAKC,kBAAmB,CACnB,cAAe,CACf,qBAAsB,CACtB,8BAA+B,CAC/B,iBAAkB,CAGlB,2CAA4C,CAC5C,4CAA6C,CAI7C,aAAc,CAGd,iBAAkB,CAGlB,4BAA6B,CAG7B,4DAA8D,CAG9D,uBA6GD,CA3GC,oFGjCA,YAAa,CACb,2BAA2B,CCF3B,2CJsCA,CAIC,kJAEC,aACD,CAGD,iEAEC,iBAAkB,CAClB,mBAAoB,CACpB,aAAc,CACd,cAAe,CAIf,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAEA,uFK3FD,kCL6FC,CAGA,yFKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAOE,6CAAgD,CAChD,mCAEF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDiIA,CC9HC,yFACC,qDACD,CAEA,2FACC,sDAA4C,CAC5C,kEACD,CAID,iEACC,wDACD,CDmHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC7IC,mDDkJD,CC/IE,2FACC,yDACD,CAEA,6FACC,0DAA4C,CAC5C,sEACD,CAID,mEACC,4DACD,CD6HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\t@mixin ck-tooltip_enabled;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n\n\t&:hover {\n\t\t@mixin ck-tooltip_visible;\n\t}\n\n\t/* Get rid of the native focus outline around the tooltip when focused (but not :hover). */\n\t&:focus:not(:hover) {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t\tbox-shadow: inset 0 2px 2px var($(prefix)-active-shadow);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);var a=s},5332:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,mDAAoD,CACpD,qCAAsC,CACtC,gKAKD,CAGC,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDC3BA,eDoEA,CAzCA,yICvBC,qCDgED,CAzCA,2DAKE,gBAoCF,CAzCA,2DAUE,iBA+BF,CAzCA,iDAcC,8BAAiC,CAEjC,0CAA2C,CAC3C,uDAwBD,CAtBC,2EC9CD,eD2DC,CAbA,6LC1CA,qCAAsC,CD4CpC,+CAWF,CAbA,2EAMC,6CAA8C,CAC9C,+CAAgD,CAChD,gDAAiD,CACjD,yDAA0D,CAG1D,uBACD,CAEA,uDACC,6DAKD,CAHC,iFACC,+DACD,CAIF,6DExEA,kCF0EA,CAEA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,yDAMF,CAXA,2FASE,kEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floatingpoint numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: 1.0769230769em;\n\t--ck-switch-button-toggle-spacing: 1px;\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2 * var(--ck-switch-button-toggle-spacing)\n\t);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease;\n\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\t/* Leave some tiny bit of space around the inner part of the switch */\n\t\t\tmargin: var(--ck-switch-button-toggle-spacing);\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t&.ck-on .ck-button__toggle {\n\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t}\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t/*\n\t\t\t * Move the toggle switch to the right. It will be animated.\n\t\t\t */\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);var a=s},6781:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,qCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,oCAAqC,CACrC,qCAAsC,CACtC,wCAAyC,CACzC,yCAA0C,CAC1C,SAAU,CACV,8BAA+B,CAC/B,QAmCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCACC,YAAa,CACb,2CACD,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(0, 0%, 0%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);var a=s},5485:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBAqFD,CAnFC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UAOD,CCUA,iEACC,YACD,CDVA,oCAGC,kCAAmC,CAEnC,YAAa,CACb,yBAA0B,CAC1B,sCAAuC,CAEvC,iBAyDD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSASC,QAAS,CACT,WACD,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CEhGA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CACC,gCAAiC,CAGjC,sCACD,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEACC,SAAU,CACV,eAAgB,CAChB,sBACD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBEpFC,oCAA8B,CFwF9B,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CAGT,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"../tooltip/mixins/_tooltip.css\";\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\n\t\t/* Disable main button's tooltip when the dropdown is open. Otherwise the panel may\n\t\tpartially cover the tooltip */\n\t\t&.ck-on {\n\t\t\t@mixin ck-tooltip_disabled;\n\t\t}\n\t}\n\n\t& .ck-dropdown__panel {\n\t\t/* This is to get rid of flickering when the tooltip is shown under the panel,\n\t\twhich looks like the panel moves vertically a pixel down and up. */\n\t\t-webkit-backface-visibility: hidden;\n\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},3949:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDIpC,wBAAyB,CACzB,2BAA4B,CAC5B,4BAEF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},7686:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:"";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-ui/theme/components/tooltip/mixins/_tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,mBAEC,iBAUD,CARC,iDACC,qCACD,CC0BA,8DACC,YACD,CClCD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAIE,6BAA8B,CAC9B,gCAQF,CAbA,oIAUE,4BAA6B,CAC7B,+BAEF,CAEA,0CAGC,eAiBD,CApBA,oDAOE,4BAA6B,CAC7B,+BAYF,CApBA,oDAaE,6BAA8B,CAC9B,gCAMF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAIA,8JACC,UAAW,CACX,iBAAkB,CAClB,SAAU,CACV,WAAY,CACZ,0DACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCC7EA,eDuFA,CAVA,qHCzEC,qCDmFD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../tooltip/mixins/_tooltip.css";\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n\n\t/* Disable tooltips for the buttons when the button is "open" */\n\t&.ck-splitbutton_open > .ck-button {\n\t\t@mixin ck-tooltip_disabled;\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Enables the tooltip, which is the tooltip is in DOM but\n * not yet displayed.\n */\n@define-mixin ck-tooltip_enabled {\n\t& .ck-tooltip {\n\t\tdisplay: block;\n\n\t\t/*\n\t\t * Don't display tooltips in devices which don't support :hover.\n\t\t * In fact, it's all about iOS, which forces user to click UI elements twice to execute\n\t\t * the primary action, when tooltips are enabled.\n\t\t *\n\t\t * Q: OK, but why not the following query?\n\t\t *\n\t\t *   @media (hover) {\n\t\t *       display: block;\n\t\t *   }\n\t\t *\n\t\t * A: Because FF does not support it and it would completely disable tooltips\n\t\t * in that browser.\n\t\t *\n\t\t * More in https://github.com/ckeditor/ckeditor5/issues/920.\n\t\t */\n\t\t@media (hover:none) {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/**\n * Disables the tooltip making it disappear from DOM.\n */\n@define-mixin ck-tooltip_disabled {\n\t& .ck-tooltip {\n\t\tdisplay: none;\n\t}\n}\n\n/**\n * Shows the tooltip, which is already in DOM.\n * Requires `ck-tooltip_enabled` first.\n */\n@define-mixin ck-tooltip_visible {\n\t& .ck-tooltip {\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},7339:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAEC,iBAAkB,CAClB,8CAOD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);var a=s},9688:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEERA,YAAa,CACb,2BAA2B,CCF3B,qCHYA,CAGD,+BACC,aAAc,CACd,oCAAqC,CACrC,4BA4BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var a=s},8847:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,kBAAmB,CACnB,6BACD,CCNA,MACC,4BACD,CAEA,oBACC,uDAAwD,CACxD,mCAAoC,CACpC,wCAAyC,CACzC,mDAKD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);var a=s},6574:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YACC,yBAA0B,CAC1B,0BAA2B,CAG3B,uBAAwB,CAQxB,qBAcD,CAZC,0BARA,aAAc,CAGd,cAgBA,CAJC,yBAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\tcolor: inherit;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\n\t\t/* Allows dynamic coloring of the icons. */\n\t\tcolor: inherit;\n\n\t\t&:not([fill]) {\n\t\t\t/* Needed by FF. */\n\t\t\tfill: currentColor;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var a=s},4879:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-input-shake .3s ease both}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAC9C,6DAA8D,CAC9D,+BAAgC,CAGhC,4CAA6C,CAG7C,4DA0BD,CAxBC,mBEpBA,YAAa,CACb,2BAA2B,CCF3B,2CHwBA,CAEA,uBACC,sDAAuD,CACvD,oDAAqD,CACrD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBACC,+CAAgD,CAChD,sCAKD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var a=s},3662:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);var a=s},2577:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,yEACD,CAEA,0BCHC,eD4GD,CAzGA,2FCCE,qCDwGF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAWC,mBAAoB,CACpB,oBAAqB,CAGrB,6DAA+D,CAE/D,yDAA0D,CAC1D,4CAA8C,CAC9C,kBAAoB,CACpB,eAAmB,CAGnB,sBAAuB,CACvB,eAAgB,CAEhB,cAAe,CAEf,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,yFAYF,CAfA,oUAOE,kGAQF,CAfA,gTAWC,iEAAkE,CAElE,sBAAuB,CACvB,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-spacing-medium), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), calc(0.6 * var(--ck-font-size-base))) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},1046:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,qBAcD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAGC,oBAAqB,CACrB,0CACD,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BACC,gBAAiB,CACjB,UAAW,CACX,eAAgB,CAChB,eAAgB,CAKhB,mIAiCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,2DACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBACC,UAAW,CACX,UAAW,CACX,sCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},8793:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCJC,eD4ID,CAxIA,iFCAE,qCDwIF,CAxIA,qBENC,oCAA8B,CFU9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAiID,CA9HE,+GAEC,OAAQ,CACR,QAAS,CACT,kBACD,CAIA,uFAEC,oDAAoH,CAApH,kDAAoH,CAApH,qDAAoH,CAApH,kBACD,CAEA,4CACC,gDACD,CAEA,uFAHC,6BAA8E,CAA9E,8BAA8E,CAA9E,4BAMD,CAHA,2CACC,oDAAkF,CAClF,yCACD,CAIA,uFAEC,oDAAoH,CAApH,qBAAoH,CAApH,qDAAoH,CAApH,+CACD,CAEA,4CACC,6CAAkE,CAClE,uDACD,CAEA,uFAJC,6BAAkE,CAAlE,+BAAkE,CAAlE,8BAOD,CAHA,2CACC,iDAAkF,CAClF,4CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,8CACD,CAIA,2GAEC,+CAAkD,CAClD,8CACD,CAIA,2GAEC,gDAAmD,CACnD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,8CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,8CACD,CAIA,6GAEC,SAAU,CACV,uDAA0D,CAC1D,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: var(--ck-balloon-arrow-offset);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var a=s},4650:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCACC,oCAAqC,CACrC,kCAAmC,CACnC,qCACD,CAGA,iEACC,uCAAwC,CAGxC,mCACD,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);var a=s},7676:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBCJC,oCAA8B,CDO9B,eAAgB,CAEhB,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CAEtC,UAAW,CACX,WACD,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var a=s},5868:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDACC,yBAA0B,CAC1B,cAAe,CACf,KACD,CAEA,kEACC,QAAS,CACT,iBACD,CCPA,qDCCA,oCAA8B,CDE7B,sBAAuB,CACvB,wBAAyB,CACzB,yBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var a=s},6764:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAOA,mCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCTC,oCDaC,wCACC,UAAW,CACX,OAAQ,CACR,iBAAkB,CAClB,UAAW,CACX,2BAA4B,CAC5B,8BAA+B,CAC/B,SACD,CCnBD,CCAD,qDACC,kDACD,CAEA,uBACC,+BAkED,CAhEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,qCA6CF,CA3CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAID,iGAEC,kCAAmC,CACnC,kCAAmC,CAEnC,eAAgB,CAChB,QAAS,CACT,gDAaD,CApBA,0OAcE,aAMF,CAGC,yMACC,kDACD,CDpEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button::after {\n\tcontent: "";\n\twidth: 0;\n\tposition: absolute;\n\tright: -1px;\n\ttop: var(--ck-spacing-small);\n\tbottom: var(--ck-spacing-small);\n\tz-index: 1;\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\tposition: absolute;\n\t\t\tright: -1px;\n\t\t\ttop: var(--ck-spacing-small);\n\t\t\tbottom: var(--ck-spacing-small);\n\t\t\tz-index: 1;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t\tborder-radius: 0;\n\t\t\tborder: 0;\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var a=s},9695:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);var a=s},5542:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,YAAa,CACb,oBAAqB,CACrB,kBA6CD,CA3CC,kCACC,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eD0FD,CA7FA,qECOE,qCDsFF,CA7FA,eAGC,6CAA8C,CAC9C,iCAAkC,CAClC,+CAwFD,CAtFC,yCACC,kBAAmB,CACnB,SAAU,CACV,aAAc,CACd,yCAA0C,CAM1C,kCAAmC,CACnC,qCACD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAGC,kCAAmC,CACnC,qCACD,CAEA,mCAEC,SAgBD,CAbC,0DAEC,UAAW,CAGX,QAAS,CAGT,eAAgB,CAGhB,QACD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAvFF,qCA2FE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JACC,wBAAyB,CACzB,2BACD,CAGA,2JACC,yBAA0B,CAC1B,4BACD,CAID,qGACC,mCACD,CAGA,yLACC,mCACD,CAWA,qHACC,cACD,CAIC,6JACC,yBAA0B,CAC1B,4BACD,CAGA,2JACC,wBAAyB,CACzB,2BACD,CAID,qGACC,oCACD,CAGA,yLACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so any border is pointless. */\n\t\t\tborder: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},3332:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,sDAEC,iBAAkB,CAGlB,mBAAoB,CAIpB,kCACD,CAEA,eAEC,iBAAkB,CAClB,SAAU,CACV,YAAa,CACb,yBAWD,CATC,iCACC,oBAOD,CALC,uCACC,UAAW,CACX,OAAQ,CACR,QACD,CCxBF,MACC,2BACD,CAEA,eACC,QAAS,CAMT,KAAM,CAON,sCAwKD,CAtKC,iCChBA,eDqCA,CArBA,yGCZC,qCDiCD,CArBA,iCAGC,cAAe,CACf,eAAgB,CAChB,kCAAmC,CACnC,wDAAyD,CACzD,6CAA8C,CAC9C,iBAAkB,CAClB,SAYD,CAVC,uCAMC,sCAAuC,CACvC,kBAAmB,CACnB,QACD,CAYD,sFAGC,4CAA+C,CAC/C,0BASD,CAPC,8JAEC,+CAAkD,CAClD,0BAA6B,CAC7B,6BAAoF,CAApF,sDAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,kBACD,CAaD,6BACC,SAAU,CACV,SAWD,CATC,+CACC,SAAU,CACV,2CACD,CAEA,qDACC,SAAU,CACV,OACD,CAYD,6BACC,QAAS,CACT,UAYD,CAVC,+CACC,UAAW,CACX,0CACD,CAEA,qDACC,UAAW,CACX,MAAO,CACP,yBACD,CAYD,4BACC,yCAA4C,CAC5C,2BAQD,CANC,oDACC,4CAA+C,CAC/C,0BAA6B,CAC7B,6BAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,mDAAoF,CACpF,8CAAsG,CAAtG,qBAAsG,CAAtG,+CAAsG,CAAtG,6CACD,CAUD,4BACC,8CAA+C,CAC/C,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDACC,0CAA6C,CAC7C,8CAAiD,CACjD,6BAAoF,CAApF,+BAAoF,CAApF,qDAAoF,CAApF,4BAAoF,CACpF,mBAAsG,CAAtG,gDAAsG,CAAtG,+CAAsG,CAAtG,6CACD,CAWF,4BACC,+CAAgD,CAChD,SAAU,CACV,OAaD,CAXC,8CACC,MAAO,CACP,0BAQD,CANC,oDACC,SAAU,CACV,8CAAiD,CACjD,oDAAoF,CAApF,+BAAoF,CAApF,8BAAoF,CAApF,4BAAoF,CACpF,8CAAsG,CAAtG,gDAAsG,CAAtG,oBAAsG,CAAtG,6CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-tooltip,\n.ck.ck-tooltip .ck-tooltip__text::after {\n\tposition: absolute;\n\n\t/* Without this, hovering the tooltip could keep it visible. */\n\tpointer-events: none;\n\n\t/* This is to get rid of flickering when transitioning opacity in Chrome.\n\tIt\'s weird but it works. */\n\t-webkit-backface-visibility: hidden;\n}\n\n.ck.ck-tooltip {\n\t/* Tooltip is hidden by default. */\n\tvisibility: hidden;\n\topacity: 0;\n\tdisplay: none;\n\tz-index: var(--ck-z-modal);\n\n\t& .ck-tooltip__text {\n\t\tdisplay: inline-block;\n\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-tooltip-arrow-size: 5px;\n}\n\n.ck.ck-tooltip {\n\tleft: 50%;\n\n\t/*\n\t * Prevent blurry tooltips in LoDPI environments.\n\t * See https://github.com/ckeditor/ckeditor5/issues/1802.\n\t */\n\ttop: 0;\n\n\t/*\n\t * For the transition to work, the tooltip must be controlled\n\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t * i.e. when scanning the toolbar with mouse cursor.\n\t */\n\ttransition: opacity .2s ease-in-out .2s;\n\n\t& .ck-tooltip__text {\n\t\t@mixin ck-rounded-corners;\n\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tbackground: var(--ck-color-tooltip-background);\n\t\tposition: relative;\n\t\tleft: -50%;\n\n\t\t&::after {\n\t\t\t/*\n\t\t\t * For the transition to work, the tooltip must be controlled\n\t\t\t * using visibility+opacity. A delay prevents a "tooltip avalanche"\n\t\t\t * i.e. when scanning the toolbar with mouse cursor.\n\t\t\t */\n\t\t\ttransition: opacity .2s ease-in-out .2s;\n\t\t\tborder-style: solid;\n\t\t\tleft: 50%;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south of the element.\n\t *\n\t *       [element]\n\t *           ^\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t */\n\t&.ck-tooltip_s,\n\t&.ck-tooltip_sw,\n\t&.ck-tooltip_se {\n\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( 100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\t/* 1px addresses gliches in rendering causing gap between the triangle and the text */\n\t\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size) + 1px);\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: transparent transparent var(--ck-color-tooltip-background) transparent;\n\t\t\tborder-width: 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-west of the element.\n\t *\n\t *        [element]\n\t *            ^\n\t *  +-----------+\n\t *  |  Tooltip  |\n\t *  +-----------+\n\t */\n\n\t&.ck-tooltip_sw {\n\t\tright: 50%;\n\t\tleft: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: auto;\n\t\t\tright: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tleft: auto;\n\t\t\tright: 0;\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip south-east of the element.\n\t *\n\t *  [element]\n\t *      ^\n\t *    +-----------+\n\t *    |  Tooltip  |\n\t *    +-----------+\n\t */\n\t&.ck-tooltip_se {\n\t\tleft: 50%;\n\t\tright: auto;\n\n\t\t& .ck-tooltip__text {\n\t\t\tright: auto;\n\t\t\tleft: calc( -2 * var(--ck-tooltip-arrow-size));\n\t\t}\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tright: auto;\n\t\t\tleft: 0;\n\t\t\ttransform: translateX( 50% );\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip north of the element.\n\t *\n\t *     +-----------+\n\t *     |  Tooltip  |\n\t *     +-----------+\n\t *           V\n\t *       [element]\n\t */\n\t&.ck-tooltip_n {\n\t\ttop: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\ttransform: translateY( -100% );\n\n\t\t& .ck-tooltip__text::after {\n\t\t\tbottom: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\ttransform: translateX( -50% );\n\t\t\tborder-color: var(--ck-color-tooltip-background) transparent transparent transparent;\n\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size);\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip east of the element.\n\t *\n\t *                +----------+\n\t *    [element] < |   east   |\n\t *                +----------+\n\t */\n\t&.ck-tooltip_e {\n\t\tleft: calc(100% + var(--ck-tooltip-arrow-size));\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: calc(-1 * var(--ck-tooltip-arrow-size));\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent var(--ck-color-tooltip-background) transparent transparent;\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * A class that displays the tooltip west of the element.\n\t *\n\t *    +----------+\n\t *    |   west   | > [element]\n\t *    +----------+\n\t */\n\t&.ck-tooltip_w {\n\t\tright: calc(100% + var(--ck-tooltip-arrow-size));\n\t\tleft: auto;\n\t\ttop: 50%;\n\n\t\t& .ck-tooltip__text {\n\t\t\tleft: 0;\n\t\t\ttransform: translateY( -50% );\n\n\t\t\t&::after {\n\t\t\t\tleft: 100%;\n\t\t\t\ttop: calc(50% - 1 * var(--ck-tooltip-arrow-size));\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-color-tooltip-background);\n\t\t\t\tborder-width: var(--ck-tooltip-arrow-size) 0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var a=s},4793:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,iDAGC,qBAAsB,CACtB,UAAW,CACX,WAAY,CACZ,eACD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAgD,CAChD,8BAAmD,CACnD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAmD,CACnD,oCAAuD,CACvD,6BAAkD,CAIlD,+CAAwD,CACxD,qEAA+E,CAC/E,qCAAwD,CACxD,sDAA8D,CAC9D,iDAAyD,CACzD,yCAAqD,CACrD,uCAAsD,CACtD,6CAA0D,CAC1D,uCAAsD,CAItD,gDAAuD,CACvD,kDAA+D,CAC/D,mDAAgE,CAChE,+CAA6D,CAC7D,yDAA8D,CAE9D,uCAAuD,CACvD,6CAA4D,CAC5D,8CAA4D,CAC5D,0CAAyD,CACzD,gDAA8D,CAE9D,+DAAsE,CACtE,iDAAkE,CAClE,kDAAkE,CAClE,8CAA+D,CAC/D,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA4D,CAC5D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAmE,CACnE,yEAA8E,CAC9E,qDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,+BAAiD,CACjD,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,wCAAwD,CACxD,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,gEAAuE,CACvE,4EAAiF,CACjF,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,wDAAmE,CACnE,mDAAgE,CCpGhE,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJoGD,CI9FA,iDAIC,QAAS,CACT,SAAU,CACV,QAAS,CACT,sBAAuB,CACvB,oBAAqB,CACrB,qBAAsB,CACtB,eAAgB,CAGhB,oBACD,CAKA,oCAGC,wBAAyB,CACzB,iGAAkG,CAClG,0BAA2B,CAC3B,eAAgB,CAChB,kBAAmB,CACnB,WAAY,CACZ,UACD,CAGC,2BACC,gBACD,CAEA,wBAEC,sBACD,CAEA,0BACC,oBACD,CAEA,kGAGC,WACD,CAEA,gIAGC,cACD,CAEA,0BACC,YAAa,CACb,yBACD,CAEA,0CAEC,SAAU,CACV,QACD,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 44%, 48%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(208, 88%, 52%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(208, 88%, 47%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t208, 79%, 51%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(207, 89%, 86%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 90%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 85%);\n\t--ck-color-button-default-active-shadow: \t\t\t\t\thsl(0, 0%, 75%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(0, 0%, 87%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(0, 0%, 77%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(0, 0%, 73%);\n\t--ck-color-button-on-active-shadow: \t\t\t\t\t\thsl(0, 0%, 63%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(0, 0%, 87%);\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 44%, 41%);\n\t--ck-color-button-action-active-shadow: \t\t\t\t\thsl(104, 44%, 36%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 69%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 64%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 44%, 43%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\thsl(0, 0%, 78%);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-base-active);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-base-active-focus);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-foreground);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck.ck-reset_all * {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck.ck-reset_all {\n\t& .ck-rtl * {\n\t\ttext-align: right;\n\t}\n\n\t& iframe {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea,\n\t& input[type="text"],\n\t& input[type="password"] {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled],\n\t& input[type="text"][disabled],\n\t& input[type="password"][disabled] {\n\t\tcursor: default;\n\t}\n\n\t& fieldset {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);var a=s},3488:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height)*-1);left:50%;transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CACtD,0CAA2C,CAC3C,qDAAsD,CACtD,6CAA8C,CAC9C,kCAAmC,CACnC,aAAc,CACd,iCAAkC,CAClC,uCAAwC,CACxC,4CAoCD,CAlCC,8NAKC,iBACD,CAEA,0CACC,oCAAqC,CACrC,qCACD,CAEA,2CACC,oCAAqC,CACrC,sCACD,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CACC,6CAAgD,CAChD,QAAS,CACT,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eACC,gDAAiD,CACjD,mBAAoB,CACpB,yBAA0B,CAC1B,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGC/BA,YAAa,CACb,2BAA2B,CCF3B,qCAA8B,CFqC7B,iEACD,CAIA,4EACC,WAAY,CACZ,qBAAsB,CAGtB,4BAA6B,CAC7B,SAAU,CAMV,6SAG6F,CAG7F,iEAAkE,CAGlE,2BAA4B,CAC5B,mDAAoD,CACpD,KAqBD,CAnBC,qFAEC,wCAAyC,CACzC,yCAA0C,CAC1C,oDASD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFACC,SAAU,CACV,oDACD,CAKC,oMACC,SAAU,CACV,6CAMD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var a=s},8506:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CACb,iBAAkB,CAGlB,mBAAoB,CAEpB,MAAO,CACP,KACD,CAGC,2EACC,aACD,CAGD,gCACC,iBAAkB,CAGlB,kBAWD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCACC,4BAA6B,CAC7B,6BAA8B,CAC9B,uCAAwC,CACxC,gDAA6D,CAC7D,6CAqBD,CAnBC,oEACC,4BAA6B,CAC7B,6BACD,CAEA,qEACC,4BAA6B,CAC7B,8BACD,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);var a=s},4921:function(t,e,n){n.d(e,{Z:function(){return a}});var o=n(1799),i=n.n(o),r=n(2609),s=n.n(r)()(i());s.push([t.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CACd,iBAAkB,CAClB,eAAgB,CAChB,2BAwBD,CAtBC,mDACC,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAEA,qFAEC,iDAAoD,CACpD,kBAAoB,CAEpB,0BACD,CAEA,oFAEC,oDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CACd,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,qCACD,CAMD,2EACC,YAAa,CACb,iBAAkB,CAClB,MAAO,CACP,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHACC,qDAA0D,CAC1D,aACD,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CACC,8CAA+C,CAC/C,+CAAgD,CAChD,oDAAqD,CACrD,mBAAoB,CACpB,uMAAyM,CAb1M,SAAU,CACV,mBA0DA,CA1CC,mDACC,UAAW,CACX,UAAW,CACX,8BAA+B,CAC/B,6BAA8B,CAC9B,cAgBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLACC,0DAA2D,CAC3D,2DAA4D,CAC5D,mBAAoB,CACpB,uEACD,CAOD,8GACC,gBACD,CAKA,mDACC,mBAAoB,CACpB,UAAW,CACX,mFAAoF,CAMpF,oCAAwC,CACxC,oCACD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CASE,0jBACC,SACD,CASF,mPACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);var a=s},2609:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},1799:function(t){function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var o,i,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}t.exports=function(t){var n=e(t,4),o=n[1],i=n[3];if(!i)return o;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(c).concat([a]).join("\n")}return[o].join("\n")}},6062:function(t,e,n){var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],i=0;i<t.length;i++){var r=t[i],c=e.base?r[0]+e.base:r[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var h=a(d),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:d,updater:f(u,e),references:1}),o.push(d)}return o}function l(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var d,h=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function u(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=h(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function g(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var m=null,p=0;function f(t,e){var n,o,i;if(e.singleton){var r=p++;n=m||(m=l(e)),o=u.bind(null,n,r,!1),i=u.bind(null,n,r,!0)}else n=l(e),o=g.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=a(n[o]);s[i].references--}for(var r=c(t,e),l=0;l<n.length;l++){var d=a(n[l]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=r}}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":_typeof(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==("undefined"==typeof window?"undefined":_typeof(window)))return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o={};return function(){var _marked=regeneratorRuntime.mark(tl),_marked2=regeneratorRuntime.mark(el),_marked3=regeneratorRuntime.mark(ug);n.d(o,{default:function(){return SC}});var e=function e(_e2,n){_classCallCheck(this,e),this.source=_e2,this.name=n,this.path=[],this.stop=function t(){t.called=!0},this.off=function t(){t.called=!0}},i=new Array(256).fill().map((function(t,e){return("0"+e.toString(16)).slice(-2)}));function r(){var t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+i[t>>0&255]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+i[e>>0&255]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+i[n>>0&255]+i[n>>8&255]+i[n>>16&255]+i[n>>24&255]+i[o>>0&255]+i[o>>8&255]+i[o>>16&255]+i[o>>24&255]}var s={get:function(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},a=function(_Error){_inherits(a,_Error);var _super=_createSuper(a);function a(t,e,n){var _this;return _classCallCheck(this,a),(_this=_super.call(this,function(t,e){var n=new WeakSet;return t+(e?" ".concat(JSON.stringify(e,(function(t,e){if("object"==_typeof(e)&&null!==e){if(n.has(e))return"[object ".concat(e.constructor.name,"]");n.add(e)}return e}))):"")+l(t)}(t,n))).name="CKEditorError",_this.context=e,_this.data=n,_this}return _createClass(a,[{key:"is",value:function(t){return"CKEditorError"===t}}],[{key:"rethrowUnexpectedError",value:function(t,e){if(t.is&&t.is("CKEditorError"))throw t;var n=new a(t.message,e);throw n.stack=t.stack,n}}]),a}(_wrapNativeSuper(Error));function c(t,e){var _console;(_console=console).warn.apply(_console,_toConsumableArray(function(t,e){var n=l(t);return e?[t,e,n]:[t,n]}(t,e)))}function l(t){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(t)}var u="object"==("undefined"==typeof window?"undefined":_typeof(window))?window:n.g;if(u.CKEDITOR_VERSION)throw new a("ckeditor-duplicated-modules",null);u.CKEDITOR_VERSION="32.0.0";var g=Symbol("listeningTo"),m=Symbol("emitterId"),f={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,t,e,n)},once:function(t,e,n){var o=!1;this.listenTo(this,t,(function(t){for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)n[_key-1]=arguments[_key];o||(o=!0,t.off(),e.call.apply(e,[this,t].concat(n)))}),n)},off:function(t,e){this.stopListening(this,t,e)},listenTo:function(t,e,n){var i,r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[g]||(this[g]={});var s=this[g];b(t)||k(t);var a=b(t);(i=s[a])||(i=s[a]={emitter:t,callbacks:{}}),(r=i.callbacks[e])||(r=i.callbacks[e]=[]),r.push(n),function(t,e,n,o,i){e._addEventListener?e._addEventListener(n,o,i):t._addEventListener.call(e,n,o,i)}(this,t,e,n,o)},stopListening:function(t,e,n){var o=this[g],i=t&&b(t),r=o&&i&&o[i],s=r&&e&&r.callbacks[e];if(!(!o||t&&!r||e&&!s))if(n)v(this,t,e,n),-1!==s.indexOf(n)&&(1===s.length?delete r.callbacks[e]:v(this,t,e,n));else if(s){for(;n=s.pop();)v(this,t,e,n);delete r.callbacks[e]}else if(r){for(e in r.callbacks)this.stopListening(t,e);delete o[i]}else{for(i in o)this.stopListening(o[i].emitter);delete this[g]}},fire:function(t){try{for(var _o2=t instanceof e?t:new e(this,t),_i2=_o2.name,_r2=C(this,_i2),_len2=arguments.length,n=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)n[_key2-1]=arguments[_key2];if(_o2.path.push(this),_r2){var _t2=[_o2].concat(n);_r2=Array.from(_r2);for(var _e3=0;_e3<_r2.length&&(_r2[_e3].callback.apply(this,_t2),_o2.off.called&&(delete _o2.off.called,this._removeEventListener(_i2,_r2[_e3].callback)),!_o2.stop.called);_e3++);}if(this._delegations){var _t3=this._delegations.get(_i2),_e4=this._delegations.get("*");_t3&&_(_t3,_o2,n),_e4&&_(_e4,_o2,n)}return _o2.return}catch(t){a.rethrowUnexpectedError(t,this)}},delegate:function(){for(var _this2=this,_len3=arguments.length,t=new Array(_len3),_key3=0;_key3<_len3;_key3++)t[_key3]=arguments[_key3];return{to:function(e,n){_this2._delegations||(_this2._delegations=new Map),t.forEach((function(t){var o=_this2._delegations.get(t);o?o.set(e,n):_this2._delegations.set(t,new Map([[e,n]]))}))}}},stopDelegating:function(t,e){if(this._delegations)if(t)if(e){var _n2=this._delegations.get(t);_n2&&_n2.delete(e)}else this._delegations.delete(t);else this._delegations.clear()},_addEventListener:function(t,e,n){!function(t,e){var n=w(t);if(!n[e]){for(var o=e,i=null,r=[];""!==o&&!n[o];)n[o]={callbacks:[],childEvents:[]},r.push(n[o]),i&&n[o].childEvents.push(i),i=o,o=o.substr(0,o.lastIndexOf(":"));if(""!==o){var _step,_iterator=_createForOfIteratorHelper(r);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.callbacks=n[o].callbacks.slice()}}catch(err){_iterator.e(err)}finally{_iterator.f()}n[o].childEvents.push(i)}}}(this,t);var _step2,o=A(this,t),i=s.get(n.priority),r={callback:e,priority:i},_iterator2=_createForOfIteratorHelper(o);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){for(var _t5=_step2.value,_e5=!1,_n3=0;_n3<_t5.length;_n3++)if(_t5[_n3].priority<i){_t5.splice(_n3,0,r),_e5=!0;break}_e5||_t5.push(r)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}},_removeEventListener:function(t,e){var _step3,_iterator3=_createForOfIteratorHelper(A(this,t));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)for(var _t6=_step3.value,_n4=0;_n4<_t6.length;_n4++)_t6[_n4].callback==e&&(_t6.splice(_n4,1),_n4--)}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}};function k(t,e){t[m]||(t[m]=e||r())}function b(t){return t[m]}function w(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function A(t,e){var n=w(t)[e];if(!n)return[];for(var o=[n.callbacks],_e6=0;_e6<n.childEvents.length;_e6++){var _i3=A(t,n.childEvents[_e6]);o=o.concat(_i3)}return o}function C(t,e){var n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?C(t,e.substr(0,e.lastIndexOf(":"))):null}function _(t,n,o){var _step4,_iterator4=_createForOfIteratorHelper(t);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=_slicedToArray(_step4.value,2),_i4=_step4$value[0],_r3=_step4$value[1];_r3?"function"==typeof _r3&&(_r3=_r3(n.name)):_r3=n.name;var _t7=new e(n.source,_r3);_t7.path=_toConsumableArray(n.path),_i4.fire.apply(_i4,[_t7].concat(_toConsumableArray(o)))}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}function v(t,e,n,o){e._removeEventListener?e._removeEventListener(n,o):t._removeEventListener.call(e,n,o)}var y=function(t){var e=_typeof(t);return null!=t&&("object"==e||"function"==e)},x="object"==(void 0===global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,E="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,D=x||E||Function("return this")(),I=D.Symbol,M=Object.prototype,T=M.hasOwnProperty,S=M.toString,N=I?I.toStringTag:void 0,z=Object.prototype.toString,L=I?I.toStringTag:void 0,O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":L&&L in Object(t)?function(t){var e=T.call(t,N),n=t[N];try{t[N]=void 0;var o=!0}catch(t){}var i=S.call(t);return o&&(e?t[N]=n:delete t[N]),i}(t):function(t){return z.call(t)}(t)},R=function(t){if(!y(t))return!1;var e=O(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},j=D["__core-js_shared__"],F=function(){var t=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),H=Function.prototype.toString,U=function(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""},q=/^\[object .+?Constructor\]$/,W=Function.prototype,G=Object.prototype,Y=W.toString,Q=G.hasOwnProperty,K=RegExp("^"+Y.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=function(t){return!(!y(t)||function(t){return!!F&&F in t}(t))&&(R(t)?K:q).test(U(t))},J=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return $(n)?n:void 0},X=function(){try{var t=J(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),tt=function(t,e,n){"__proto__"==e&&X?X(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},et=function(t,e){return t===e||t!=t&&e!=e},nt=Object.prototype.hasOwnProperty,ot=function(t,e,n){var o=t[e];nt.call(t,e)&&et(o,n)&&(void 0!==n||e in t)||tt(t,e,n)},it=function(t,e,n,o){var i=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=o?o(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?tt(n,a,c):ot(n,a,c)}return n},rt=function(t){return t},st=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},at=Math.max,lt=function(t){return function(){return t}},dt=X?function(t,e){return X(t,"toString",{configurable:!0,enumerable:!1,value:lt(e),writable:!0})}:rt,ht=Date.now,gt=function(t){var e=0,n=0;return function(){var o=ht(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(dt),mt=function(t,e){return gt(function(t,e,n){return e=at(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=at(o.length-e,0),s=Array(r);++i<r;)s[i]=o[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=o[i];return a[e]=n(s),st(t,this,a)}}(t,e,rt),t+"")},pt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ft=function(t){return null!=t&&pt(t.length)&&!R(t)},kt=/^(?:0|[1-9]\d*)$/,bt=function(t,e){var n=_typeof(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&kt.test(t))&&t>-1&&t%1==0&&t<e},At=function(t){return mt((function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(i--,r):void 0,s&&function(t,e,n){if(!y(n))return!1;var o=_typeof(e);return!!("number"==o?ft(n)&&bt(e,n.length):"string"==o&&e in n)&&et(n[e],t)}(n[0],n[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++o<i;){var a=n[o];a&&t(e,a,o,r)}return e}))},_t=function(t){return null!=t&&"object"==_typeof(t)},vt=function(t){return _t(t)&&"[object Arguments]"==O(t)},yt=Object.prototype,xt=yt.hasOwnProperty,Et=yt.propertyIsEnumerable,It=vt(function(){return arguments}())?vt:function(t){return _t(t)&&xt.call(t,"callee")&&!Et.call(t,"callee")},Mt=Array.isArray,St="object"==(void 0===exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,Nt=St&&"object"==(void 0===module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,Bt=Nt&&Nt.exports===St?D.Buffer:void 0,zt=(Bt?Bt.isBuffer:void 0)||function(){return!1},Pt={};Pt["[object Float32Array]"]=Pt["[object Float64Array]"]=Pt["[object Int8Array]"]=Pt["[object Int16Array]"]=Pt["[object Int32Array]"]=Pt["[object Uint8Array]"]=Pt["[object Uint8ClampedArray]"]=Pt["[object Uint16Array]"]=Pt["[object Uint32Array]"]=!0,Pt["[object Arguments]"]=Pt["[object Array]"]=Pt["[object ArrayBuffer]"]=Pt["[object Boolean]"]=Pt["[object DataView]"]=Pt["[object Date]"]=Pt["[object Error]"]=Pt["[object Function]"]=Pt["[object Map]"]=Pt["[object Number]"]=Pt["[object Object]"]=Pt["[object RegExp]"]=Pt["[object Set]"]=Pt["[object String]"]=Pt["[object WeakMap]"]=!1;var Ot=function(t){return function(e){return t(e)}},Rt="object"==(void 0===exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,jt=Rt&&"object"==(void 0===module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,Ft=jt&&jt.exports===Rt&&x.process,Vt=function(){try{return jt&&jt.require&&jt.require("util").types||Ft&&Ft.binding&&Ft.binding("util")}catch(t){}}(),Ht=Vt&&Vt.isTypedArray,Ut=Ht?Ot(Ht):function(t){return _t(t)&&pt(t.length)&&!!Pt[O(t)]},qt=Object.prototype.hasOwnProperty,Wt=function(t,e){var n=Mt(t),o=!n&&It(t),i=!n&&!o&&zt(t),r=!n&&!o&&!i&&Ut(t),s=n||o||i||r,a=s?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],c=a.length;for(var l in t)!e&&!qt.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bt(l,c))||a.push(l);return a},Gt=Object.prototype,Yt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Gt)},Kt=Object.prototype.hasOwnProperty,$t=function(t){if(!y(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Yt(t),n=[];for(var o in t)("constructor"!=o||!e&&Kt.call(t,o))&&n.push(o);return n},Zt=function(t){return ft(t)?Wt(t,!0):$t(t)},Jt=At((function(t,e){it(e,Zt(e),t)})),Xt=Symbol("observableProperties"),te=Symbol("boundObservables"),ee=Symbol("boundProperties"),ne=Symbol("decoratedMethods"),oe=Symbol("decoratedOriginal"),ie={set:function(t,e){var _this3=this;if(y(t))Object.keys(t).forEach((function(e){_this3.set(e,t[e])}),this);else{se(this);var n=this[Xt];if(t in this&&!n.has(t))throw new a("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:function(){return n.get(t)},set:function(e){var o=n.get(t),i=this.fire("set:"+t,t,e,o);void 0===i&&(i=e),o===i&&n.has(t)||(n.set(t,i),this.fire("change:"+t,t,i,o))}}),this[t]=e}},bind:function(){for(var _this4=this,_len4=arguments.length,t=new Array(_len4),_key4=0;_key4<_len4;_key4++)t[_key4]=arguments[_key4];if(!t.length||!le(t))throw new a("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new a("observable-bind-duplicate-properties",this);se(this);var e=this[ee];t.forEach((function(t){if(e.has(t))throw new a("observable-bind-rebind",_this4)}));var n=new Map;return t.forEach((function(t){var o={property:t,to:[]};e.set(t,o),n.set(t,o)})),{to:ae,toMany:ce,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind:function(){var _this5=this;if(this[Xt]){for(var e=this[ee],n=this[te],_len5=arguments.length,t=new Array(_len5),_key5=0;_key5<_len5;_key5++)t[_key5]=arguments[_key5];if(t.length){if(!le(t))throw new a("observable-unbind-wrong-properties",this);t.forEach((function(t){var i,r,s,a,o=e.get(t);o&&(o.to.forEach((function(t){i=t[0],r=t[1],s=n.get(i),(a=s[r]).delete(o),a.size||delete s[r],Object.keys(s).length||(n.delete(i),_this5.stopListening(i,"change"))})),e.delete(t))}))}else n.forEach((function(t,e){_this5.stopListening(e,"change")})),n.clear(),e.clear()}},decorate:function(t){var _this6=this,e=this[t];if(!e)throw new a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(function(t,n){t.return=e.apply(_this6,n)})),this[t]=function(){for(var _len6=arguments.length,e=new Array(_len6),_key6=0;_key6<_len6;_key6++)e[_key6]=arguments[_key6];return this.fire(t,e)},this[t][oe]=e,this[ne]||(this[ne]=[]),this[ne].push(t)}};Jt(ie,f),ie.stopListening=function(t,e,n){if(!t&&this[ne]){var _step5,_iterator5=_createForOfIteratorHelper(this[ne]);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _t8=_step5.value;this[_t8]=this[_t8][oe]}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}delete this[ne]}f.stopListening.call(this,t,e,n)};var re=ie;function se(t){t[Xt]||(Object.defineProperty(t,Xt,{value:new Map}),Object.defineProperty(t,te,{value:new Map}),Object.defineProperty(t,ee,{value:new Map}))}function ae(){var i,_this7=this,e=function(){for(var _len7=arguments.length,t=new Array(_len7),_key7=0;_key7<_len7;_key7++)t[_key7]=arguments[_key7];if(!t.length)throw new a("observable-bind-to-parse-error",null);var n,e={to:[]};return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach((function(t){if("string"==typeof t)n.properties.push(t);else{if("object"!=_typeof(t))throw new a("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}})),e}.apply(void 0,arguments),n=Array.from(this._bindings.keys()),o=n.length;if(!e.callback&&e.to.length>1)throw new a("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new a("observable-bind-to-extra-callback",this);e.to.forEach((function(t){if(t.properties.length&&t.properties.length!==o)throw new a("observable-bind-to-properties-length",_this7);t.properties.length||(t.properties=_this7._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),i=this._observable,this._to.forEach((function(t){var n,e=i[te];e.get(t.observable)||i.listenTo(t.observable,"change",(function(o,r){(n=e.get(t.observable)[r])&&n.forEach((function(t){de(i,t.property)}))}))})),function(t){var e;t._bindings.forEach((function(n,o){t._to.forEach((function(i){e=i.properties[n.callback?0:t._bindProperties.indexOf(o)],n.to.push([i.observable,e]),function(t,e,n,o){var i=t[te],r=i.get(n),s=r||{};s[o]||(s[o]=new Set),s[o].add(e),r||i.set(n,s)}(t._observable,n,i.observable,e)}))}))}(this),this._bindProperties.forEach((function(t){de(_this7._observable,t)}))}function ce(t,e,n){if(this._bindings.size>1)throw new a("observable-bind-to-many-not-one-binding",this);this.to.apply(this,_toConsumableArray(function(t,e){var n=t.map((function(t){return[t,e]}));return Array.prototype.concat.apply([],n)}(t,e)).concat([n]))}function le(t){return t.every((function(t){return"string"==typeof t}))}function de(t,e){var o,n=t[ee].get(e);n.callback?o=n.callback.apply(t,n.to.map((function(t){return t[0][t[1]]}))):o=(o=n.to[0])[0][o[1]],Object.prototype.hasOwnProperty.call(t,e)?t[e]=o:t.set(e,o)}function he(t){for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++)e[_key8-1]=arguments[_key8];e.forEach((function(e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((function(n){if(!(n in t.prototype)){var o=Object.getOwnPropertyDescriptor(e,n);o.enumerable=!1,Object.defineProperty(t.prototype,n,o)}}))}))}var ue=function(){function ue(t){_classCallCheck(this,ue),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}return _createClass(ue,[{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",ge,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",ge),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),ue}();function ge(t){t.return=!1,t.stop()}he(ue,re);var me=function(){function me(t){var _this8=this;_classCallCheck(this,me),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this.affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){_this8.refresh()})),this.on("execute",(function(t){_this8.isEnabled||t.stop()}),{priority:"high"}),this.listenTo(t,"change:isReadOnly",(function(t,e,n){n&&_this8.affectsData?_this8.forceDisabled("readOnlyMode"):_this8.clearForceDisabled("readOnlyMode")}))}return _createClass(me,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",pe,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",pe),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),me}();function pe(t){t.return=!1,t.stop()}he(me,re);var fe=function(_me){_inherits(fe,_me);var _super2=_createSuper(fe);function fe(t){var _this9;return _classCallCheck(this,fe),(_this9=_super2.call(this,t))._childCommands=[],_this9}return _createClass(fe,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=this._getFirstEnabledCommand(),_len9=arguments.length,t=new Array(_len9),_key9=0;_key9<_len9;_key9++)t[_key9]=arguments[_key9];return null!=e&&e.execute(t)}},{key:"registerChildCommand",value:function(t){var _this10=this;this._childCommands.push(t),t.on("change:isEnabled",(function(){return _this10._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(t){return t.isEnabled}))}}]),fe}(me),ke=function(t,e){return function(n){return t(e(n))}},be=ke(Object.getPrototypeOf,Object),we=Function.prototype,Ae=Object.prototype,Ce=we.toString,_e=Ae.hasOwnProperty,ve=Ce.call(Object),ye=function(t){if(!_t(t)||"[object Object]"!=O(t))return!1;var e=be(t);if(null===e)return!0;var n=_e.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ce.call(n)==ve},Ee=function(t,e){for(var n=t.length;n--;)if(et(t[n][0],e))return n;return-1},De=Array.prototype.splice;function Ne(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Ne.prototype.clear=function(){this.__data__=[],this.size=0},Ne.prototype.delete=function(t){var e=this.__data__,n=Ee(e,t);return!(n<0||(n==e.length-1?e.pop():De.call(e,n,1),--this.size,0))},Ne.prototype.get=function(t){var e=this.__data__,n=Ee(e,t);return n<0?void 0:e[n][1]},Ne.prototype.has=function(t){return Ee(this.__data__,t)>-1},Ne.prototype.set=function(t,e){var n=this.__data__,o=Ee(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};var Be=Ne,Re=J(D,"Map"),je=J(Object,"create"),He=Object.prototype.hasOwnProperty,qe=Object.prototype.hasOwnProperty;function Ye(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Ye.prototype.clear=function(){this.__data__=je?je(null):{},this.size=0},Ye.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ye.prototype.get=function(t){var e=this.__data__;if(je){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return He.call(e,t)?e[t]:void 0},Ye.prototype.has=function(t){var e=this.__data__;return je?void 0!==e[t]:qe.call(e,t)},Ye.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=je&&void 0===e?"__lodash_hash_undefined__":e,this};var Qe=Ye,Ze=function(t,e){var n=t.__data__;return function(t){var e=_typeof(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Qe,map:new(Re||Be),string:new Qe}},nn.prototype.delete=function(t){var e=Ze(this,t).delete(t);return this.size-=e?1:0,e},nn.prototype.get=function(t){return Ze(this,t).get(t)},nn.prototype.has=function(t){return Ze(this,t).has(t)},nn.prototype.set=function(t,e){var n=Ze(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};var on=nn;function sn(t){var e=this.__data__=new Be(t);this.size=e.size}sn.prototype.clear=function(){this.__data__=new Be,this.size=0},sn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},sn.prototype.get=function(t){return this.__data__.get(t)},sn.prototype.has=function(t){return this.__data__.has(t)},sn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Be){var o=n.__data__;if(!Re||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new on(o)}return n.set(t,e),this.size=n.size,this};var an=sn,ln=ke(Object.keys,Object),dn=Object.prototype.hasOwnProperty,un=function(t){return ft(t)?Wt(t):function(t){if(!Yt(t))return ln(t);var e=[];for(var n in Object(t))dn.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},pn="object"==(void 0===exports?"undefined":_typeof(exports))&&exports&&!exports.nodeType&&exports,fn=pn&&"object"==(void 0===module?"undefined":_typeof(module))&&module&&!module.nodeType&&module,kn=fn&&fn.exports===pn?D.Buffer:void 0,bn=kn?kn.allocUnsafe:void 0,wn=function(t,e){if(e)return t.slice();var n=t.length,o=bn?bn(n):new t.constructor(n);return t.copy(o),o},An=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e},_n=function(){return[]},vn=Object.prototype.propertyIsEnumerable,yn=Object.getOwnPropertySymbols,xn=yn?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r}(yn(t),(function(e){return vn.call(t,e)})))}:_n,Dn=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t},In=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Dn(e,xn(t)),t=be(t);return e}:_n,Tn=function(t,e,n){var o=e(t);return Mt(t)?o:Dn(o,n(t))},Sn=function(t){return Tn(t,un,xn)},Nn=function(t){return Tn(t,Zt,In)},Bn=J(D,"DataView"),zn=J(D,"Promise"),Pn=J(D,"Set"),Ln=J(D,"WeakMap"),On="[object Map]",Rn="[object Promise]",jn="[object Set]",Fn="[object WeakMap]",Vn="[object DataView]",Hn=U(Bn),Un=U(Re),qn=U(zn),Wn=U(Pn),Gn=U(Ln),Yn=O;(Bn&&Yn(new Bn(new ArrayBuffer(1)))!=Vn||Re&&Yn(new Re)!=On||zn&&Yn(zn.resolve())!=Rn||Pn&&Yn(new Pn)!=jn||Ln&&Yn(new Ln)!=Fn)&&(Yn=function(t){var e=O(t),n="[object Object]"==e?t.constructor:void 0,o=n?U(n):"";if(o)switch(o){case Hn:return Vn;case Un:return On;case qn:return Rn;case Wn:return jn;case Gn:return Fn}return e});var Qn=Yn,Kn=Object.prototype.hasOwnProperty,Zn=D.Uint8Array,Jn=function(t){var e=new t.constructor(t.byteLength);return new Zn(e).set(new Zn(t)),e},to=/\w*$/,no=I?I.prototype:void 0,oo=no?no.valueOf:void 0,ro=function(t,e){var n=e?Jn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},so=function(t,e,n){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return Jn(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?Jn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ro(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,to.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return oo?Object(oo.call(t)):{}}(t)}},ao=Object.create,co=function(){function t(){}return function(e){if(!y(e))return{};if(ao)return ao(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),lo=function(t){return"function"!=typeof t.constructor||Yt(t)?{}:co(be(t))},uo=Vt&&Vt.isMap,go=uo?Ot(uo):function(t){return _t(t)&&"[object Map]"==Qn(t)},po=Vt&&Vt.isSet,fo=po?Ot(po):function(t){return _t(t)&&"[object Set]"==Qn(t)},ko="[object Arguments]",bo="[object Function]",Ao={};Ao[ko]=Ao["[object Array]"]=Ao["[object ArrayBuffer]"]=Ao["[object DataView]"]=Ao["[object Boolean]"]=Ao["[object Date]"]=Ao["[object Float32Array]"]=Ao["[object Float64Array]"]=Ao["[object Int8Array]"]=Ao["[object Int16Array]"]=Ao["[object Int32Array]"]=Ao["[object Map]"]=Ao["[object Number]"]=Ao["[object Object]"]=Ao["[object RegExp]"]=Ao["[object Set]"]=Ao["[object String]"]=Ao["[object Symbol]"]=Ao["[object Uint8Array]"]=Ao["[object Uint8ClampedArray]"]=Ao["[object Uint16Array]"]=Ao["[object Uint32Array]"]=!0,Ao["[object Error]"]=Ao[bo]=Ao["[object WeakMap]"]=!1;var Co=function t(e,n,o,i,r,s){var a,c=1&n,l=2&n,d=4&n;if(o&&(a=r?o(e,i,r,s):o(e)),void 0!==a)return a;if(!y(e))return e;var h=Mt(e);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Kn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!c)return An(e,a)}else{var u=Qn(e),g=u==bo||"[object GeneratorFunction]"==u;if(zt(e))return wn(e,c);if("[object Object]"==u||u==ko||g&&!r){if(a=l||g?{}:lo(e),!c)return l?function(t,e){return it(t,In(t),e)}(e,function(t,e){return t&&it(e,Zt(e),t)}(a,e)):function(t,e){return it(t,xn(t),e)}(e,function(t,e){return t&&it(e,un(e),t)}(a,e))}else{if(!Ao[u])return r?e:{};a=so(e,u,c)}}s||(s=new an);var m=s.get(e);if(m)return m;s.set(e,a),fo(e)?e.forEach((function(i){a.add(t(i,n,o,i,e,s))})):go(e)&&e.forEach((function(i,r){a.set(r,t(i,n,o,r,e,s))}));var p=h?void 0:(d?l?Nn:Sn:l?Zt:un)(e);return function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););}(p||e,(function(i,r){p&&(i=e[r=i]),ot(a,r,t(i,n,o,r,e,s))})),a},_o=function(t,e){return Co(t,5,e="function"==typeof e?e:void 0)},vo=function(t){return _t(t)&&1===t.nodeType&&!ye(t)},yo=function(){function yo(t,e){_classCallCheck(this,yo),this._config={},e&&this.define(xo(e)),t&&this._setObjectToTarget(this._config,t)}return _createClass(yo,[{key:"set",value:function(t,e){this._setToTarget(this._config,t,e)}},{key:"define",value:function(t,e){this._setToTarget(this._config,t,e,!0)}},{key:"get",value:function(t){return this._getFromSource(this._config,t)}},{key:"names",value:regeneratorRuntime.mark((function names(){var _i5,_Object$keys,_t9;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:_i5=0,_Object$keys=Object.keys(this._config);case 1:if(!(_i5<_Object$keys.length)){_context.next=8;break}return _t9=_Object$keys[_i5],_context.next=5,_t9;case 5:_i5++,_context.next=1;break;case 8:case"end":return _context.stop()}}),names,this)}))},{key:"_setToTarget",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ye(e))this._setObjectToTarget(t,e,o);else{var i=e.split(".");e=i.pop();var _step6,_iterator6=_createForOfIteratorHelper(i);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _e7=_step6.value;ye(t[_e7])||(t[_e7]={}),t=t[_e7]}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}if(ye(n))return ye(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,o);o&&void 0!==t[e]||(t[e]=n)}}},{key:"_getFromSource",value:function(t,e){var n=e.split(".");e=n.pop();var _step7,_iterator7=_createForOfIteratorHelper(n);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e8=_step7.value;if(!ye(t[_e8])){t=null;break}t=t[_e8]}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}return t?xo(t[e]):void 0}},{key:"_setObjectToTarget",value:function(t,e,n){var _this11=this;Object.keys(e).forEach((function(o){_this11._setToTarget(t,o,e[o],n)}))}}]),yo}();function xo(t){return _o(t,Eo)}function Eo(t){return vo(t)?t:void 0}function Do(t){return!(!t||!t[Symbol.iterator])}var Io=function(){function Io(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Io);var n=Do(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n){var _step8,_iterator8=_createForOfIteratorHelper(t);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _e9=_step8.value;this._items.push(_e9),this._itemMap.set(this._getItemIdBeforeAdding(_e9),_e9)}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}}return _createClass(Io,[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(t,e){return this.addMany([t],e)}},{key:"addMany",value:function(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new a("collection-add-item-invalid-index",this);for(var _n5=0;_n5<t.length;_n5++){var _o3=t[_n5],_i6=this._getItemIdBeforeAdding(_o3),_r4=e+_n5;this._items.splice(_r4,0,_o3),this._itemMap.set(_i6,_o3),this.fire("add",_o3,_r4)}return this.fire("change",{added:t,removed:[],index:e}),this}},{key:"get",value:function(t){var e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new a("collection-get-invalid-arg",this);e=this._items[t]}return e||null}},{key:"has",value:function(t){if("string"==typeof t)return this._itemMap.has(t);var _e10=t[this._idProperty];return this._itemMap.has(_e10)}},{key:"getIndex",value:function(t){var e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}},{key:"remove",value:function(t){var _this$_remove2=_slicedToArray(this._remove(t),2),e=_this$_remove2[0],n=_this$_remove2[1];return this.fire("change",{added:[],removed:[e],index:n}),e}},{key:"map",value:function(t,e){return this._items.map(t,e)}},{key:"find",value:function(t,e){return this._items.find(t,e)}},{key:"filter",value:function(t,e){return this._items.filter(t,e)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var t=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}},{key:"bindTo",value:function(t){var _this12=this;if(this._bindToCollection)throw new a("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:function(t){_this12._setUpBindToBinding((function(e){return new t(e)}))},using:function(t){"function"==typeof t?_this12._setUpBindToBinding((function(e){return t(e)})):_this12._setUpBindToBinding((function(e){return e[t]}))}}}},{key:"_setUpBindToBinding",value:function(t){var _step11,_this13=this,e=this._bindToCollection,n=function(_n7,o,i){var r=e._bindToCollection==_this13,s=e._bindToInternalToExternalMap.get(o);if(r&&s)_this13._bindToExternalToInternalMap.set(o,s),_this13._bindToInternalToExternalMap.set(s,o);else{var _n6=t(o);if(!_n6)return void _this13._skippedIndexesFromExternal.push(i);var _step9,_r5=i,_iterator9=_createForOfIteratorHelper(_this13._skippedIndexesFromExternal);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){i>_step9.value&&_r5--}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}var _step10,_iterator10=_createForOfIteratorHelper(e._skippedIndexesFromExternal);try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){_r5>=_step10.value&&_r5++}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}_this13._bindToExternalToInternalMap.set(o,_n6),_this13._bindToInternalToExternalMap.set(_n6,o),_this13.add(_n6,_r5);for(var _t10=0;_t10<e._skippedIndexesFromExternal.length;_t10++)_r5<=e._skippedIndexesFromExternal[_t10]&&e._skippedIndexesFromExternal[_t10]++}},_iterator11=_createForOfIteratorHelper(e);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _t13=_step11.value;n(0,_t13,e.getIndex(_t13))}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}this.listenTo(e,"add",n),this.listenTo(e,"remove",(function(t,e,n){var o=_this13._bindToExternalToInternalMap.get(e);o&&_this13.remove(o),_this13._skippedIndexesFromExternal=_this13._skippedIndexesFromExternal.reduce((function(t,e){return n<e&&t.push(e-1),n>e&&t.push(e),t}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(t){var n,e=this._idProperty;if(e in t){if("string"!=typeof(n=t[e]))throw new a("collection-add-invalid-id",this);if(this.get(n))throw new a("collection-add-item-already-exists",this)}else t[e]=n=r();return n}},{key:"_remove",value:function(t){var e,n,o,i=!1,r=this._idProperty;if("string"==typeof t?(n=t,i=!(o=this._itemMap.get(n)),o&&(e=this._items.indexOf(o))):"number"==typeof t?(e=t,i=!(o=this._items[e]),o&&(n=o[r])):(n=(o=t)[r],i=-1==(e=this._items.indexOf(o))||!this._itemMap.get(n)),i)throw new a("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);var s=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(s),this.fire("remove",o,e),[o,e]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}}]),Io}();he(Io,f);var Mo=function(){function Mo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,Mo),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;var _step12,_iterator12=_createForOfIteratorHelper(e);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _t14=_step12.value;_t14.pluginName&&this._availablePlugins.set(_t14.pluginName,_t14)}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}this._contextPlugins=new Map;var _step13,_iterator13=_createForOfIteratorHelper(n);try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _step13$value=_slicedToArray(_step13.value,2),_t15=_step13$value[0],_e11=_step13$value[1];this._contextPlugins.set(_t15,_e11),this._contextPlugins.set(_e11,_t15),_t15.pluginName&&this._availablePlugins.set(_t15.pluginName,_t15)}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}}return _createClass(Mo,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function value(){var _iterator14,_step14,_t16;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_iterator14=_createForOfIteratorHelper(this._plugins),_context2.prev=1,_iterator14.s();case 3:if((_step14=_iterator14.n()).done){_context2.next=11;break}if(_t16=_step14.value,_context2.t0="function"==typeof _t16[0],!_context2.t0){_context2.next=9;break}return _context2.next=9,_t16;case 9:_context2.next=3;break;case 11:_context2.next=16;break;case 13:_context2.prev=13,_context2.t1=_context2.catch(1),_iterator14.e(_context2.t1);case 16:return _context2.prev=16,_iterator14.f(),_context2.finish(16);case 19:case"end":return _context2.stop()}}),value,this,[[1,13,16,19]])}))},{key:"get",value:function(t){var e=this._plugins.get(t);if(!e){var _e12=t;throw"function"==typeof t&&(_e12=t.pluginName||t.name),new a("plugincollection-plugin-not-loaded",this._context,{plugin:_e12})}return e}},{key:"has",value:function(t){return this._plugins.has(t)}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=this,i=this._context;!function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;e.forEach((function(e){c(e)&&(n.has(e)||(n.add(e),e.pluginName&&!o._availablePlugins.has(e.pluginName)&&o._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n)))}))}(t),u(t);var r=_toConsumableArray(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return e.map((function(t){return c(t)?t:o._availablePlugins.get(t)})).reduce((function(e,o){return n.has(o)?e:(n.add(o),o.requires&&(u(o.requires,o),t(o.requires,n).forEach((function(t){return e.add(t)}))),e.add(o))}),new Set)}(t.filter((function(t){return!d(t,e)}))));!function(t,e){var _step15,_iterator15=_createForOfIteratorHelper(e);try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _n8=_step15.value;if("function"!=typeof _n8)throw new a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:_n8});var _e13=_n8.pluginName;if(!_e13)throw new a("plugincollection-replace-plugin-missing-name",null,{pluginItem:_n8});if(_n8.requires&&_n8.requires.length)throw new a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:_e13});var _i7=o._availablePlugins.get(_e13);if(!_i7)throw new a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:_e13});var _r6=t.indexOf(_i7);if(-1===_r6){if(o._contextPlugins.has(_i7))return;throw new a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:_e13})}if(_i7.requires&&_i7.requires.length)throw new a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:_e13});t.splice(_r6,1,_n8),o._availablePlugins.set(_e13,_n8)}}catch(err){_iterator15.e(err)}finally{_iterator15.f()}}(r,n);var s=function(t){return t.map((function(t){var e=o._contextPlugins.get(t)||new t(i);return o._add(t,e),e}))}(r);return g(s,"init").then((function(){return g(s,"afterInit")})).then((function(){return s}));function c(t){return"function"==typeof t}function l(t){return c(t)&&t.isContextPlugin}function d(t,e){return e.some((function(e){return e===t||h(t)===e||h(e)===t}))}function h(t){return c(t)?t.pluginName||t.name:t}function u(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.map((function(t){return c(t)?t:o._availablePlugins.get(t)||t})).forEach((function(t){!function(t,e){if(!c(t)){if(e)throw new a("plugincollection-soft-required",i,{missingPlugin:t,requiredBy:h(e)});throw new a("plugincollection-plugin-not-found",i,{plugin:t})}}(t,n),function(t,e){if(l(e)&&!l(t))throw new a("plugincollection-context-required",i,{plugin:h(t),requiredBy:h(e)})}(t,n),function(t,n){if(n&&d(t,e))throw new a("plugincollection-required",i,{plugin:h(t),requiredBy:h(n)})}(t,n)}))}function g(t,e){return t.reduce((function(t,n){return n[e]?o._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t}),Promise.resolve())}}},{key:"destroy",value:function(){var _step16,t=[],_iterator16=_createForOfIteratorHelper(this);try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _e14=_slicedToArray(_step16.value,2)[1];"function"!=typeof _e14.destroy||this._contextPlugins.has(_e14)||t.push(_e14.destroy())}}catch(err){_iterator16.e(err)}finally{_iterator16.f()}return Promise.all(t)}},{key:"_add",value:function(t,e){this._plugins.set(t,e);var n=t.pluginName;if(n){if(this._plugins.has(n))throw new a("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}]),Mo}();function To(t){return Array.isArray(t)?t:[t]}function So(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof n)throw new a("translation-service-quantity-not-a-number",null,{quantity:n});var o=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===o&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var i=e.id||e.string;if(0===o||!function(t,e){return!!window.CKEDITOR_TRANSLATIONS[t]&&!!window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}(t,i))return 1!==n?e.plural:e.string;var r=window.CKEDITOR_TRANSLATIONS[t].dictionary,s=window.CKEDITOR_TRANSLATIONS[t].getPluralForm||function(t){return 1===t?0:1};if("string"==typeof r[i])return r[i];var c=Number(s(n));return r[i][c]}he(Mo,f),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var No=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Bo(t){return No.includes(t)?"rtl":"ltr"}var zo=function(){function zo(){var _this14=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,zo),this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Bo(this.uiLanguage),this.contentLanguageDirection=Bo(this.contentLanguage),this.t=function(t,e){return _this14._t(t,e)}}return _createClass(zo,[{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}},{key:"_t",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=To(e),"string"==typeof t&&(t={string:t});var n=t.plural?e[0]:1;return function(t,e){return t.replace(/%(\d+)/g,(function(t,n){return n<e.length?e[n]:t}))}(So(this.uiLanguage,t,n),e)}}]),zo}(),Po=function(){function Po(t){_classCallCheck(this,Po),this.config=new yo(t,this.constructor.defaultConfig);var e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Mo(this,e);var n=this.config.get("language")||{};this.locale=new zo({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Io,this._contextOwner=null}return _createClass(Po,[{key:"initPlugins",value:function(){var _step17,t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[],_iterator17=_createForOfIteratorHelper(t.concat(e));try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _n9=_step17.value;if("function"!=typeof _n9)throw new a("context-initplugins-constructor-only",null,{Plugin:_n9});if(!0!==_n9.isContextPlugin)throw new a("context-initplugins-invalid-plugin",null,{Plugin:_n9})}}catch(err){_iterator17.e(err)}finally{_iterator17.f()}return this.plugins.init(t,[],e)}},{key:"destroy",value:function(){var _this15=this;return Promise.all(Array.from(this.editors,(function(t){return t.destroy()}))).then((function(){return _this15.plugins.destroy()}))}},{key:"_addEditor",value:function(t,e){if(this._contextOwner)throw new a("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}},{key:"_removeEditor",value:function(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var _step18,t={},_iterator18=_createForOfIteratorHelper(this.config.names());try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _e15=_step18.value;["plugins","removePlugins","extraPlugins"].includes(_e15)||(t[_e15]=this.config.get(_e15))}}catch(err){_iterator18.e(err)}finally{_iterator18.f()}return t}}],[{key:"create",value:function(t){var _this16=this;return new Promise((function(e){var n=new _this16(t);e(n.initPlugins().then((function(){return n})))}))}}]),Po}(),Lo=function(){function Lo(t){_classCallCheck(this,Lo),this.context=t}return _createClass(Lo,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),Lo}();function Oo(t,e){for(var n=Math.min(t.length,e.length),_o4=0;_o4<n;_o4++)if(t[_o4]!=e[_o4])return _o4;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}he(Lo,re);var Ro=function(t){return Co(t,4)},jo=function(){function jo(t){_classCallCheck(this,jo),this.document=t,this.parent=null}return _createClass(jo,[{key:"index",get:function(){var t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new a("view-node-not-found-in-parent",this);return t}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var t=[],e=this;e.parent;)t.unshift(e.index),e=e.parent;return t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),o=t.getAncestors(e),i=0;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),o=Oo(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}},{key:"isAfter",value:function(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}},{key:"toJSON",value:function(){var t=Ro(this);return delete t.parent,t}},{key:"is",value:function(t){return"node"===t||"view:node"===t}}]),jo}();he(jo,f);var Fo=function(_jo){_inherits(Fo,_jo);var _super3=_createSuper(Fo);function Fo(t,e){var _this17;return _classCallCheck(this,Fo),(_this17=_super3.call(this,t))._textData=e,_this17}return _createClass(Fo,[{key:"is",value:function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}},{key:"isSimilar",value:function(t){return t instanceof Fo&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new Fo(this.document,this.data)}}]),Fo}(jo),Vo=function(){function Vo(t,e,n){if(_classCallCheck(this,Vo),this.textNode=t,e<0||e>t.data.length)throw new a("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new a("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}return _createClass(Vo,[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"is",value:function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this.textNode:this.parent;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}]),Vo}();function Ho(t){return Do(t)?new Map(t):function(t){var e=new Map;for(var _n10 in t)e.set(_n10,t[_n10]);return e}(t)}var Uo=function(){function Uo(){_classCallCheck(this,Uo),this._patterns=[],this.add.apply(this,arguments)}return _createClass(Uo,[{key:"add",value:function(){for(var _len10=arguments.length,t=new Array(_len10),_key10=0;_key10<_len10;_key10++)t[_key10]=arguments[_key10];for(var _i8=0,_t17=t;_i8<_t17.length;_i8++){var _e16=_t17[_i8];("string"==typeof _e16||_e16 instanceof RegExp)&&(_e16={name:_e16}),this._patterns.push(_e16)}}},{key:"match",value:function(){for(var _len11=arguments.length,t=new Array(_len11),_key11=0;_key11<_len11;_key11++)t[_key11]=arguments[_key11];for(var _i9=0,_t18=t;_i9<_t18.length;_i9++){var _step19,_e17=_t18[_i9],_iterator19=_createForOfIteratorHelper(this._patterns);try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _t19=_step19.value,_n11=qo(_e17,_t19);if(_n11)return{element:_e17,pattern:_t19,match:_n11}}}catch(err){_iterator19.e(err)}finally{_iterator19.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],_len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++)t[_key12]=arguments[_key12];for(var _i10=0,_t20=t;_i10<_t20.length;_i10++){var _step20,_n12=_t20[_i10],_iterator20=_createForOfIteratorHelper(this._patterns);try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t21=_step20.value,_o5=qo(_n12,_t21);_o5&&e.push({element:_n12,pattern:_t21,match:_o5})}}catch(err){_iterator20.e(err)}finally{_iterator20.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}]),Uo}();function qo(t,e){if("function"==typeof e)return e(t);var n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?!!e.match(t):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){var n=new Set(e.getAttributeKeys());return ye(t)?(void 0!==t.style&&c("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&c("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),Wo(t,n,(function(t){return e.getAttribute(t)}))}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){return Wo(t,e.getClassNames())}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){return Wo(t,e.getStyleNames(!0),(function(t){return e.getStyle(t)}))}(e.styles,t),!n.styles))&&n}function Wo(t,e,n){var o=function(t){return Array.isArray(t)?t.map((function(t){return ye(t)?(void 0!==t.key&&void 0!==t.value||c("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]})):ye(t)?Object.entries(t):[[t,!0]]}(t),i=Array.from(e),r=[];return o.forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),t=_ref2[0],e=_ref2[1];i.forEach((function(o){(function(t,e){return!0===t||t===e||t instanceof RegExp&&e.match(t)})(t,o)&&function(t,e,n){if(!0===t)return!0;var o=n(e);return t===o||t instanceof RegExp&&!!String(o).match(t)}(e,o,n)&&r.push(o)}))})),!o.length||r.length<o.length?null:r}var Go=function(t){return"symbol"==_typeof(t)||_t(t)&&"[object Symbol]"==O(t)},Yo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qo=/^\w*$/;function $o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=t.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new($o.Cache||on),n}$o.Cache=on;var Zo=$o,Jo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xo=/\\(\\)?/g,ei=function(t){var e=Zo((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Jo,(function(t,n,o,i){e.push(o?i.replace(Xo,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),oi=I?I.prototype:void 0,ii=oi?oi.toString:void 0,ri=function t(e){if("string"==typeof e)return e;if(Mt(e))return function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}(e,t)+"";if(Go(e))return ii?ii.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},si=function(t){return null==t?"":ri(t)},ai=function(t,e){return Mt(t)?t:function(t,e){if(Mt(t))return!1;var n=_typeof(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Go(t))||Qo.test(t)||!Yo.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:ei(si(t))},li=function(t){if("string"==typeof t||Go(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},di=function(t,e){for(var n=0,o=(e=ai(e,t)).length;null!=t&&n<o;)t=t[li(e[n++])];return n&&n==o?t:void 0},hi=function(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+e];return r},gi=function(t,e){return null==(t=function(t,e){return e.length<2?t:di(t,hi(e,0,-1))}(t,e=ai(e,t)))||delete t[li(function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(e))]},pi=function(t,e,n){var o=null==t?void 0:di(t,e);return void 0===o?n:o},fi=function(t,e,n){(void 0!==n&&!et(t[e],n)||void 0===n&&!(e in t))&&tt(t,e,n)},ki=function(e,n,o){for(var i=-1,r=Object(e),s=o(e),a=s.length;a--;){var c=s[++i];if(!1===n(r[c],c,r))break}return e},wi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Ci=function(t,e,n,o,i,r,s){var a=wi(t,n),c=wi(e,n),l=s.get(c);if(l)fi(t,n,l);else{var d=r?r(a,c,n+"",t,e,s):void 0,h=void 0===d;if(h){var u=Mt(c),g=!u&&zt(c),m=!u&&!g&&Ut(c);d=c,u||g||m?Mt(a)?d=a:function(t){return _t(t)&&ft(t)}(a)?d=An(a):g?(h=!1,d=wn(c,!0)):m?(h=!1,d=ro(c,!0)):d=[]:ye(c)||It(c)?(d=a,It(a)?d=function(t){return it(t,Zt(t))}(a):y(a)&&!R(a)||(d=lo(c))):h=!1}h&&(s.set(c,d),i(d,c,o,r,s),s.delete(c)),fi(t,n,d)}},vi=At((function(t,e,n){!function t(e,n,o,i,r){e!==n&&ki(n,(function(s,a){if(r||(r=new an),y(s))Ci(e,n,a,o,t,i,r);else{var c=i?i(wi(e,a),s,a+"",e,n,r):void 0;void 0===c&&(c=s),fi(e,a,c)}}),Zt)}(t,e,n)})),xi=function(t,e,n){return null==t?t:function(t,e,n,o){if(!y(t))return t;for(var i=-1,r=(e=ai(e,t)).length,s=r-1,a=t;null!=a&&++i<r;){var c=li(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var d=a[c];void 0===(l=o?o(d,c,a):void 0)&&(l=y(d)?d:bt(e[i+1])?[]:{})}ot(a,c,l),a=a[c]}return t}(t,e,n)},Ei=function(){function Ei(t){_classCallCheck(this,Ei),this._styles={},this._styleProcessor=t}return _createClass(Ei,[{key:"isEmpty",get:function(){var t=Object.entries(this._styles);return!Array.from(t).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(t){this.clear();for(var _i11=0,_e19=Array.from(function(t){var e=null,n=0,o=0,i=null,r=new Map;if(""===t)return r;";"!=t.charAt(t.length-1)&&(t+=";");for(var _s2=0;_s2<t.length;_s2++){var _a2=t.charAt(_s2);if(null===e)switch(_a2){case":":i||(i=t.substr(n,_s2-n),o=_s2+1);break;case'"':case"'":e=_a2;break;case";":var _e18=t.substr(o,_s2-o);i&&r.set(i.trim(),_e18.trim()),i=null,n=_s2+1}else _a2===e&&(e=null)}return r}(t).entries());_i11<_e19.length;_i11++){var _e19$_i=_slicedToArray(_e19[_i11],2),_t22=_e19$_i[0],_n13=_e19$_i[1];this._styleProcessor.toNormalizedForm(_t22,_n13,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles).find((function(_ref3){return _slicedToArray(_ref3,1)[0]===t}));return Array.isArray(e)}},{key:"set",value:function(t,e){if(y(t))for(var _i12=0,_Object$entries=Object.entries(t);_i12<_Object$entries.length;_i12++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i12],2),_e20=_Object$entries$_i[0],_n14=_Object$entries$_i[1];this._styleProcessor.toNormalizedForm(_e20,_n14,this._styles)}else this._styleProcessor.toNormalizedForm(t,e,this._styles)}},{key:"remove",value:function(t){var e=Ii(t);(function(t,e){null==t||gi(t,e)})(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(t){return t.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!y(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles).find((function(_ref5){return _slicedToArray(_ref5,1)[0]===t}));return Array.isArray(e)?e[1]:void 0}}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map((function(_ref7){return _slicedToArray(_ref7,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var t=[],_i13=0,_e21=Object.keys(this._styles);_i13<_e21.length;_i13++){var _n15=_e21[_i13];t.push.apply(t,_toConsumableArray(this._styleProcessor.getReducedForm(_n15,this._styles)))}return t}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var e=t.split(".");if(e.length>1){var n=e.splice(0,e.length-1).join("."),o=pi(this._styles,n);o&&!Array.from(Object.keys(o)).length&&this.remove(n)}}}]),Ei}(),Di=function(){function Di(){_classCallCheck(this,Di),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return _createClass(Di,[{key:"toNormalizedForm",value:function(t,e,n){if(y(e))Mi(n,Ii(t),e);else if(this._normalizers.has(t)){var _o7=this._normalizers.get(t)(e);Mi(n,_o7.path,_o7.value)}else Mi(n,t,e)}},{key:"getNormalized",value:function(t,e){if(!t)return vi({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){var _n16=this._extractors.get(t);if("string"==typeof _n16)return pi(e,_n16);var _o8=_n16(t,e);if(_o8)return _o8}return pi(e,Ii(t))}},{key:"getReducedForm",value:function(t,e){var n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}},{key:"getStyleNames",value:function(t){var _this18=this,e=Array.from(this._consumables.keys()).filter((function(e){var n=_this18.getNormalized(e,t);return n&&"object"==_typeof(n)?Object.keys(n).length:n})),n=new Set([].concat(_toConsumableArray(e),_toConsumableArray(Object.keys(t))));return Array.from(n.values())}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,e){this._normalizers.set(t,e)}},{key:"setExtractor",value:function(t,e){this._extractors.set(t,e)}},{key:"setReducer",value:function(t,e){this._reducers.set(t,e)}},{key:"setStyleRelation",value:function(t,e){this._mapStyleNames(t,e);var _step21,_iterator21=_createForOfIteratorHelper(e);try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var _n17=_step21.value;this._mapStyleNames(_n17,[t])}}catch(err){_iterator21.e(err)}finally{_iterator21.f()}}},{key:"_mapStyleNames",value:function(t,e){var _this$_consumables$ge;this._consumables.has(t)||this._consumables.set(t,[]),(_this$_consumables$ge=this._consumables.get(t)).push.apply(_this$_consumables$ge,_toConsumableArray(e))}}]),Di}();function Ii(t){return t.replace("-",".")}function Mi(t,e,n){var o=n;y(n)&&(o=vi({},pi(t,e),n)),xi(t,e,o)}var Ti=function(_jo2){_inherits(Ti,_jo2);var _super4=_createSuper(Ti);function Ti(t,e,n,o){var _this19;if(_classCallCheck(this,Ti),(_this19=_super4.call(this,t)).name=e,_this19._attrs=function(t){var _step22,_iterator22=_createForOfIteratorHelper(t=Ho(t));try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _step22$value=_slicedToArray(_step22.value,2),_e22=_step22$value[0],_n18=_step22$value[1];null===_n18?t.delete(_e22):"string"!=typeof _n18&&t.set(_e22,String(_n18))}}catch(err){_iterator22.e(err)}finally{_iterator22.f()}return t}(n),_this19._children=[],o&&_this19._insertChild(0,o),_this19._classes=new Set,_this19._attrs.has("class")){var _t23=_this19._attrs.get("class");Si(_this19._classes,_t23),_this19._attrs.delete("class")}return _this19._styles=new Ei(_this19.document.stylesProcessor),_this19._attrs.has("style")&&(_this19._styles.setTo(_this19._attrs.get("style")),_this19._attrs.delete("style")),_this19._customProperties=new Map,_this19._isAllowedInsideAttributeElement=!1,_this19._unsafeAttributesToRender=[],_possibleConstructorReturn(_this19)}return _createClass(Ti,[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}},{key:"isAllowedInsideAttributeElement",get:function(){return this._isAllowedInsideAttributeElement}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:regeneratorRuntime.mark((function getAttributeKeys(){return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_context3.t0=this._classes.size>0,!_context3.t0){_context3.next=4;break}return _context3.next=4,"class";case 4:if(_context3.t1=this._styles.isEmpty,_context3.t1){_context3.next=8;break}return _context3.next=8,"style";case 8:return _context3.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return _context3.stop()}}),getAttributeKeys,this)}))},{key:"getAttributes",value:regeneratorRuntime.mark((function getAttributes(){return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.delegateYield(this._attrs.entries(),"t0",1);case 1:if(_context4.t1=this._classes.size>0,!_context4.t1){_context4.next=5;break}return _context4.next=5,["class",this.getAttribute("class")];case 5:if(_context4.t2=this._styles.isEmpty,_context4.t2){_context4.next=9;break}return _context4.next=9,["style",this.getAttribute("style")];case 9:case"end":return _context4.stop()}}),getAttributes,this)}))},{key:"getAttribute",value:function(t){if("class"==t)return this._classes.size>0?_toConsumableArray(this._classes).join(" "):void 0;if("style"==t){var _t24=this._styles.toString();return""==_t24?void 0:_t24}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof Ti))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var _step23,_iterator23=_createForOfIteratorHelper(this._attrs);try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _step23$value=_slicedToArray(_step23.value,2),_e23=_step23$value[0],_n19=_step23$value[1];if(!t._attrs.has(_e23)||t._attrs.get(_e23)!==_n19)return!1}}catch(err){_iterator23.e(err)}finally{_iterator23.f()}var _step24,_iterator24=_createForOfIteratorHelper(this._classes);try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _e24=_step24.value;if(!t._classes.has(_e24))return!1}}catch(err){_iterator24.e(err)}finally{_iterator24.f()}var _step25,_iterator25=_createForOfIteratorHelper(this._styles.getStyleNames());try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e25=_step25.value;if(!t._styles.has(_e25)||t._styles.getAsString(_e25)!==this._styles.getAsString(_e25))return!1}}catch(err){_iterator25.e(err)}finally{_iterator25.f()}return!0}},{key:"hasClass",value:function(){for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++)t[_key13]=arguments[_key13];for(var _i15=0,_t25=t;_i15<_t25.length;_i15++){var _e26=_t25[_i15];if(!this._classes.has(_e26))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._styles.getStyleNames(t)}},{key:"hasStyle",value:function(){for(var _len14=arguments.length,t=new Array(_len14),_key14=0;_key14<_len14;_key14++)t[_key14]=arguments[_key14];for(var _i16=0,_t26=t;_i16<_t26.length;_i16++){var _e27=_t26[_i16];if(!this._styles.has(_e27))return!1}return!0}},{key:"findAncestor",value:function(){for(var _len15=arguments.length,t=new Array(_len15),_key15=0;_key15<_len15;_key15++)t[_key15]=arguments[_key15];for(var e=_construct(Uo,t),n=this.parent;n;){if(e.match(n))return n;n=n.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:regeneratorRuntime.mark((function getCustomProperties(){return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return _context5.stop()}}),getCustomProperties,this)}))},{key:"getIdentity",value:function(){var t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((function(t){return"".concat(t[0],'="').concat(t[1],'"')})).sort().join(" ");return this.name+(""==t?"":' class="'.concat(t,'"'))+(e?' style="'.concat(e,'"'):"")+(""==n?"":" ".concat(n))}},{key:"shouldRenderUnsafeAttribute",value:function(t){return this._unsafeAttributesToRender.includes(t)}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];if(t){var _step26,_iterator26=_createForOfIteratorHelper(this.getChildren());try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _n20=_step26.value;e.push(_n20._clone(t))}}catch(err){_iterator26.e(err)}finally{_iterator26.f()}}var n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,n}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var _step27,n=0,_iterator27=_createForOfIteratorHelper(function(t,e){return"string"==typeof e?[new Fo(t,e)]:(Do(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Fo(t,e):e instanceof Vo?new Fo(t,e.data):e})))}(this.document,e));try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e28=_step27.value;null!==_e28.parent&&_e28._remove(),_e28.parent=this,_e28.document=this.document,this._children.splice(t,0,_e28),t++,n++}}catch(err){_iterator27.e(err)}finally{_iterator27.f()}return n}},{key:"_removeChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var _n21=t;_n21<t+e;_n21++)this._children[_n21].parent=null;return this._children.splice(t,e)}},{key:"_setAttribute",value:function(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?Si(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){this._fireChange("attributes",this);var _step28,_iterator28=_createForOfIteratorHelper(To(t));try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _e29=_step28.value;this._classes.add(_e29)}}catch(err){_iterator28.e(err)}finally{_iterator28.f()}}},{key:"_removeClass",value:function(t){this._fireChange("attributes",this);var _step29,_iterator29=_createForOfIteratorHelper(To(t));try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _e30=_step29.value;this._classes.delete(_e30)}}catch(err){_iterator29.e(err)}finally{_iterator29.f()}}},{key:"_setStyle",value:function(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}},{key:"_removeStyle",value:function(t){this._fireChange("attributes",this);var _step30,_iterator30=_createForOfIteratorHelper(To(t));try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _e31=_step30.value;this._styles.remove(_e31)}}catch(err){_iterator30.e(err)}finally{_iterator30.f()}}},{key:"_setCustomProperty",value:function(t,e){this._customProperties.set(t,e)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}}]),Ti}(jo);function Si(t,e){var n=e.split(/\s+/);t.clear(),n.forEach((function(e){return t.add(e)}))}var Ni=function(_Ti){_inherits(Ni,_Ti);var _super5=_createSuper(Ni);function Ni(t,e,n,o){var _this20;return _classCallCheck(this,Ni),(_this20=_super5.call(this,t,e,n,o)).getFillerOffset=Bi,_this20}return _createClass(Ni,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}]),Ni}(Ti);function Bi(){var t=_toConsumableArray(this.getChildren()),e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;var _step31,_iterator31=_createForOfIteratorHelper(t);try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){if(!_step31.value.is("uiElement"))return null}}catch(err){_iterator31.e(err)}finally{_iterator31.f()}return this.childCount}var zi=function(_Ni){_inherits(zi,_Ni);var _super6=_createSuper(zi);function zi(t,e,n,o){var _this21;return _classCallCheck(this,zi),(_this21=_super6.call(this,t,e,n,o)).set("isReadOnly",!1),_this21.set("isFocused",!1),_this21.bind("isReadOnly").to(t),_this21.bind("isFocused").to(t,"isFocused",(function(e){return e&&t.selection.editableElement==_assertThisInitialized(_this21)})),_this21.listenTo(t.selection,"change",(function(){_this21.isFocused=t.isFocused&&t.selection.editableElement==_assertThisInitialized(_this21)})),_this21}return _createClass(zi,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"destroy",value:function(){this.stopListening()}}]),zi}(Ni);he(zi,re);var Pi=Symbol("rootName"),Li=function(_zi){_inherits(Li,_zi);var _super7=_createSuper(Li);function Li(t,e){var _this22;return _classCallCheck(this,Li),(_this22=_super7.call(this,t,e)).rootName="main",_this22}return _createClass(Li,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"rootName",get:function(){return this.getCustomProperty(Pi)},set:function(t){this._setCustomProperty(Pi,t)}},{key:"_name",set:function(t){this.name=t}}]),Li}(zi),Oi=function(){function Oi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,Oi),!t.boundaries&&!t.startPosition)throw new a("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new a("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=Ri._createAt(t.startPosition):this.position=Ri._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return _createClass(Oi,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(t){var e,n,o;do{var _this$next;o=this.position,e=(_this$next=this.next()).done,n=_this$next.value}while(!e&&t(n));e||(this.position=o)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var o,t=this.position.clone(),e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};if(n instanceof Fo){if(t.isAtEnd)return this.position=Ri._createAfter(n),this._next();o=n.data[t.offset]}else o=n.getChild(t.offset);if(o instanceof Ti)return this.shallow?t.offset++:t=new Ri(o,0),this.position=t,this._formatReturnValue("elementStart",o,e,t,1);if(o instanceof Fo){if(this.singleCharacters)return t=new Ri(o,0),this.position=t,this._next();var _n22,_i17=o.data.length;return o==this._boundaryEndParent?(_i17=this.boundaries.end.offset,_n22=new Vo(o,0,_i17),t=Ri._createAfter(_n22)):(_n22=new Vo(o,0,o.data.length),t.offset++),this.position=t,this._formatReturnValue("text",_n22,e,t,_i17)}if("string"==typeof o){var _o9;_o9=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;var _i18=new Vo(n,t.offset,_o9);return t.offset+=_o9,this.position=t,this._formatReturnValue("text",_i18,e,t,_o9)}return t=Ri._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}},{key:"_previous",value:function(){var o,t=this.position.clone(),e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};if(n instanceof Fo){if(t.isAtStart)return this.position=Ri._createBefore(n),this._previous();o=n.data[t.offset-1]}else o=n.getChild(t.offset-1);if(o instanceof Ti)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",o,e,t,1)):(t=new Ri(o,o.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,e,t));if(o instanceof Fo){if(this.singleCharacters)return t=new Ri(o,o.data.length),this.position=t,this._previous();var _n23,_i19=o.data.length;if(o==this._boundaryStartParent){var _e33=this.boundaries.start.offset;_i19=(_n23=new Vo(o,_e33,o.data.length-_e33)).data.length,t=Ri._createBefore(_n23)}else _n23=new Vo(o,0,o.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",_n23,e,t,_i19)}if("string"==typeof o){var _o10;if(this.singleCharacters)_o10=1;else{var _e34=n===this._boundaryStartParent?this.boundaries.start.offset:0;_o10=t.offset-_e34}t.offset-=_o10;var _i20=new Vo(n,t.offset,_o10);return this.position=t,this._formatReturnValue("text",_i20,e,t,_o10)}return t=Ri._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}},{key:"_formatReturnValue",value:function(t,e,n,o,i){return e instanceof Vo&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Ri._createAfter(e.textNode):(o=Ri._createAfter(e.textNode),this.position=o)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Ri._createBefore(e.textNode):(o=Ri._createBefore(e.textNode),this.position=o))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:i}}}}]),Oi}(),Ri=function(){function Ri(t,e){_classCallCheck(this,Ri),this.parent=t,this.offset=e}return _createClass(Ri,[{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var t=this.parent;!(t instanceof zi);){if(!t.parent)return null;t=t.parent}return t}},{key:"getShiftedBy",value:function(t){var e=Ri._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new Oi(e);return n.skip(t),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(t){for(var e=this.getAncestors(),n=t.getAncestors(),o=0;e[o]==n[o]&&e[o];)o++;return 0===o?null:e[o-1]}},{key:"is",value:function(t){return"position"===t||"view:position"===t}},{key:"isEqual",value:function(t){return this.parent==t.parent&&this.offset==t.offset}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"compareWith",value:function(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";var e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);var o=Oo(e,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return e[o]<n[o]?"before":"after"}}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.startPosition=this,new Oi(t)}},{key:"clone",value:function(){return new Ri(this.parent,this.offset)}}],[{key:"_createAt",value:function(t,e){if(t instanceof Ri)return new this(t.parent,t.offset);var _n24=t;if("end"==e)e=_n24.is("$text")?_n24.data.length:_n24.childCount;else{if("before"==e)return this._createBefore(_n24);if("after"==e)return this._createAfter(_n24);if(0!==e&&!e)throw new a("view-createpositionat-offset-required",_n24)}return new Ri(_n24,e)}},{key:"_createAfter",value:function(t){if(t.is("$textProxy"))return new Ri(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new a("view-position-after-root",t,{root:t});return new Ri(t.parent,t.index+1)}},{key:"_createBefore",value:function(t){if(t.is("$textProxy"))return new Ri(t.textNode,t.offsetInText);if(!t.parent)throw new a("view-position-before-root",t,{root:t});return new Ri(t.parent,t.index)}}]),Ri}(),ji=function(){function ji(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,ji),this.start=t.clone(),this.end=e?e.clone():t.clone()}return _createClass(ji,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function value(){return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.delegateYield(new Oi({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return _context6.stop()}}),value,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(Fi,{direction:"backward"}),e=this.end.getLastMatchingPosition(Fi);return t.parent.is("$text")&&t.isAtStart&&(t=Ri._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=Ri._createAfter(e.parent)),new ji(t,e)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(Fi);if(t.isAfter(this.end)||t.isEqual(this.end))return new ji(t,t);var e=this.end.getLastMatchingPosition(Fi,{direction:"backward"}),n=t.nodeAfter,o=e.nodeBefore;return n&&n.is("$text")&&(t=new Ri(n,0)),o&&o.is("$text")&&(e=new Ri(o,o.data.length)),new ji(t,e)}},{key:"isEqual",value:function(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}},{key:"getDifference",value:function(t){var e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new ji(this.start,t.start)),this.containsPosition(t.end)&&e.push(new ji(t.end,this.end))):e.push(this.clone()),e}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var _e35=this.start,_n25=this.end;return this.containsPosition(t.start)&&(_e35=t.start),this.containsPosition(t.end)&&(_n25=t.end),new ji(_e35,_n25)}return null}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new Oi(t)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}},{key:"clone",value:function(){return new ji(this.start,this.end)}},{key:"getItems",value:regeneratorRuntime.mark((function getItems(){var t,e,_iterator32,_step32,_t27,_args7=arguments;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:(t=_args7.length>0&&void 0!==_args7[0]?_args7[0]:{}).boundaries=this,t.ignoreElementEnd=!0,e=new Oi(t),_iterator32=_createForOfIteratorHelper(e),_context7.prev=5,_iterator32.s();case 7:if((_step32=_iterator32.n()).done){_context7.next=13;break}return _t27=_step32.value,_context7.next=11,_t27.item;case 11:_context7.next=7;break;case 13:_context7.next=18;break;case 15:_context7.prev=15,_context7.t0=_context7.catch(5),_iterator32.e(_context7.t0);case 18:return _context7.prev=18,_iterator32.f(),_context7.finish(18);case 21:case"end":return _context7.stop()}}),getItems,this,[[5,15,18,21]])}))},{key:"getPositions",value:regeneratorRuntime.mark((function getPositions(){var t,e,_iterator33,_step33,_t28,_args8=arguments;return regeneratorRuntime.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return(t=_args8.length>0&&void 0!==_args8[0]?_args8[0]:{}).boundaries=this,e=new Oi(t),_context8.next=5,e.position;case 5:_iterator33=_createForOfIteratorHelper(e),_context8.prev=6,_iterator33.s();case 8:if((_step33=_iterator33.n()).done){_context8.next=14;break}return _t28=_step33.value,_context8.next=12,_t28.nextPosition;case 12:_context8.next=8;break;case 14:_context8.next=19;break;case 16:_context8.prev=16,_context8.t0=_context8.catch(6),_iterator33.e(_context8.t0);case 19:return _context8.prev=19,_iterator33.f(),_context8.finish(19);case 22:case"end":return _context8.stop()}}),getPositions,this,[[6,16,19,22]])}))},{key:"is",value:function(t){return"range"===t||"view:range"===t}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}}],[{key:"_createFromParentsAndOffsets",value:function(t,e,n,o){return new this(new Ri(t,e),new Ri(n,o))}},{key:"_createFromPositionAndShift",value:function(t,e){var n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}},{key:"_createIn",value:function(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}},{key:"_createOn",value:function(t){var e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(Ri._createBefore(t),e)}}]),ji}();function Fi(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function Vi(t){var _step34,e=0,_iterator34=_createForOfIteratorHelper(t);try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){_step34.value;e++}}catch(err){_iterator34.e(err)}finally{_iterator34.f()}return e}var Hi=function(){function Hi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,Hi),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}return _createClass(Hi,[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:regeneratorRuntime.mark((function getRanges(){var _iterator35,_step35,_t29;return regeneratorRuntime.wrap((function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:_iterator35=_createForOfIteratorHelper(this._ranges),_context9.prev=1,_iterator35.s();case 3:if((_step35=_iterator35.n()).done){_context9.next=9;break}return _t29=_step35.value,_context9.next=7,_t29.clone();case 7:_context9.next=3;break;case 9:_context9.next=14;break;case 11:_context9.prev=11,_context9.t0=_context9.catch(1),_iterator35.e(_context9.t0);case 14:return _context9.prev=14,_iterator35.f(),_context9.finish(14);case 17:case"end":return _context9.stop()}}),getRanges,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var _step36,t=null,_iterator36=_createForOfIteratorHelper(this._ranges);try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _e36=_step36.value;t&&!_e36.start.isBefore(t.start)||(t=_e36)}}catch(err){_iterator36.e(err)}finally{_iterator36.f()}return t?t.clone():null}},{key:"getLastRange",value:function(){var _step37,t=null,_iterator37=_createForOfIteratorHelper(this._ranges);try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _e37=_step37.value;t&&!_e37.end.isAfter(t.end)||(t=_e37)}}catch(err){_iterator37.e(err)}finally{_iterator37.f()}return t?t.clone():null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"isEqual",value:function(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var _step38,_iterator38=_createForOfIteratorHelper(this._ranges);try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _step39,_e38=_step38.value,_n27=!1,_iterator39=_createForOfIteratorHelper(t._ranges);try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _o11=_step39.value;if(_e38.isEqual(_o11)){_n27=!0;break}}}catch(err){_iterator39.e(err)}finally{_iterator39.f()}if(!_n27)return!1}}catch(err){_iterator38.e(err)}finally{_iterator38.f()}return!0}},{key:"isSimilar",value:function(t){if(this.isBackward!=t.isBackward)return!1;var e=Vi(this.getRanges());if(e!=Vi(t.getRanges()))return!1;if(0==e)return!0;var _step40,_iterator40=_createForOfIteratorHelper(this.getRanges());try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _e39=_step40.value;_e39=_e39.getTrimmed();var _step41,_n28=!1,_iterator41=_createForOfIteratorHelper(t.getRanges());try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _o12=_step41.value;if(_o12=_o12.getTrimmed(),_e39.start.isEqual(_o12.start)&&_e39.end.isEqual(_o12.end)){_n28=!0;break}}}catch(err){_iterator41.e(err)}finally{_iterator41.f()}if(!_n28)return!1}}catch(err){_iterator40.e(err)}finally{_iterator40.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof Hi||t instanceof Ui)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ji)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof Ri)this._setRanges([new ji(t)]),this._setFakeOptions(e);else if(t instanceof jo){var _i21,_o13=!!n&&!!n.backward;if(void 0===e)throw new a("view-selection-setto-required-second-parameter",this);_i21="in"==e?ji._createIn(t):"on"==e?ji._createOn(t):new ji(Ri._createAt(t,e)),this._setRanges([_i21],_o13),this._setFakeOptions(n)}else{if(!Do(t))throw new a("view-selection-setto-not-selectable",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new a("view-selection-setfocus-no-ranges",this);var n=Ri._createAt(t,e);if("same"!=n.compareWith(this.focus)){var o=this.anchor;this._ranges.pop(),"before"==n.compareWith(o)?this._addRange(new ji(n,o),!0):this._addRange(new ji(o,n)),this.fire("change")}}},{key:"is",value:function(t){return"selection"===t||"view:selection"===t}},{key:"_setRanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Array.from(t),this._ranges=[];var _step42,_iterator42=_createForOfIteratorHelper(t);try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _e40=_step42.value;this._addRange(_e40)}}catch(err){_iterator42.e(err)}finally{_iterator42.f()}this._lastRangeBackward=!!e}},{key:"_setFakeOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}},{key:"_addRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t instanceof ji))throw new a("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}},{key:"_pushRange",value:function(t){var _step43,_iterator43=_createForOfIteratorHelper(this._ranges);try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _e41=_step43.value;if(t.isIntersecting(_e41))throw new a("view-selection-range-intersects",this,{addedRange:t,intersectingRange:_e41})}}catch(err){_iterator43.e(err)}finally{_iterator43.f()}this._ranges.push(new ji(t.start,t.end))}}]),Hi}();he(Hi,f);var Ui=function(){function Ui(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,Ui),this._selection=new Hi,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}return _createClass(Ui,[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:regeneratorRuntime.mark((function getRanges(){return regeneratorRuntime.wrap((function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return _context10.stop()}}),getRanges,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(t){return this._selection.isEqual(t)}},{key:"isSimilar",value:function(t){return this._selection.isSimilar(t)}},{key:"is",value:function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}}]),Ui}();he(Ui,f);var qi=function(_e42){_inherits(qi,_e42);var _super8=_createSuper(qi);function qi(t,e,n){var _this23;return _classCallCheck(this,qi),(_this23=_super8.call(this,t,e)).startRange=n,_this23._eventPhase="none",_this23._currentTarget=null,_this23}return _createClass(qi,[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}]),qi}(e),Wi=Symbol("bubbling contexts"),Yi={fire:function(t){try{var _o14=t instanceof e?t:new e(this,t),_i22=Zi(this);if(!_i22.size)return;for(var _len16=arguments.length,n=new Array(_len16>1?_len16-1:0),_key16=1;_key16<_len16;_key16++)n[_key16-1]=arguments[_key16];if(Qi(_o14,"capturing",this),Ki.apply(void 0,[_i22,"$capture",_o14].concat(n)))return _o14.return;var _r8=_o14.startRange||this.selection.getFirstRange(),_s3=_r8?_r8.getContainedElement():null,_a3=!!_s3&&Boolean($i(_i22,_s3)),_c2=_s3||function(t){if(!t)return null;var e=t.start.parent,n=t.end.parent,o=e.getPath(),i=n.getPath();return o.length>i.length?e:n}(_r8);if(Qi(_o14,"atTarget",_c2),!_a3){if(Ki.apply(void 0,[_i22,"$text",_o14].concat(n)))return _o14.return;Qi(_o14,"bubbling",_c2)}for(;_c2;){if(_c2.is("rootElement")){if(Ki.apply(void 0,[_i22,"$root",_o14].concat(n)))return _o14.return}else if(_c2.is("element")&&Ki.apply(void 0,[_i22,_c2.name,_o14].concat(n)))return _o14.return;if(Ki.apply(void 0,[_i22,_c2,_o14].concat(n)))return _o14.return;Qi(_o14,"bubbling",_c2=_c2.parent)}return Qi(_o14,"bubbling",this),Ki.apply(void 0,[_i22,"$document",_o14].concat(n)),_o14.return}catch(t){a.rethrowUnexpectedError(t,this)}},_addEventListener:function(t,e,n){var _step44,o=To(n.context||"$document"),i=Zi(this),_iterator44=_createForOfIteratorHelper(o);try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _r9=_step44.value,_o15=i.get(_r9);_o15||(_o15=Object.create(f),i.set(_r9,_o15)),this.listenTo(_o15,t,e,n)}}catch(err){_iterator44.e(err)}finally{_iterator44.f()}},_removeEventListener:function(t,e){var _step45,_iterator45=_createForOfIteratorHelper(Zi(this).values());try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _o16=_step45.value;this.stopListening(_o16,t,e)}}catch(err){_iterator45.e(err)}finally{_iterator45.f()}}};function Qi(t,e,n){t instanceof qi&&(t._eventPhase=e,t._currentTarget=n)}function Ki(t,e,n){for(var i="string"==typeof e?t.get(e):$i(t,e),_len17=arguments.length,o=new Array(_len17>3?_len17-3:0),_key17=3;_key17<_len17;_key17++)o[_key17-3]=arguments[_key17];return!!i&&(i.fire.apply(i,[n].concat(o)),n.stop.called)}function $i(t,e){var _step46,_iterator46=_createForOfIteratorHelper(t);try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _step46$value=_slicedToArray(_step46.value,2),_n29=_step46$value[0],_o17=_step46$value[1];if("function"==typeof _n29&&_n29(e))return _o17}}catch(err){_iterator46.e(err)}finally{_iterator46.f()}return null}function Zi(t){return t[Wi]||(t[Wi]=new Map),t[Wi]}var Ji=function(){function Ji(t){_classCallCheck(this,Ji),this.selection=new Ui,this.roots=new Io({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}return _createClass(Ji,[{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"destroy",value:function(){this.roots.map((function(t){return t.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(t){var e=!1;do{var _step47,_iterator47=_createForOfIteratorHelper(this._postFixers);try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){if(e=(0,_step47.value)(t))break}}catch(err){_iterator47.e(err)}finally{_iterator47.f()}}while(e)}}]),Ji}();he(Ji,Yi),he(Ji,re);var Xi=function(_Ti2){_inherits(Xi,_Ti2);var _super9=_createSuper(Xi);function Xi(t,e,n,o){var _this24;return _classCallCheck(this,Xi),(_this24=_super9.call(this,t,e,n,o)).getFillerOffset=tr,_this24._priority=10,_this24._id=null,_this24._clonesGroup=null,_this24}return _createClass(Xi,[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"isSimilar",value:function(t){return null!==this.id||null!==t.id?this.id===t.id:_get(_getPrototypeOf(Xi.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var e=_get(_getPrototypeOf(Xi.prototype),"_clone",this).call(this,t);return e._priority=this._priority,e._id=this._id,e}}]),Xi}(Ti);function tr(){if(er(this))return null;for(var t=this.parent;t&&t.is("attributeElement");){if(er(t)>1)return null;t=t.parent}return!t||er(t)>1?null:this.childCount}function er(t){return Array.from(t.getChildren()).filter((function(t){return!t.is("uiElement")})).length}Xi.DEFAULT_PRIORITY=10;var nr=function(_Ti3){_inherits(nr,_Ti3);var _super10=_createSuper(nr);function nr(t,e,n,o){var _this25;return _classCallCheck(this,nr),(_this25=_super10.call(this,t,e,n,o))._isAllowedInsideAttributeElement=!0,_this25.getFillerOffset=or,_this25}return _createClass(nr,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof jo||Array.from(e).length>0))throw new a("view-emptyelement-cannot-add",[this,e])}}]),nr}(Ti);function or(){return null}var ir=navigator.userAgent.toLowerCase(),sr={isMac:ar(ir),isWindows:function(t){return t.indexOf("windows")>-1}(ir),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(ir),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(ir),isiOS:function(t){return!!t.match(/iphone|ipad/i)||ar(t)&&navigator.maxTouchPoints>0}(ir),isAndroid:function(t){return t.indexOf("android")>-1}(ir),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(ir),features:{isRegExpUnicodePropertySupported:function(){var t=!1;try{t=0==="".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};function ar(t){return t.indexOf("macintosh")>-1}var cr={ctrl:"",cmd:"",alt:"",shift:""},lr={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},dr=function(){for(var t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},_e43=65;_e43<=90;_e43++){t[String.fromCharCode(_e43).toLowerCase()]=_e43}for(var _e44=48;_e44<=57;_e44++)t[_e44-48]=_e44;for(var _e45=112;_e45<=123;_e45++)t["f"+(_e45-111)]=_e45;var _step48,_iterator48=_createForOfIteratorHelper("`-=[];',./\\");try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _e46=_step48.value;t[_e46]=_e46.charCodeAt(0)}}catch(err){_iterator48.e(err)}finally{_iterator48.f()}return t}(),hr=Object.fromEntries(Object.entries(dr).map((function(_ref9){var _ref10=_slicedToArray(_ref9,2),t=_ref10[0];return[_ref10[1],t.charAt(0).toUpperCase()+t.slice(1)]})));function ur(t){var e;if("string"==typeof t){if(!(e=dr[t.toLowerCase()]))throw new a("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?dr.alt:0)+(t.ctrlKey?dr.ctrl:0)+(t.shiftKey?dr.shift:0)+(t.metaKey?dr.cmd:0);return e}function gr(t){return"string"==typeof t&&(t=function(t){return t.split("+").map((function(t){return t.trim()}))}(t)),t.map((function(t){return"string"==typeof t?function(t){if(t.endsWith("!"))return ur(t.slice(0,-1));var e=ur(t);return sr.isMac&&e==dr.ctrl?dr.cmd:e}(t):t})).reduce((function(t,e){return e+t}),0)}function mr(t){var e=gr(t);return Object.entries(sr.isMac?cr:lr).reduce((function(t,_ref11){var _ref12=_slicedToArray(_ref11,2),n=_ref12[0],o=_ref12[1];return 0!=(e&dr[n])&&(e&=~dr[n],t+=o),t}),"")+(e?hr[e]:"")}function pr(t,e){var n="ltr"===e;switch(t){case dr.arrowleft:return n?"left":"right";case dr.arrowright:return n?"right":"left";case dr.arrowup:return"up";case dr.arrowdown:return"down"}}var fr=function(_Ti4){_inherits(fr,_Ti4);var _super11=_createSuper(fr);function fr(t,e,n,o){var _this26;return _classCallCheck(this,fr),(_this26=_super11.call(this,t,e,n,o))._isAllowedInsideAttributeElement=!0,_this26.getFillerOffset=br,_this26}return _createClass(fr,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof jo||Array.from(e).length>0))throw new a("view-uielement-cannot-add",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var _step49,e=t.createElement(this.name),_iterator49=_createForOfIteratorHelper(this.getAttributeKeys());try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _t30=_step49.value;e.setAttribute(_t30,this.getAttribute(_t30))}}catch(err){_iterator49.e(err)}finally{_iterator49.f()}return e}}]),fr}(Ti);function br(){return null}var wr=function(_Ti5){_inherits(wr,_Ti5);var _super12=_createSuper(wr);function wr(t,e,n,o){var _this27;return _classCallCheck(this,wr),(_this27=_super12.call(this,t,e,n,o))._isAllowedInsideAttributeElement=!0,_this27.getFillerOffset=Ar,_this27}return _createClass(wr,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof jo||Array.from(e).length>0))throw new a("view-rawelement-cannot-add",[this,e])}}]),wr}(Ti);function Ar(){return null}var Cr=function(){function Cr(t,e){_classCallCheck(this,Cr),this.document=t,this._children=[],e&&this._insertChild(0,e)}return _createClass(Cr,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(t){return"documentFragment"===t||"view:documentFragment"===t}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var _step50,n=0,_iterator50=_createForOfIteratorHelper(function(t,e){return"string"==typeof e?[new Fo(t,e)]:(Do(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Fo(t,e):e instanceof Vo?new Fo(t,e.data):e})))}(this.document,e));try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _e49=_step50.value;null!==_e49.parent&&_e49._remove(),_e49.parent=this,this._children.splice(t,0,_e49),t++,n++}}catch(err){_iterator50.e(err)}finally{_iterator50.f()}return n}},{key:"_removeChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var _n32=t;_n32<t+e;_n32++)this._children[_n32].parent=null;return this._children.splice(t,e)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e)}}]),Cr}();he(Cr,f);var _r=function(){function _r(t){_classCallCheck(this,_r),this.document=t,this._cloneGroups=new Map}return _createClass(_r,[{key:"setSelection",value:function(t,e,n){this.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this.document.selection._setFocus(t,e)}},{key:"createDocumentFragment",value:function(t){return new Cr(this.document,t)}},{key:"createText",value:function(t){return new Fo(this.document,t)}},{key:"createAttributeElement",value:function(t,e){var _o$_unsafeAttributesT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Xi(this.document,t,e);return"number"==typeof n.priority&&(o._priority=n.priority),n.id&&(o._id=n.id),n.renderUnsafeAttributes&&(_o$_unsafeAttributesT=o._unsafeAttributesToRender).push.apply(_o$_unsafeAttributesT,_toConsumableArray(n.renderUnsafeAttributes)),o}},{key:"createContainerElement",value:function(t,e){var _o$_unsafeAttributesT2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Ni(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(o._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),n.renderUnsafeAttributes&&(_o$_unsafeAttributesT2=o._unsafeAttributesToRender).push.apply(_o$_unsafeAttributesT2,_toConsumableArray(n.renderUnsafeAttributes)),o}},{key:"createEditableElement",value:function(t,e){var _o$_unsafeAttributesT3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new zi(this.document,t,e);return o._document=this.document,n.renderUnsafeAttributes&&(_o$_unsafeAttributesT3=o._unsafeAttributesToRender).push.apply(_o$_unsafeAttributesT3,_toConsumableArray(n.renderUnsafeAttributes)),o}},{key:"createEmptyElement",value:function(t,e){var _o$_unsafeAttributesT4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new nr(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(o._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),n.renderUnsafeAttributes&&(_o$_unsafeAttributesT4=o._unsafeAttributesToRender).push.apply(_o$_unsafeAttributesT4,_toConsumableArray(n.renderUnsafeAttributes)),o}},{key:"createUIElement",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new fr(this.document,t,e);return n&&(i.render=n),void 0!==o.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=o.isAllowedInsideAttributeElement),i}},{key:"createRawElement",value:function(t,e,n){var _i$_unsafeAttributesT,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new wr(this.document,t,e);return i.render=n||function(){},void 0!==o.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=o.isAllowedInsideAttributeElement),o.renderUnsafeAttributes&&(_i$_unsafeAttributesT=i._unsafeAttributesToRender).push.apply(_i$_unsafeAttributesT,_toConsumableArray(o.renderUnsafeAttributes)),i}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){ye(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"breakAttributes",value:function(t){return t instanceof Ri?this._breakAttributes(t):this._breakAttributesRange(t)}},{key:"breakContainer",value:function(t){var e=t.parent;if(!e.is("containerElement"))throw new a("view-writer-break-non-container-element",this.document);if(!e.parent)throw new a("view-writer-break-root",this.document);if(t.isAtStart)return Ri._createBefore(e);if(!t.isAtEnd){var _n33=e._clone(!1);this.insert(Ri._createAfter(e),_n33);var _o19=new ji(t,Ri._createAt(e,"end")),_i24=new Ri(_n33,0);this.move(_o19,_i24)}return Ri._createAfter(e)}},{key:"mergeAttributes",value:function(t){var e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){var _t32=n.parent,_e50=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Ri(_t32,_e50))}var o=n.getChild(e-1),i=n.getChild(e);if(!o||!i)return t;if(o.is("$text")&&i.is("$text"))return Dr(o,i);if(o.is("attributeElement")&&i.is("attributeElement")&&o.isSimilar(i)){var _t33=o.childCount;return o._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Ri(o,_t33))}return t}},{key:"mergeContainers",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new a("view-writer-merge-containers-invalid-position",this.document);var o=e.getChild(e.childCount-1),i=o instanceof Fo?Ri._createAt(o,"end"):Ri._createAt(e,"end");return this.move(ji._createIn(n),Ri._createAt(e,"end")),this.remove(ji._createOn(n)),i}},{key:"insert",value:function(t,e){!function Ir(t,e){var _step65,_iterator65=_createForOfIteratorHelper(t);try{var _loop=function(){var n=_step65.value;if(!Mr.some((function(t){return n instanceof t})))throw new a("view-writer-insert-invalid-node-type",e);n.is("$text")||Ir(n.getChildren(),e)};for(_iterator65.s();!(_step65=_iterator65.n()).done;)_loop()}catch(err){_iterator65.e(err)}finally{_iterator65.f()}}(e=Do(e)?_toConsumableArray(e):[e],this.document);var _step51,n=e.reduce((function(t,e){var n=t[t.length-1],o=!(e.is("uiElement")&&e.isAllowedInsideAttributeElement);return n&&n.breakAttributes==o?n.nodes.push(e):t.push({breakAttributes:o,nodes:[e]}),t}),[]),o=null,i=t,_iterator51=_createForOfIteratorHelper(n);try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _step51$value=_step51.value,_t34=_step51$value.nodes,_e51=_step51$value.breakAttributes,_n34=this._insertNodes(i,_t34,_e51);o||(o=_n34.start),i=_n34.end}}catch(err){_iterator51.e(err)}finally{_iterator51.f()}return o?new ji(o,i):new ji(t)}},{key:"remove",value:function(t){var e=t instanceof ji?t:ji._createOn(t);if(Sr(e,this.document),e.isCollapsed)return new Cr(this.document);var _step52,_this$_breakAttribute=this._breakAttributesRange(e,!0),n=_this$_breakAttribute.start,o=_this$_breakAttribute.end,i=n.parent,r=o.offset-n.offset,s=i._removeChildren(n.offset,r),_iterator52=_createForOfIteratorHelper(s);try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _t35=_step52.value;this._removeFromClonedElementsGroup(_t35)}}catch(err){_iterator52.e(err)}finally{_iterator52.f()}var a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new Cr(this.document,s)}},{key:"clear",value:function(t,e){Sr(t,this.document);var _step53,_iterator53=_createForOfIteratorHelper(t.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _o20=_step53.value,_n35=_o20.item,_i25=void 0;if(_n35.is("element")&&e.isSimilar(_n35))_i25=ji._createOn(_n35);else if(!_o20.nextPosition.isAfter(t.start)&&_n35.is("$textProxy")){var _t36=_n35.getAncestors().find((function(t){return t.is("element")&&e.isSimilar(t)}));_t36&&(_i25=ji._createIn(_t36))}_i25&&(_i25.end.isAfter(t.end)&&(_i25.end=t.end),_i25.start.isBefore(t.start)&&(_i25.start=t.start),this.remove(_i25))}}catch(err){_iterator53.e(err)}finally{_iterator53.f()}}},{key:"move",value:function(t,e){var n;if(e.isAfter(t.end)){var _o21=(e=this._breakAttributes(e,!0)).parent,_i26=_o21.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=_o21.childCount-_i26}else n=this.remove(t);return this.insert(e,n)}},{key:"wrap",value:function(t,e){if(!(e instanceof Xi))throw new a("view-writer-wrap-invalid-attribute",this.document);if(Sr(t,this.document),t.isCollapsed){var _o22=t.start;_o22.parent.is("element")&&(n=_o22.parent,!Array.from(n.getChildren()).some((function(t){return!t.is("uiElement")})))&&(_o22=_o22.getLastMatchingPosition((function(t){return t.item.is("uiElement")}))),_o22=this._wrapPosition(_o22,e);var _i27=this.document.selection;return _i27.isCollapsed&&_i27.getFirstPosition().isEqual(t.start)&&this.setSelection(_o22),new ji(_o22)}return this._wrapRange(t,e);var n}},{key:"unwrap",value:function(t,e){if(!(e instanceof Xi))throw new a("view-writer-unwrap-invalid-attribute",this.document);if(Sr(t,this.document),t.isCollapsed)return t;var _this$_breakAttribute2=this._breakAttributesRange(t,!0),n=_this$_breakAttribute2.start,o=_this$_breakAttribute2.end,i=n.parent,r=this._unwrapChildren(i,n.offset,o.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;var c=this.mergeAttributes(r.end);return new ji(s,c)}},{key:"rename",value:function(t,e){var n=new Ni(this.document,t,e.getAttributes());return this.insert(Ri._createAfter(e),n),this.move(ji._createIn(e),Ri._createAt(n,0)),this.remove(ji._createOn(e)),n}},{key:"clearClonedElementsGroup",value:function(t){this._cloneGroups.delete(t)}},{key:"createPositionAt",value:function(t,e){return Ri._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return Ri._createAfter(t)}},{key:"createPositionBefore",value:function(t){return Ri._createBefore(t)}},{key:"createRange",value:function(t,e){return new ji(t,e)}},{key:"createRangeOn",value:function(t){return ji._createOn(t)}},{key:"createRangeIn",value:function(t){return ji._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Hi(t,e,n)}},{key:"_insertNodes",value:function(t,e,n){var o,i;if(!(o=n?vr(t):t.parent.is("$text")?t.parent.parent:t.parent))throw new a("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(t,!0):t.parent.is("$text")?Er(t):t;var _step54,r=o._insertChild(i.offset,e),_iterator54=_createForOfIteratorHelper(e);try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _t37=_step54.value;this._addToClonedElementsGroup(_t37)}}catch(err){_iterator54.e(err)}finally{_iterator54.f()}var s=i.getShiftedBy(r),c=this.mergeAttributes(i);c.isEqual(i)||s.offset--;var l=this.mergeAttributes(s);return new ji(c,l)}},{key:"_wrapChildren",value:function(t,e,n,o){for(var i=e,r=[];i<n;){var _e52=t.getChild(i),_n36=_e52.is("$text"),_s5=_e52.is("attributeElement"),_a5=_e52.isAllowedInsideAttributeElement;if(_s5&&this._wrapAttributeElement(o,_e52))r.push(new Ri(t,i));else if(_n36||_a5||_s5&&yr(o,_e52)){var _n37=o._clone();_e52._remove(),_n37._appendChild(_e52),t._insertChild(i,_n37),this._addToClonedElementsGroup(_n37),r.push(new Ri(t,i))}else _s5&&this._wrapChildren(_e52,0,_e52.childCount,o);i++}for(var s=0,_i28=0,_r11=r;_i28<_r11.length;_i28++){var _t38=_r11[_i28];(_t38.offset-=s,_t38.offset!=e)&&(this.mergeAttributes(_t38).isEqual(_t38)||(s++,n--))}return ji._createFromParentsAndOffsets(t,e,t,n)}},{key:"_unwrapChildren",value:function(t,e,n,o){for(var i=e,r=[];i<n;){var _e53=t.getChild(i);if(_e53.is("attributeElement"))if(_e53.isSimilar(o)){var _o23=_e53.getChildren(),_s6=_e53.childCount;_e53._remove(),t._insertChild(i,_o23),this._removeFromClonedElementsGroup(_e53),r.push(new Ri(t,i),new Ri(t,i+_s6)),i+=_s6,n+=_s6-1}else this._unwrapAttributeElement(o,_e53)?(r.push(new Ri(t,i),new Ri(t,i+1)),i++):(this._unwrapChildren(_e53,0,_e53.childCount,o),i++);else i++}for(var s=0,_i29=0,_r12=r;_i29<_r12.length;_i29++){var _t39=_r12[_i29];(_t39.offset-=s,_t39.offset!=e&&_t39.offset!=n)&&(this.mergeAttributes(_t39).isEqual(_t39)||(s++,n--))}return ji._createFromParentsAndOffsets(t,e,t,n)}},{key:"_wrapRange",value:function(t,e){var _this$_breakAttribute3=this._breakAttributesRange(t,!0),n=_this$_breakAttribute3.start,o=_this$_breakAttribute3.end,i=n.parent,r=this._wrapChildren(i,n.offset,o.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;var a=this.mergeAttributes(r.end);return new ji(s,a)}},{key:"_wrapPosition",value:function(t,e){if(e.isSimilar(t.parent))return xr(t.clone());t.parent.is("$text")&&(t=Er(t));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},t.parent._insertChild(t.offset,n);var o=new ji(t,t.getShiftedBy(1));this.wrap(o,e);var i=new Ri(n.parent,n.index);n._remove();var r=i.nodeBefore,s=i.nodeAfter;return r instanceof Fo&&s instanceof Fo?Dr(r,s):xr(i)}},{key:"_wrapAttributeElement",value:function(t,e){if(!Nr(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var _step55,_iterator55=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _n38=_step55.value;if("class"!==_n38&&"style"!==_n38&&e.hasAttribute(_n38)&&e.getAttribute(_n38)!==t.getAttribute(_n38))return!1}}catch(err){_iterator55.e(err)}finally{_iterator55.f()}var _step56,_iterator56=_createForOfIteratorHelper(t.getStyleNames());try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _n39=_step56.value;if(e.hasStyle(_n39)&&e.getStyle(_n39)!==t.getStyle(_n39))return!1}}catch(err){_iterator56.e(err)}finally{_iterator56.f()}var _step57,_iterator57=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _n40=_step57.value;"class"!==_n40&&"style"!==_n40&&(e.hasAttribute(_n40)||this.setAttribute(_n40,t.getAttribute(_n40),e))}}catch(err){_iterator57.e(err)}finally{_iterator57.f()}var _step58,_iterator58=_createForOfIteratorHelper(t.getStyleNames());try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var _n41=_step58.value;e.hasStyle(_n41)||this.setStyle(_n41,t.getStyle(_n41),e)}}catch(err){_iterator58.e(err)}finally{_iterator58.f()}var _step59,_iterator59=_createForOfIteratorHelper(t.getClassNames());try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var _n42=_step59.value;e.hasClass(_n42)||this.addClass(_n42,e)}}catch(err){_iterator59.e(err)}finally{_iterator59.f()}return!0}},{key:"_unwrapAttributeElement",value:function(t,e){if(!Nr(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var _step60,_iterator60=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _n43=_step60.value;if("class"!==_n43&&"style"!==_n43&&(!e.hasAttribute(_n43)||e.getAttribute(_n43)!==t.getAttribute(_n43)))return!1}}catch(err){_iterator60.e(err)}finally{_iterator60.f()}if(!e.hasClass.apply(e,_toConsumableArray(t.getClassNames())))return!1;var _step61,_iterator61=_createForOfIteratorHelper(t.getStyleNames());try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _n44=_step61.value;if(!e.hasStyle(_n44)||e.getStyle(_n44)!==t.getStyle(_n44))return!1}}catch(err){_iterator61.e(err)}finally{_iterator61.f()}var _step62,_iterator62=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _n45=_step62.value;"class"!==_n45&&"style"!==_n45&&this.removeAttribute(_n45,e)}}catch(err){_iterator62.e(err)}finally{_iterator62.f()}return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}},{key:"_breakAttributesRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.start,o=t.end;if(Sr(t,this.document),t.isCollapsed){var _n46=this._breakAttributes(t.start,e);return new ji(_n46,_n46)}var i=this._breakAttributes(o,e),r=i.parent.childCount,s=this._breakAttributes(n,e);return i.offset+=i.parent.childCount-r,new ji(s,i)}},{key:"_breakAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.offset,o=t.parent;if(t.parent.is("emptyElement"))throw new a("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new a("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new a("view-writer-cannot-break-raw-element",this.document);if(!e&&o.is("$text")&&Tr(o.parent))return t.clone();if(Tr(o))return t.clone();if(o.is("$text"))return this._breakAttributes(Er(t),e);if(n==o.childCount){var _t40=new Ri(o.parent,o.index+1);return this._breakAttributes(_t40,e)}if(0===n){var _t41=new Ri(o.parent,o.index);return this._breakAttributes(_t41,e)}var _t42=o.index+1,_i30=o._clone();o.parent._insertChild(_t42,_i30),this._addToClonedElementsGroup(_i30);var _r13=o.childCount-n,_s7=o._removeChildren(n,_r13);_i30._appendChild(_s7);var _a6=new Ri(o.parent,_t42);return this._breakAttributes(_a6,e)}},{key:"_addToClonedElementsGroup",value:function(t){if(t.root.is("rootElement")){if(t.is("element")){var _step63,_iterator63=_createForOfIteratorHelper(t.getChildren());try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var _e54=_step63.value;this._addToClonedElementsGroup(_e54)}}catch(err){_iterator63.e(err)}finally{_iterator63.f()}}var e=t.id;if(e){var n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}}}},{key:"_removeFromClonedElementsGroup",value:function(t){if(t.is("element")){var _step64,_iterator64=_createForOfIteratorHelper(t.getChildren());try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var _e55=_step64.value;this._removeFromClonedElementsGroup(_e55)}}catch(err){_iterator64.e(err)}finally{_iterator64.f()}}var e=t.id;if(e){var n=this._cloneGroups.get(e);n&&n.delete(t)}}}]),_r}();function vr(t){for(var e=t.parent;!Tr(e);){if(!e)return;e=e.parent}return e}function yr(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function xr(t){var e=t.nodeBefore;if(e&&e.is("$text"))return new Ri(e,e.data.length);var n=t.nodeAfter;return n&&n.is("$text")?new Ri(n,0):t}function Er(t){if(t.offset==t.parent.data.length)return new Ri(t.parent.parent,t.parent.index+1);if(0===t.offset)return new Ri(t.parent.parent,t.parent.index);var e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new Fo(t.root.document,e)),new Ri(t.parent.parent,t.parent.index+1)}function Dr(t,e){var n=t.data.length;return t._data+=e.data,e._remove(),new Ri(t,n)}var Mr=[Fo,Xi,Ni,nr,wr,fr];function Tr(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Sr(t,e){var n=vr(t.start),o=vr(t.end);if(!n||!o||n!==o)throw new a("view-writer-invalid-range-container",e)}function Nr(t,e){return null===t.id&&null===e.id}function Br(t){return"[object Text]"==Object.prototype.toString.call(t)}var zr=function(t){return t.createTextNode(" ")},Pr=function(t){var e=t.createElement("span");return e.dataset.ckeFiller=!0,e.innerHTML=" ",e},Lr=function(t){var e=t.createElement("br");return e.dataset.ckeFiller=!0,e},Or="".repeat(7);function Rr(t){return Br(t)&&t.data.substr(0,7)===Or}function jr(t){return 7==t.data.length&&Rr(t)}function Fr(t){return Rr(t)?t.data.slice(7):t.data}function Vr(t,e){if(e.keyCode==dr.arrowleft){var _t43=e.domTarget.ownerDocument.defaultView.getSelection();if(1==_t43.rangeCount&&_t43.getRangeAt(0).collapsed){var _e56=_t43.getRangeAt(0).startContainer,_n47=_t43.getRangeAt(0).startOffset;Rr(_e56)&&_n47<=7&&_t43.collapse(_e56,0)}}}function Hr(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(e)||(e=Array.prototype.slice.call(e));var i=function(t,e,n){var o=Ur(t,e,n);if(-1===o)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var s=Ur(qr(t,o),qr(e,o),n);return{firstIndex:o,lastIndexOld:t.length-s,lastIndexNew:e.length-s}}(t,e,n);return o?function(t,e){var n=t.firstIndex,o=t.lastIndexOld,i=t.lastIndexNew;if(-1===n)return Array(e).fill("equal");var r=[];return n>0&&(r=r.concat(Array(n).fill("equal"))),i-n>0&&(r=r.concat(Array(i-n).fill("insert"))),o-n>0&&(r=r.concat(Array(o-n).fill("delete"))),i<e&&(r=r.concat(Array(e-i).fill("equal"))),r}(i,e.length):function(t,e){var n=[],o=e.firstIndex,i=e.lastIndexOld,r=e.lastIndexNew;return r-o>0&&n.push({index:o,type:"insert",values:t.slice(o,r)}),i-o>0&&n.push({index:o+(r-o),type:"delete",howMany:i-o}),n}(e,i)}function Ur(t,e,n){for(var _o24=0;_o24<Math.max(t.length,e.length);_o24++)if(void 0===t[_o24]||void 0===e[_o24]||!n(t[_o24],e[_o24]))return _o24;return-1}function qr(t,e){return t.slice(e).reverse()}function Wr(t,e,n){n=n||function(t,e){return t===e};var r,s,o=t.length,i=e.length;if(o>200||i>200||o+i>300)return Wr.fastDiff(t,e,n,!0);if(i<o){var _n48=t;t=e,e=_n48,r="delete",s="insert"}else r="insert",s="delete";var a=t.length,c=e.length,l=c-a,d={},h={};function u(o){var i=(void 0!==h[o-1]?h[o-1]:-1)+1,l=void 0!==h[o+1]?h[o+1]:-1,u=i>l?-1:1;d[o+u]&&(d[o]=d[o+u].slice(0)),d[o]||(d[o]=[]),d[o].push(i>l?r:s);for(var g=Math.max(i,l),m=g-o;m<a&&g<c&&n(t[m],e[g]);)m++,g++,d[o].push("equal");return g}var g,m=0;do{for(g=-m;g<l;g++)h[g]=u(g);for(g=l+m;g>l;g--)h[g]=u(g);h[l]=u(l),m++}while(h[l]!==c);return d[l].slice(1)}function Gr(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Yr(t){var e=t.parentNode;e&&e.removeChild(t)}function Qr(t){return t&&t.nodeType===Node.COMMENT_NODE}function Kr(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}Wr.fastDiff=Hr;var $r=n(6062),Zr=n.n($r),Jr=n(9315);Zr()(Jr.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Jr.Z.locals;var ts=function(){function ts(t,e){var _this28=this;_classCallCheck(this,ts),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),sr.isBlink&&!sr.isAndroid&&this.on("change:isSelecting",(function(){_this28.isSelecting||_this28.render()})),this._inlineFiller=null,this._fakeSelectionContainer=null}return _createClass(ts,[{key:"markToSync",value:function(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new a("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}},{key:"render",value:function(){var t,_step66,e=!(sr.isBlink&&!sr.isAndroid&&this.isSelecting),_iterator66=_createForOfIteratorHelper(this.markedChildren);try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){var _t44=_step66.value;this._updateChildrenMappings(_t44)}}catch(err){_iterator66.e(err)}finally{_iterator66.f()}e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller));var _step67,_iterator67=_createForOfIteratorHelper(this.markedAttributes);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){var _t45=_step67.value;this._updateAttrs(_t45)}}catch(err){_iterator67.e(err)}finally{_iterator67.f()}var _step68,_iterator68=_createForOfIteratorHelper(this.markedChildren);try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var _e58=_step68.value;this._updateChildren(_e58,{inlineFillerPosition:t})}}catch(err){_iterator68.e(err)}finally{_iterator68.f()}var _step69,_iterator69=_createForOfIteratorHelper(this.markedTexts);try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _e59=_step69.value;!this.markedChildren.has(_e59.parent)&&this.domConverter.mapViewToDom(_e59.parent)&&this._updateText(_e59,{inlineFillerPosition:t})}}catch(err){_iterator69.e(err)}finally{_iterator69.f()}if(e)if(t){var _e57=this.domConverter.viewPositionToDom(t),_n49=_e57.parent.ownerDocument;Rr(_e57.parent)?this._inlineFiller=_e57.parent:this._inlineFiller=es(_n49,_e57.parent,_e57.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var n=Array.from(this.domConverter.mapViewToDom(t).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(n,o),r=this._findReplaceActions(i,n,o);if(-1!==r.indexOf("replace")){var _step70,_e60={equal:0,insert:0,delete:0},_iterator70=_createForOfIteratorHelper(r);try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _i31=_step70.value;if("replace"===_i31){var _i32=_e60.equal+_e60.insert,_r14=_e60.equal+_e60.delete,_s8=t.getChild(_i32);!_s8||_s8.is("uiElement")||_s8.is("rawElement")||this._updateElementMappings(_s8,n[_r14]),Yr(o[_i32]),_e60.equal++}else _e60[_i31]++}}catch(err){_iterator70.e(err)}finally{_iterator70.f()}}}}},{key:"_updateElementMappings",value:function(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}},{key:"_getInlineFillerPosition",value:function(){var t=this.selection.getFirstPosition();return t.parent.is("$text")?Ri._createBefore(this.selection.getFirstPosition().parent):t}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Br(e.parent)&&Rr(e.parent))}},{key:"_removeInlineFiller",value:function(){var t=this._inlineFiller;if(!Rr(t))throw new a("view-renderer-filler-was-lost",this);jr(t)?t.remove():t.data=t.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;var e=t.findAncestor((function(t){return t.hasAttribute("contenteditable")}));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;var o=t.nodeBefore,i=t.nodeAfter;return!(o instanceof Fo||i instanceof Fo)}},{key:"_updateText",value:function(t,e){var n=this.domConverter.findCorrespondingDomText(t),o=this.domConverter.viewToDom(t,n.ownerDocument),i=n.data,r=o.data,s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(r=Or+r),i!=r){var _step71,_iterator71=_createForOfIteratorHelper(Hr(i,r));try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _e61=_step71.value;"insert"===_e61.type?n.insertData(_e61.index,_e61.values.join("")):n.deleteData(_e61.index,_e61.howMany)}}catch(err){_iterator71.e(err)}finally{_iterator71.f()}}}},{key:"_updateAttrs",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var _step72,n=Array.from(e.attributes).map((function(t){return t.name})),_iterator72=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _n50=_step72.value;this.domConverter.setDomElementAttribute(e,_n50,t.getAttribute(_n50),t)}}catch(err){_iterator72.e(err)}finally{_iterator72.f()}var _step73,_iterator73=_createForOfIteratorHelper(n);try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _o25=_step73.value;t.hasAttribute(_o25)||this.domConverter.removeDomElementAttribute(e,_o25)}}catch(err){_iterator73.e(err)}finally{_iterator73.f()}}}},{key:"_updateChildren",value:function(t,e){var n=this.domConverter.mapViewToDom(t);if(n){var o=e.inlineFillerPosition,i=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0}));o&&o.parent===t&&es(n.ownerDocument,r,o.offset);var _step74,s=this._diffNodeLists(i,r),a=0,c=new Set,_iterator74=_createForOfIteratorHelper(s);try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _t47=_step74.value;"delete"===_t47?(c.add(i[a]),Yr(i[a])):"equal"===_t47&&a++}}catch(err){_iterator74.e(err)}finally{_iterator74.f()}a=0;var _step75,_iterator75=_createForOfIteratorHelper(s);try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _t48=_step75.value;"insert"===_t48?(Gr(n,a,r[a]),a++):"equal"===_t48&&(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++)}}catch(err){_iterator75.e(err)}finally{_iterator75.f()}var _step76,_iterator76=_createForOfIteratorHelper(c);try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _t49=_step76.value;_t49.parentNode||this.domConverter.unbindDomElement(_t49)}}catch(err){_iterator76.e(err)}finally{_iterator76.f()}}}},{key:"_diffNodeLists",value:function(t,e){return Wr(t=function(t,e){var n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),e,os.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;var _step77,o=[],i=[],r=[],s={equal:0,insert:0,delete:0},_iterator77=_createForOfIteratorHelper(t);try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _a7=_step77.value;"insert"===_a7?r.push(n[s.equal+s.insert]):"delete"===_a7?i.push(e[s.equal+s.delete]):((o=o.concat(Wr(i,r,ns).map((function(t){return"equal"===t?"replace":t})))).push("equal"),i=[],r=[]),s[_a7]++}}catch(err){_iterator77.e(err)}finally{_iterator77.f()}return o.concat(Wr(i,r,ns).map((function(t){return"equal"===t?"replace":t})))}},{key:"_markDescendantTextToSync",value:function(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element")){var _step78,_iterator78=_createForOfIteratorHelper(t.getChildren());try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _e62=_step78.value;this._markDescendantTextToSync(_e62)}}catch(err){_iterator78.e(err)}finally{_iterator78.f()}}}},{key:"_updateSelection",value:function(){if(!sr.isBlink||sr.isAndroid||!this.isSelecting||this.markedChildren.size){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}}},{key:"_updateFakeSelection",value:function(t){var e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){var e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(t)){n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";var o=e.getSelection(),i=e.createRange();o.removeAllRanges(),i.selectNodeContents(n),o.addRange(i)}}},{key:"_updateDomSelection",value:function(t){var e=t.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(e)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(o.parent,o.offset),sr.isGecko&&function(t,e){var n=t.parent;if(n.nodeType==Node.ELEMENT_NODE&&t.offset==n.childNodes.length-1){var o=n.childNodes[t.offset];o&&"BR"==o.tagName&&e.addRange(e.getRangeAt(0))}}(o,e)}}},{key:"_domSelectionNeedsUpdate",value:function(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;var e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}},{key:"_fakeSelectionNeedsUpdate",value:function(t){var e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var _step79,_iterator79=_createForOfIteratorHelper(this.domDocuments);try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _t50=_step79.value;if(_t50.getSelection().rangeCount){var _e63=_t50.activeElement,_n51=this.domConverter.mapDomToView(_e63);_e63&&_n51&&_t50.getSelection().removeAllRanges()}}}catch(err){_iterator79.e(err)}finally{_iterator79.f()}}},{key:"_removeFakeSelection",value:function(){var t=this._fakeSelectionContainer;t&&t.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var _t51=this.selection.editableElement;_t51&&this.domConverter.focus(_t51)}}}]),ts}();function es(t,e,n){var o=e instanceof Array?e:e.childNodes,i=o[n];if(Br(i))return i.data=Or+i.data,i;var _i33=t.createTextNode(Or);return Array.isArray(e)?o.splice(n,0,_i33):Gr(e,n,_i33),_i33}function ns(t,e){return Kr(t)&&Kr(e)&&!Br(t)&&!Br(e)&&!Qr(t)&&!Qr(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function os(t,e,n){return e===n||(Br(e)&&Br(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}he(ts,re);var is={window:window,document:document};function rs(t){for(var e=0;t.previousSibling;)t=t.previousSibling,e++;return e}function ss(t){for(var e=[];t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}var as=Lr(document),cs=zr(document),ls=Pr(document),ds="data-ck-unsafe-attribute-",hs="data-ck-unsafe-element",us=function(){function us(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,us),this.document=t,this.renderingMode=e.renderingMode||"editing",this.blockFillerMode=e.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Uo,this._encounteredRawContentDomNodes=new WeakSet}return _createClass(us,[{key:"bindFakeSelection",value:function(t,e){this._fakeSelectionMapping.set(t,new Hi(e))}},{key:"fakeSelectionToView",value:function(t){return this._fakeSelectionMapping.get(t)}},{key:"bindElements",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"unbindDomElement",value:function(t){var e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);var _step80,_iterator80=_createForOfIteratorHelper(t.childNodes);try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _e64=_step80.value;this.unbindDomElement(_e64)}}catch(err){_iterator80.e(err)}finally{_iterator80.f()}}}},{key:"bindDocumentFragments",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"shouldRenderAttribute",value:function(t,e,n){return"data"===this.renderingMode||!(t=t.toLowerCase()).startsWith("on")&&("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===t||"srcset"===t)||"source"===n&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}},{key:"setContentOf",value:function(t,e){if("data"!==this.renderingMode){for(var n=(new DOMParser).parseFromString(e,"text/html"),o=n.createDocumentFragment(),i=n.body.childNodes;i.length>0;)o.appendChild(i[0]);for(var a,r=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),s=[];a=r.nextNode();)s.push(a);for(var _i34=0,_s9=s;_i34<_s9.length;_i34++){var _step81,_t52=_s9[_i34],_iterator81=_createForOfIteratorHelper(_t52.getAttributeNames());try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _e66=_step81.value;this.setDomElementAttribute(_t52,_e66,_t52.getAttribute(_e66))}}catch(err){_iterator81.e(err)}finally{_iterator81.f()}var _e65=_t52.tagName.toLowerCase();this._shouldRenameElement(_e65)&&(c("domconverter-unsafe-element-detected",{unsafeElement:_t52}),_t52.replaceWith(this._createReplacementDomElement(_e65,_t52)))}for(;t.firstChild;)t.firstChild.remove();t.append(o)}else t.innerHTML=e}},{key:"viewToDom",value:function(t,e){var _o26,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.is("$text")){var _n52=this._processDataFromViewText(t);return e.createTextNode(_n52)}if(this.mapViewToDom(t))return this.mapViewToDom(t);if(t.is("documentFragment"))_o26=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(_o26,t);else{if(t.is("uiElement"))return _o26="$comment"===t.name?e.createComment(t.getCustomProperty("$rawContent")):t.render(e,this),n.bind&&this.bindElements(_o26,t),_o26;this._shouldRenameElement(t.name)?(c("domconverter-unsafe-element-detected",{unsafeElement:t}),_o26=this._createReplacementDomElement(t.name)):_o26=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(_o26,this),n.bind&&this.bindElements(_o26,t);var _step82,_iterator82=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var _e67=_step82.value;this.setDomElementAttribute(_o26,_e67,t.getAttribute(_e67),t)}}catch(err){_iterator82.e(err)}finally{_iterator82.f()}}if(!1!==n.withChildren){var _step83,_iterator83=_createForOfIteratorHelper(this.viewChildrenToDom(t,e,n));try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){var _i35=_step83.value;_o26.appendChild(_i35)}}catch(err){_iterator83.e(err)}finally{_iterator83.f()}}return _o26}},{key:"setDomElementAttribute",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(e);i||c("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),t.hasAttribute(e)&&!i?t.removeAttribute(e):t.hasAttribute(ds+e)&&i&&t.removeAttribute(ds+e),t.setAttribute(i?e:ds+e,n)}},{key:"removeDomElementAttribute",value:function(t,e){e!=hs&&(t.removeAttribute(e),t.removeAttribute(ds+e))}},{key:"viewChildrenToDom",value:regeneratorRuntime.mark((function viewChildrenToDom(t,e){var n,o,i,_iterator84,_step84,_r15,_args11=arguments;return regeneratorRuntime.wrap((function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:n=_args11.length>2&&void 0!==_args11[2]?_args11[2]:{},o=t.getFillerOffset&&t.getFillerOffset(),i=0,_iterator84=_createForOfIteratorHelper(t.getChildren()),_context11.prev=4,_iterator84.s();case 6:if((_step84=_iterator84.n()).done){_context11.next=17;break}if(_r15=_step84.value,_context11.t0=o===i,!_context11.t0){_context11.next=12;break}return _context11.next=12,this._getBlockFiller(e);case 12:return _context11.next=14,this.viewToDom(_r15,e,n);case 14:i++;case 15:_context11.next=6;break;case 17:_context11.next=22;break;case 19:_context11.prev=19,_context11.t1=_context11.catch(4),_iterator84.e(_context11.t1);case 22:return _context11.prev=22,_iterator84.f(),_context11.finish(22);case 25:if(_context11.t2=o===i,!_context11.t2){_context11.next=29;break}return _context11.next=29,this._getBlockFiller(e);case 29:case"end":return _context11.stop()}}),viewChildrenToDom,this,[[4,19,22,25]])}))},{key:"viewRangeToDom",value:function(t){var e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),o=document.createRange();return o.setStart(e.parent,e.offset),o.setEnd(n.parent,n.offset),o}},{key:"viewPositionToDom",value:function(t){var _n54,_o28,_i36,e=t.parent;if(e.is("$text")){var _n53=this.findCorrespondingDomText(e);if(!_n53)return null;var _o27=t.offset;return Rr(_n53)&&(_o27+=7),{parent:_n53,offset:_o27}}if(0===t.offset){if(!(_n54=this.mapViewToDom(e)))return null;_i36=_n54.childNodes[0]}else{var _e68=t.nodeBefore;if(!(_o28=_e68.is("$text")?this.findCorrespondingDomText(_e68):this.mapViewToDom(t.nodeBefore)))return null;_n54=_o28.parentNode,_i36=_o28.nextSibling}return Br(_i36)&&Rr(_i36)?{parent:_i36,offset:7}:{parent:_n54,offset:_o28?rs(_o28)+1:0}}},{key:"domToView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(t))return null;var _n55,n=this.getHostViewElement(t);if(n)return n;if(Qr(t)&&e.skipComments)return null;if(Br(t)){if(jr(t))return null;var _e69=this._processDataFromDomText(t);return""===_e69?null:new Fo(this.document,_e69)}if(this.mapDomToView(t))return this.mapDomToView(t);if(this.isDocumentFragment(t))_n55=new Cr(this.document),e.bind&&this.bindDocumentFragments(t,_n55);else{_n55=this._createViewElement(t,e),e.bind&&this.bindElements(t,_n55);var _o29=t.attributes;if(_o29)for(var _t53=_o29.length-1;_t53>=0;_t53--)_n55._setAttribute(_o29[_t53].name,_o29[_t53].value);if(this._isViewElementWithRawContent(_n55,e)||Qr(t)){var _e70=Qr(t)?t.data:t.innerHTML;return _n55._setCustomProperty("$rawContent",_e70),this._encounteredRawContentDomNodes.add(t),_n55}}if(!1!==e.withChildren){var _step85,_iterator85=_createForOfIteratorHelper(this.domChildrenToView(t,e));try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){var _o30=_step85.value;_n55._appendChild(_o30)}}catch(err){_iterator85.e(err)}finally{_iterator85.f()}}return _n55}},{key:"domChildrenToView",value:regeneratorRuntime.mark((function domChildrenToView(t){var e,_n56,_o31,_i37,_args12=arguments;return regeneratorRuntime.wrap((function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:e=_args12.length>1&&void 0!==_args12[1]?_args12[1]:{},_n56=0;case 2:if(!(_n56<t.childNodes.length)){_context12.next=11;break}if(_o31=t.childNodes[_n56],_i37=this.domToView(_o31,e),_context12.t0=null!==_i37,!_context12.t0){_context12.next=8;break}return _context12.next=8,_i37;case 8:_n56++,_context12.next=2;break;case 11:case"end":return _context12.stop()}}),domChildrenToView,this)}))},{key:"domSelectionToView",value:function(t){if(1===t.rangeCount){var _e71=t.getRangeAt(0).startContainer;Br(_e71)&&(_e71=_e71.parentNode);var _n57=this.fakeSelectionToView(_e71);if(_n57)return _n57}for(var e=this.isDomSelectionBackward(t),n=[],_e72=0;_e72<t.rangeCount;_e72++){var _o32=t.getRangeAt(_e72),_i38=this.domRangeToView(_o32);_i38&&n.push(_i38)}return new Hi(n,{backward:e})}},{key:"domRangeToView",value:function(t){var e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new ji(e,n):null}},{key:"domPositionToView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,rs(t));var n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return Ri._createBefore(n);if(Br(t)){if(jr(t))return this.domPositionToView(t.parentNode,rs(t));var _n58=this.findCorrespondingViewText(t),_o33=e;return _n58?(Rr(t)&&(_o33=(_o33-=7)<0?0:_o33),new Ri(_n58,_o33)):null}if(0===e){var _e73=this.mapDomToView(t);if(_e73)return new Ri(_e73,0)}else{var _n59=t.childNodes[e-1],_o34=Br(_n59)?this.findCorrespondingViewText(_n59):this.mapDomToView(_n59);if(_o34&&_o34.parent)return new Ri(_o34.parent,_o34.index+1)}return null}},{key:"mapDomToView",value:function(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}},{key:"findCorrespondingViewText",value:function(t){if(jr(t))return null;var e=this.getHostViewElement(t);if(e)return e;var n=t.previousSibling;if(n){if(!this.isElement(n))return null;var _t54=this.mapDomToView(n);if(_t54)return _t54.nextSibling instanceof Fo?_t54.nextSibling:null}else{var _e74=this.mapDomToView(t.parentNode);if(_e74){var _t55=_e74.getChild(0);return _t55 instanceof Fo?_t55:null}}return null}},{key:"mapViewToDom",value:function(t){return this._viewToDomMapping.get(t)}},{key:"findCorrespondingDomText",value:function(t){var e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}},{key:"focus",value:function(t){var e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){var _is$window=is.window,_t56=_is$window.scrollX,_n60=_is$window.scrollY,_o35=[];gs(e,(function(t){var e=t.scrollLeft,n=t.scrollTop;_o35.push([e,n])})),e.focus(),gs(e,(function(t){var _o35$shift2=_slicedToArray(_o35.shift(),2),e=_o35$shift2[0],n=_o35$shift2[1];t.scrollLeft=e,t.scrollTop=n})),is.window.scrollTo(_t56,_n60)}}},{key:"isElement",value:function(t){return t&&t.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isBlockFiller",value:function(t){return"br"==this.blockFillerMode?t.isEqualNode(as):!("BR"!==t.tagName||!ms(t,this.blockElements)||1!==t.parentNode.childNodes.length)||t.isEqualNode(ls)||function(t,e){return t.isEqualNode(cs)&&ms(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}},{key:"isDomSelectionBackward",value:function(t){if(t.isCollapsed)return!1;var e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);var n=e.collapsed;return e.detach(),n}},{key:"getHostViewElement",value:function(t){var e=ss(t);for(e.pop();e.length;){var _t57=e.pop(),_n61=this._domToViewMapping.get(_t57);if(_n61&&(_n61.is("uiElement")||_n61.is("rawElement")))return _n61}return null}},{key:"isDomSelectionCorrect",value:function(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}},{key:"registerRawContentMatcher",value:function(t){this._rawContentElementMatcher.add(t)}},{key:"_getBlockFiller",value:function(t){switch(this.blockFillerMode){case"nbsp":return zr(t);case"markedNbsp":return Pr(t);case"br":return Lr(t)}}},{key:"_isDomSelectionPositionCorrect",value:function(t,e){if(Br(t)&&Rr(t)&&e<7)return!1;if(this.isElement(t)&&Rr(t.childNodes[e]))return!1;var n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}},{key:"_processDataFromViewText",value:function(t){var _this29=this,e=t.data;if(t.getAncestors().some((function(t){return _this29.preElements.includes(t.name)})))return e;if(" "==e.charAt(0)){var _n62=this._getTouchingInlineViewNode(t,!1);!(_n62&&_n62.is("$textProxy")&&this._nodeEndsWithSpace(_n62))&&_n62||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){var _n63=this._getTouchingInlineViewNode(t,!0),_o36=_n63&&_n63.is("$textProxy")&&" "==_n63.data.charAt(0);" "!=e.charAt(e.length-2)&&_n63&&!_o36||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}},{key:"_nodeEndsWithSpace",value:function(t){var _this30=this;if(t.getAncestors().some((function(t){return _this30.preElements.includes(t.name)})))return!1;var e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}},{key:"_processDataFromDomText",value:function(t){var e=t.data;if(function(t,e){return ss(t).some((function(t){return t.tagName&&e.includes(t.tagName.toLowerCase())}))}(t,this.preElements))return Fr(t);e=e.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(t,!1),o=this._getTouchingInlineDomNode(t,!0),i=this._checkShouldLeftTrimDomText(t,n),r=this._checkShouldRightTrimDomText(t,o);i&&(e=e.replace(/^ /,"")),r&&(e=e.replace(/ $/,"")),e=(e=Fr(new Text(e))).replace(/ \u00A0/g,"  ");var s=o&&this.isElement(o)&&"BR"!=o.tagName,a=o&&Br(o)&&" "==o.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!o||s||a)&&(e=e.replace(/\u00A0$/," ")),(i||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}},{key:"_checkShouldLeftTrimDomText",value:function(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}},{key:"_checkShouldRightTrimDomText",value:function(t,e){return!e&&!Rr(t)}},{key:"_getTouchingInlineViewNode",value:function(t,e){var _step86,_iterator86=_createForOfIteratorHelper(new Oi({startPosition:e?Ri._createAfter(t):Ri._createBefore(t),direction:e?"forward":"backward"}));try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _t58=_step86.value;if(_t58.item.is("element")&&this.inlineObjectElements.includes(_t58.item.name))return _t58.item;if(_t58.item.is("containerElement"))return null;if(_t58.item.is("element","br"))return null;if(_t58.item.is("$textProxy"))return _t58.item}}catch(err){_iterator86.e(err)}finally{_iterator86.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(t,e){if(!t.parentNode)return null;var n=e?"firstChild":"lastChild",o=e?"nextSibling":"previousSibling",i=!0;do{if(!i&&t[n]?t=t[n]:t[o]?(t=t[o],i=!1):(t=t.parentNode,i=!0),!t||this._isBlockElement(t))return null}while(!Br(t)&&"BR"!=t.tagName&&!this._isInlineObjectElement(t));return t}},{key:"_isBlockElement",value:function(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}},{key:"_isInlineObjectElement",value:function(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}},{key:"_createViewElement",value:function(t,e){if(Qr(t))return new fr(this.document,"$comment");var n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Ti(this.document,n)}},{key:"_isViewElementWithRawContent",value:function(t,e){return!1!==e.withChildren&&this._rawContentElementMatcher.match(t)}},{key:"_shouldRenameElement",value:function(t){return"editing"==this.renderingMode&&"script"==t.toLowerCase()}},{key:"_createReplacementDomElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("span");if(n.setAttribute(hs,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);var _step87,_iterator87=_createForOfIteratorHelper(e.getAttributeNames());try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _t59=_step87.value;n.setAttribute(_t59,e.getAttribute(_t59))}}catch(err){_iterator87.e(err)}finally{_iterator87.f()}}return n}}]),us}();function gs(t,e){for(;t&&t!=is.document;)e(t),t=t.parentNode}function ms(t,e){var n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}function ps(t){var e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var ks=Jt({},f,{listenTo:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Kr(t)||ps(t)){var _i39={capture:!!o.useCapture,passive:!!o.usePassive},_r16=this._getProxyEmitter(t,_i39)||new bs(t,_i39);this.listenTo(_r16,e,n,o)}else f.listenTo.call(this,t,e,n,o)},stopListening:function(t,e,n){if(Kr(t)||ps(t)){var _step88,_iterator88=_createForOfIteratorHelper(this._getAllProxyEmitters(t));try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _t60=_step88.value;this.stopListening(_t60,e,n)}}catch(err){_iterator88.e(err)}finally{_iterator88.f()}}else f.stopListening.call(this,t,e,n)},_getProxyEmitter:function(t,e){return n=this,o=ws(t,e),n[g]&&n[g][o]?n[g][o].emitter:null;var n,o},_getAllProxyEmitters:function(t){var _this31=this;return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((function(e){return _this31._getProxyEmitter(t,e)})).filter((function(t){return!!t}))}}),bs=function bs(t,e){_classCallCheck(this,bs),k(this,ws(t,e)),this._domNode=t,this._options=e};function ws(t,e){var _step89,n=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=r())}(t),_iterator89=_createForOfIteratorHelper(Object.keys(e).sort());try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _t61=_step89.value;e[_t61]&&(n+="-"+_t61)}}catch(err){_iterator89.e(err)}finally{_iterator89.f()}return n}Jt(bs.prototype,f,{attach:function(t){if(!this._domListeners||!this._domListeners[t]){var e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}},detach:function(t){var e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_addEventListener:function(t,e,n){this.attach(t),f._addEventListener.call(this,t,e,n)},_removeEventListener:function(t,e){f._removeEventListener.call(this,t,e),this.detach(t)},_createDomListener:function(t){var _this32=this,e=function(_e75){_this32.fire(t,_e75)};return e.removeListener=function(){_this32._domNode.removeEventListener(t,e,_this32._options),delete _this32._domListeners[t]},e}});var As=function(){function As(t){_classCallCheck(this,As),this.view=t,this.document=t.document,this.isEnabled=!1}return _createClass(As,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}]),As}();he(As,ks);function vs(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new on;++e<n;)this.add(t[e])}vs.prototype.add=vs.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},vs.prototype.has=function(t){return this.__data__.has(t)};var ys=vs,xs=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1},Es=function(t,e){return t.has(e)},Ds=function(t,e,n,o,i,r){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(t),d=r.get(e);if(l&&d)return l==e&&d==t;var h=-1,u=!0,g=2&n?new ys:void 0;for(r.set(t,e),r.set(e,t);++h<a;){var m=t[h],p=e[h];if(o)var f=s?o(p,m,h,e,t,r):o(m,p,h,t,e,r);if(void 0!==f){if(f)continue;u=!1;break}if(g){if(!xs(e,(function(t,e){if(!Es(g,e)&&(m===t||i(m,t,n,o,r)))return g.push(e)}))){u=!1;break}}else if(m!==p&&!i(m,p,n,o,r)){u=!1;break}}return r.delete(t),r.delete(e),u},Is=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n},Ms=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Ts=I?I.prototype:void 0,Ss=Ts?Ts.valueOf:void 0,Bs=Object.prototype.hasOwnProperty,Ps="[object Arguments]",Ls="[object Array]",Os="[object Object]",Rs=Object.prototype.hasOwnProperty,js=function(t,e,n,o,i,r){var s=Mt(t),a=Mt(e),c=s?Ls:Qn(t),l=a?Ls:Qn(e),d=(c=c==Ps?Os:c)==Os,h=(l=l==Ps?Os:l)==Os,u=c==l;if(u&&zt(t)){if(!zt(e))return!1;s=!0,d=!1}if(u&&!d)return r||(r=new an),s||Ut(t)?Ds(t,e,n,o,i,r):function(t,e,n,o,i,r,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new Zn(t),new Zn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return et(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Is;case"[object Set]":var c=1&o;if(a||(a=Ms),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;o|=2,s.set(t,e);var d=Ds(a(t),a(e),o,i,r,s);return s.delete(t),d;case"[object Symbol]":if(Ss)return Ss.call(t)==Ss.call(e)}return!1}(t,e,c,n,o,i,r);if(!(1&n)){var g=d&&Rs.call(t,"__wrapped__"),m=h&&Rs.call(e,"__wrapped__");if(g||m){var p=g?t.value():t,f=m?e.value():e;return r||(r=new an),i(p,f,n,o,r)}}return!!u&&(r||(r=new an),function(t,e,n,o,i,r){var s=1&n,a=Sn(t),c=a.length;if(c!=Sn(e).length&&!s)return!1;for(var l=c;l--;){var d=a[l];if(!(s?d in e:Bs.call(e,d)))return!1}var h=r.get(t),u=r.get(e);if(h&&u)return h==e&&u==t;var g=!0;r.set(t,e),r.set(e,t);for(var m=s;++l<c;){var p=t[d=a[l]],f=e[d];if(o)var k=s?o(f,p,d,e,t,r):o(p,f,d,t,e,r);if(!(void 0===k?p===f||i(p,f,n,o,r):k)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return r.delete(t),r.delete(e),g}(t,e,n,o,i,r))},Fs=function t(e,n,o,i,r){return e===n||(null==e||null==n||!_t(e)&&!_t(n)?e!=e&&n!=n:js(e,n,o,i,t,r))},Vs=function(t,e,n){var o=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===o?Fs(t,e,void 0,n):!!o},Hs=function(_As){_inherits(Hs,_As);var _super13=_createSuper(Hs);function Hs(t){var _this33;return _classCallCheck(this,Hs),(_this33=_super13.call(this,t))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},_this33.domConverter=t.domConverter,_this33.renderer=t._renderer,_this33._domElements=[],_this33._mutationObserver=new window.MutationObserver(_this33._onMutations.bind(_assertThisInitialized(_this33))),_this33}return _createClass(Hs,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){_get(_getPrototypeOf(Hs.prototype),"enable",this).call(this);var _step90,_iterator90=_createForOfIteratorHelper(this._domElements);try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _t62=_step90.value;this._mutationObserver.observe(_t62,this._config)}}catch(err){_iterator90.e(err)}finally{_iterator90.f()}}},{key:"disable",value:function(){_get(_getPrototypeOf(Hs.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){_get(_getPrototypeOf(Hs.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(0!==t.length){var _step91,e=this.domConverter,n=new Map,o=new Set,_iterator91=_createForOfIteratorHelper(t);try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _n65=_step91.value;if("childList"===_n65.type){var _t64=e.mapDomToView(_n65.target);if(_t64&&(_t64.is("uiElement")||_t64.is("rawElement")))continue;_t64&&!this._isBogusBrMutation(_n65)&&o.add(_t64)}}}catch(err){_iterator91.e(err)}finally{_iterator91.f()}var _step92,_iterator92=_createForOfIteratorHelper(t);try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var _i40=_step92.value,_t65=e.mapDomToView(_i40.target);if((!_t65||!_t65.is("uiElement")&&!_t65.is("rawElement"))&&"characterData"===_i40.type){var _t66=e.findCorrespondingViewText(_i40.target);_t66&&!o.has(_t66.parent)?n.set(_t66,{type:"text",oldText:_t66.data,newText:Fr(_i40.target),node:_t66}):!_t66&&Rr(_i40.target)&&o.add(e.mapDomToView(_i40.target.parentNode))}}}catch(err){_iterator92.e(err)}finally{_iterator92.f()}var _step93,i=[],_iterator93=_createForOfIteratorHelper(n.values());try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){var _t67=_step93.value;this.renderer.markToSync("text",_t67.node),i.push(_t67)}}catch(err){_iterator93.e(err)}finally{_iterator93.f()}var _step94,_iterator94=_createForOfIteratorHelper(o);try{for(_iterator94.s();!(_step94=_iterator94.n()).done;){var _t68=_step94.value,_n66=e.mapViewToDom(_t68),_o38=Array.from(_t68.getChildren()),_r17=Array.from(e.domChildrenToView(_n66,{withChildren:!1}));Vs(_o38,_r17,a)||(this.renderer.markToSync("children",_t68),i.push({type:"children",oldChildren:_o38,newChildren:_r17,node:_t68}))}}catch(err){_iterator94.e(err)}finally{_iterator94.f()}var r=t[0].target.ownerDocument.getSelection(),s=null;if(r&&r.anchorNode){var _t63=e.domPositionToView(r.anchorNode,r.anchorOffset),_n64=e.domPositionToView(r.focusNode,r.focusOffset);_t63&&_n64&&(s=new Hi(_t63)).setFocus(_n64)}i.length&&(this.document.fire("mutations",i,s),this.view.forceRender())}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}}},{key:"_isBogusBrMutation",value:function(t){var e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}]),Hs}(As),Us=function(){function Us(t,e,n){_classCallCheck(this,Us),this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Jt(this,n)}return _createClass(Us,[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}]),Us}(),qs=function(_As2){_inherits(qs,_As2);var _super14=_createSuper(qs);function qs(t){var _this34;return _classCallCheck(this,qs),(_this34=_super14.call(this,t)).useCapture=!1,_this34}return _createClass(qs,[{key:"observe",value:function(t){var _this35=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((function(e){_this35.listenTo(t,e,(function(t,e){_this35.isEnabled&&!_this35.checkShouldIgnoreEventFromTarget(e.target)&&_this35.onDomEvent(e)}),{useCapture:_this35.useCapture})}))}},{key:"fire",value:function(t,e,n){this.isEnabled&&this.document.fire(t,new Us(this.view,e,n))}}]),qs}(As),Ws=function(_qs){_inherits(Ws,_qs);var _super15=_createSuper(Ws);function Ws(t){var _this36;return _classCallCheck(this,Ws),(_this36=_super15.call(this,t)).domEventType=["keydown","keyup"],_this36}return _createClass(Ws,[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return ur(this)}})}}]),Ws}(qs),Gs=function(){return D.Date.now()},Ys=/\s/,Ks=/^\s+/,$s=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Ys.test(t.charAt(e)););return e}(t)+1).replace(Ks,""):t},Zs=/^[-+]0x[0-9a-f]+$/i,Js=/^0b[01]+$/i,Xs=/^0o[0-7]+$/i,ta=parseInt,ea=function(t){if("number"==typeof t)return t;if(Go(t))return NaN;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$s(t);var n=Js.test(t);return n||Xs.test(t)?ta(t.slice(2),n?2:8):Zs.test(t)?NaN:+t},na=Math.max,oa=Math.min,ia=function(t,e,n){var o,i,r,s,a,c,l=0,d=!1,h=!1,u=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=o,r=i;return o=i=void 0,l=e,s=t.apply(r,n)}function m(t){return l=t,a=setTimeout(f,e),d?g(t):s}function p(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=r}function f(){var t=Gs();if(p(t))return k(t);a=setTimeout(f,function(t){var n=e-(t-c);return h?oa(n,r-(t-l)):n}(t))}function k(t){return a=void 0,u&&o?g(t):(o=i=void 0,s)}function b(){var t=Gs(),n=p(t);if(o=arguments,i=this,c=t,n){if(void 0===a)return m(c);if(h)return clearTimeout(a),a=setTimeout(f,e),g(c)}return void 0===a&&(a=setTimeout(f,e)),s}return e=ea(e)||0,y(n)&&(d=!!n.leading,r=(h="maxWait"in n)?na(ea(n.maxWait)||0,e):r,u="trailing"in n?!!n.trailing:u),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=c=i=a=void 0},b.flush=function(){return void 0===a?s:k(Gs())},b},ra=function(_As3){_inherits(ra,_As3);var _super16=_createSuper(ra);function ra(t){var _this37;return _classCallCheck(this,ra),(_this37=_super16.call(this,t))._fireSelectionChangeDoneDebounced=ia((function(t){return _this37.document.fire("selectionChangeDone",t)}),200),_this37}return _createClass(ra,[{key:"observe",value:function(){var _this38=this,t=this.document;t.on("arrowKey",(function(e,n){t.selection.isFake&&_this38.isEnabled&&n.preventDefault()}),{context:"$capture"}),t.on("arrowKey",(function(e,n){t.selection.isFake&&_this38.isEnabled&&_this38._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}},{key:"destroy",value:function(){_get(_getPrototypeOf(ra.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var e=this.document.selection,n=new Hi(e.getRanges(),{backward:e.isBackward,fake:!1});t!=dr.arrowleft&&t!=dr.arrowup||n.setTo(n.getFirstPosition()),t!=dr.arrowright&&t!=dr.arrowdown||n.setTo(n.getLastPosition());var o={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}]),ra}(As),sa=function(_As4){_inherits(sa,_As4);var _super17=_createSuper(sa);function sa(t){var _this39;return _classCallCheck(this,sa),(_this39=_super17.call(this,t)).mutationObserver=t.getObserver(Hs),_this39.selection=_this39.document.selection,_this39.domConverter=t.domConverter,_this39._documents=new WeakSet,_this39._fireSelectionChangeDoneDebounced=ia((function(t){return _this39.document.fire("selectionChangeDone",t)}),200),_this39._clearInfiniteLoopInterval=setInterval((function(){return _this39._clearInfiniteLoop()}),1e3),_this39._documentIsSelectingInactivityTimeoutDebounced=ia((function(){return _this39.document.isSelecting=!1}),5e3),_this39._loopbackCounter=0,_this39}return _createClass(sa,[{key:"observe",value:function(t){var _this40=this,e=t.ownerDocument,n=function(){_this40.document.isSelecting=!1,_this40._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(t,"selectstart",(function(){_this40.document.isSelecting=!0,_this40._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest"}),this.listenTo(t,"keyup",n,{priority:"highest"}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest"}),this.listenTo(e,"selectionchange",(function(t,n){_this40._handleSelectionChange(n,e),_this40._documentIsSelectingInactivityTimeoutDebounced()})),this._documents.add(e))}},{key:"destroy",value:function(){_get(_getPrototypeOf(sa.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t,e){if(this.isEnabled){var n=e.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(n.anchorNode)){this.mutationObserver.flush();var o=this.domConverter.domSelectionToView(n);if(0!=o.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(o))this.view.forceRender();else{var _t69={oldSelection:this.selection,newSelection:o,domSelection:n};this.document.fire("selectionChange",_t69),this._fireSelectionChangeDoneDebounced(_t69)}}else this.view.hasDomSelection=!1}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),sa}(As),aa=function(_qs2){_inherits(aa,_qs2);var _super18=_createSuper(aa);function aa(t){var _this41;_classCallCheck(this,aa),(_this41=_super18.call(this,t)).domEventType=["focus","blur"],_this41.useCapture=!0;var e=_this41.document;return e.on("focus",(function(){e.isFocused=!0,_this41._renderTimeoutId=setTimeout((function(){return t.change((function(){}))}),50)})),e.on("blur",(function(n,o){var i=e.selection.editableElement;null!==i&&i!==o.target||(e.isFocused=!1,t.change((function(){})))})),_this41}return _createClass(aa,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),_get(_getPrototypeOf(aa.prototype),"destroy",this).call(this)}}]),aa}(qs),ca=function(_qs3){_inherits(ca,_qs3);var _super19=_createSuper(ca);function ca(t){var _this42;_classCallCheck(this,ca),(_this42=_super19.call(this,t)).domEventType=["compositionstart","compositionupdate","compositionend"];var e=_this42.document;return e.on("compositionstart",(function(){e.isComposing=!0})),e.on("compositionend",(function(){e.isComposing=!1})),_this42}return _createClass(ca,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),ca}(qs),la=function(_qs4){_inherits(la,_qs4);var _super20=_createSuper(la);function la(t){var _this43;return _classCallCheck(this,la),(_this43=_super20.call(this,t)).domEventType=["beforeinput"],_this43}return _createClass(la,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),la}(qs),da=function(){function da(){_classCallCheck(this,da),this._replacedElements=[]}return _createClass(da,[{key:"replace",value:function(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach((function(_ref13){var t=_ref13.element,e=_ref13.newElement;t.style.display="",e&&e.remove()})),this._replacedElements=[]}}]),da}();function ha(t){return"[object Range]"==Object.prototype.toString.apply(t)}function ua(t){var e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}var ga=["top","right","bottom","left","width","height"],ma=function(){function ma(t){_classCallCheck(this,ma);var e=ha(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),vo(t)||e)if(e){var _e76=ma.getDomRangeRects(t);pa(this,ma.getBoundingRect(_e76))}else pa(this,t.getBoundingClientRect());else if(ps(t)){var _e77=t.innerWidth,_n67=t.innerHeight;pa(this,{top:0,right:_e77,bottom:_n67,left:0,width:_e77,height:_n67})}else pa(this,t)}return _createClass(ma,[{key:"clone",value:function(){return new ma(this)}},{key:"moveTo",value:function(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}},{key:"moveBy",value:function(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}},{key:"getIntersection",value:function(t){var e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new ma(e)}},{key:"getIntersectionArea",value:function(t){var e=this.getIntersection(t);return e?e.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var t=this._source,e=this.clone();if(!fa(t))for(var _n68=t.parentNode||t.commonAncestorContainer;_n68&&!fa(_n68);){var _t70=new ma(_n68),_o39=e.getIntersection(_t70);if(!_o39)return null;_o39.getArea()<e.getArea()&&(e=_o39),_n68=_n68.parentNode}return e}},{key:"isEqual",value:function(t){var _step95,_iterator95=_createForOfIteratorHelper(ga);try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var _e78=_step95.value;if(this[_e78]!==t[_e78])return!1}}catch(err){_iterator95.e(err)}finally{_iterator95.f()}return!0}},{key:"contains",value:function(t){var e=this.getIntersection(t);return!(!e||!e.isEqual(t))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,n,o,t=this._source;if(ps(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,o=t.getComputedStyle(t.document.documentElement).direction;else{var _i41=ua(this._source);e=t.offsetWidth-t.clientWidth-_i41.left-_i41.right,n=t.offsetHeight-t.clientHeight-_i41.top-_i41.bottom,o=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=_i41.left,this.top+=_i41.top,this.right-=_i41.right,this.bottom-=_i41.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===o?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}}],[{key:"getDomRangeRects",value:function(t){var e=[],n=Array.from(t.getClientRects());if(n.length){var _step96,_iterator96=_createForOfIteratorHelper(n);try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var _t71=_step96.value;e.push(new ma(_t71))}}catch(err){_iterator96.e(err)}finally{_iterator96.f()}}else{var _n69=t.startContainer;Br(_n69)&&(_n69=_n69.parentNode);var _o40=new ma(_n69.getBoundingClientRect());_o40.right=_o40.left,_o40.width=0,e.push(_o40)}return e}},{key:"getBoundingRect",value:function(t){var _step97,e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},n=0,_iterator97=_createForOfIteratorHelper(t);try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){var _o41=_step97.value;n++,e.left=Math.min(e.left,_o41.left),e.top=Math.min(e.top,_o41.top),e.right=Math.max(e.right,_o41.right),e.bottom=Math.max(e.bottom,_o41.bottom)}}catch(err){_iterator97.e(err)}finally{_iterator97.f()}return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new ma(e))}}]),ma}();function pa(t,e){var _step98,_iterator98=_createForOfIteratorHelper(ga);try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){var _n70=_step98.value;t[_n70]=e[_n70]}}catch(err){_iterator98.e(err)}finally{_iterator98.f()}}function fa(t){return!!vo(t)&&t===t.ownerDocument.body}var ka=function(){function ka(t,e){_classCallCheck(this,ka),ka._observerInstance||ka._createObserver(),this._element=t,this._callback=e,ka._addElementCallback(t,e),ka._observerInstance.observe(t)}return _createClass(ka,[{key:"destroy",value:function(){ka._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(t,e){ka._elementCallbacks||(ka._elementCallbacks=new Map);var n=ka._elementCallbacks.get(t);n||(n=new Set,ka._elementCallbacks.set(t,n)),n.add(e)}},{key:"_deleteElementCallback",value:function(t,e){var n=ka._getElementCallbacks(t);n&&(n.delete(e),n.size||(ka._elementCallbacks.delete(t),ka._observerInstance.unobserve(t))),ka._elementCallbacks&&!ka._elementCallbacks.size&&(ka._observerInstance=null,ka._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(t){return ka._elementCallbacks?ka._elementCallbacks.get(t):null}},{key:"_createObserver",value:function(){var t;t="function"==typeof is.window.ResizeObserver?is.window.ResizeObserver:ba,ka._observerInstance=new t((function(t){var _step99,_iterator99=_createForOfIteratorHelper(t);try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var _e79=_step99.value,_t72=ka._getElementCallbacks(_e79.target);if(_t72){var _step100,_iterator100=_createForOfIteratorHelper(_t72);try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){(0,_step100.value)(_e79)}}catch(err){_iterator100.e(err)}finally{_iterator100.f()}}}}catch(err){_iterator99.e(err)}finally{_iterator99.f()}}))}}]),ka}();ka._observerInstance=null,ka._elementCallbacks=null;var ba=function(){function ba(t){_classCallCheck(this,ba),this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return _createClass(ba,[{key:"observe",value:function(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var _this44=this;this.listenTo(is.window,"resize",(function(){_this44._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout((function t(){_this44._checkElementRectsAndExecuteCallback(),_this44._periodicCheckTimeout=setTimeout(t,100)}),100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var _step101,t=[],_iterator101=_createForOfIteratorHelper(this._elements);try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){var _e80=_step101.value;this._hasRectChanged(_e80)&&t.push({target:_e80,contentRect:this._previousRects.get(_e80)})}}catch(err){_iterator101.e(err)}finally{_iterator101.f()}t.length&&this._callback(t)}},{key:"_hasRectChanged",value:function(t){if(!t.ownerDocument.body.contains(t))return!1;var e=new ma(t),n=this._previousRects.get(t),o=!n||!n.isEqual(e);return this._previousRects.set(t,e),o}}]),ba}();function wa(t){var e=t.next();return e.done?null:e.value}he(ba,ks);var Aa=function(){function Aa(){_classCallCheck(this,Aa),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return _createClass(Aa,[{key:"add",value:function(t){var _this45=this;if(this._elements.has(t))throw new a("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(function(){return _this45._focus(t)}),{useCapture:!0}),this.listenTo(t,"blur",(function(){return _this45._blur()}),{useCapture:!0}),this._elements.add(t)}},{key:"remove",value:function(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}},{key:"_blur",value:function(){var _this46=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){_this46.focusedElement=null,_this46.isFocused=!1}),0)}}]),Aa}();he(Aa,ks),he(Aa,re);var Ca=function(){function Ca(){_classCallCheck(this,Ca),this._listener=Object.create(ks)}return _createClass(Ca,[{key:"listenTo",value:function(t){var _this47=this;this._listener.listenTo(t,"keydown",(function(t,e){_this47._listener.fire("_keydown:"+ur(e),e)}))}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=gr(t),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(function(t,n){e(n,(function(){n.preventDefault(),n.stopPropagation(),t.stop()})),t.return=!0}),{priority:i})}},{key:"press",value:function(t){return!!this._listener.fire("_keydown:"+ur(t),t)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),Ca}(),_a=function(_As5){_inherits(_a,_As5);var _super21=_createSuper(_a);function _a(t){var _this48;return _classCallCheck(this,_a),(_this48=_super21.call(this,t)).document.on("keydown",(function(t,e){if(_this48.isEnabled&&((n=e.keyCode)==dr.arrowright||n==dr.arrowleft||n==dr.arrowup||n==dr.arrowdown)){var _n72=new qi(_this48.document,"arrowKey",_this48.document.selection.getFirstRange());_this48.document.fire(_n72,e),_n72.stop.called&&t.stop()}var n})),_this48}return _createClass(_a,[{key:"observe",value:function(){}}]),_a}(As);function va(_ref14){for(var t=_ref14.target,_ref14$viewportOffset=_ref14.viewportOffset,e=void 0===_ref14$viewportOffset?0:_ref14$viewportOffset,n=Ta(t),o=n,i=null;o;){xa(Sa(o==n?t:i),(function(){return Na(t,o)}));var _s10=Na(t,o);if(ya(o,_s10,e),o.parent!=o){if(i=o.frameElement,o=o.parent,!i)return}else o=null}}function ya(t,e,n){var o=e.clone().moveBy(0,n),i=e.clone().moveBy(0,-n),r=new ma(t).excludeScrollbarsAndBorders();if(![i,o].every((function(t){return r.contains(t)}))){var _s11=t.scrollX,_a8=t.scrollY;Da(i,r)?_a8-=r.top-e.top+n:Ea(o,r)&&(_a8+=e.bottom-r.bottom+n),Ia(e,r)?_s11-=r.left-e.left+n:Ma(e,r)&&(_s11+=e.right-r.right+n),t.scrollTo(_s11,_a8)}}function xa(t,e){for(var o,i,n=Ta(t);t!=n.document.body;)i=e(),(o=new ma(t).excludeScrollbarsAndBorders()).contains(i)||(Da(i,o)?t.scrollTop-=o.top-i.top:Ea(i,o)&&(t.scrollTop+=i.bottom-o.bottom),Ia(i,o)?t.scrollLeft-=o.left-i.left:Ma(i,o)&&(t.scrollLeft+=i.right-o.right)),t=t.parentNode}function Ea(t,e){return t.bottom>e.bottom}function Da(t,e){return t.top<e.top}function Ia(t,e){return t.left<e.left}function Ma(t,e){return t.right>e.right}function Ta(t){return ha(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Sa(t){if(ha(t)){var _e81=t.commonAncestorContainer;return Br(_e81)&&(_e81=_e81.parentNode),_e81}return t.parentNode}function Na(t,e){var n=Ta(t),o=new ma(t);if(n===e)return o;for(var _t73=n;_t73!=e;){var _e82=_t73.frameElement,_n73=new ma(_e82).excludeScrollbarsAndBorders();o.moveBy(_n73.left,_n73.top),_t73=_t73.parent}return o}Object.assign({},{scrollViewportToShowTarget:va,scrollAncestorsToShowTarget:function(t){xa(Sa(t),(function(){return new ma(t)}))}});var Ba=function(){function Ba(t){var _this49=this;_classCallCheck(this,Ba),this.document=new Ji(t),this.domConverter=new us(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ts(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new _r(this.document),this.addObserver(Hs),this.addObserver(sa),this.addObserver(aa),this.addObserver(Ws),this.addObserver(ra),this.addObserver(ca),this.addObserver(_a),sr.isAndroid&&this.addObserver(la),this.document.on("arrowKey",Vr,{priority:"low"}),function(t){t.document.on("arrowKey",(function(e,n){return function(t,e,n){if(e.keyCode==dr.arrowright){var _t31=e.domTarget.ownerDocument.defaultView.getSelection(),_o18=1==_t31.rangeCount&&_t31.getRangeAt(0).collapsed;if(_o18||e.shiftKey){var _e47=_t31.focusNode,_i23=_t31.focusOffset,_r10=n.domPositionToView(_e47,_i23);if(null===_r10)return;var _s4=!1,_a4=_r10.getLastMatchingPosition((function(t){return t.item.is("uiElement")&&(_s4=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))}));if(_s4){var _e48=n.viewPositionToDom(_a4);_o18?_t31.collapse(_e48.parent,_e48.offset):_t31.extend(_e48.parent,_e48.offset)}}}}(0,n,t.domConverter)}),{priority:"low"})}(this),this.on("render",(function(){_this49._render(),_this49.document.fire("layoutChanged"),_this49._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){_this49._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(function(){_this49._hasChangedSinceTheLastRendering=!0}))}return _createClass(Ba,[{key:"attachDomRoot",value:function(t){var _this50=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();for(var o={},_i42=0,_Array$from=Array.from(t.attributes);_i42<_Array$from.length;_i42++){var _Array$from$_i=_Array$from[_i42],_e83=_Array$from$_i.name,_i43=_Array$from$_i.value;o[_e83]=_i43,"class"===_e83?this._writer.addClass(_i43.split(" "),n):this._writer.setAttribute(_e83,_i43,n)}this._initialDomRootAttributes.set(t,o);var i=function(){_this50._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?_this50._writer.addClass("ck-read-only",n):_this50._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(function(t,e){return _this50._renderer.markToSync("children",e)})),n.on("change:attributes",(function(t,e){return _this50._renderer.markToSync("attributes",e)})),n.on("change:text",(function(t,e){return _this50._renderer.markToSync("text",e)})),n.on("change:isReadOnly",(function(){return _this50.change(i)})),n.on("change",(function(){_this50._hasChangedSinceTheLastRendering=!0}));var _step102,_iterator102=_createForOfIteratorHelper(this._observers.values());try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){var _n74=_step102.value;_n74.observe(t,e)}}catch(err){_iterator102.e(err)}finally{_iterator102.f()}}},{key:"detachDomRoot",value:function(t){var e=this.domRoots.get(t);Array.from(e.attributes).forEach((function(_ref15){var t=_ref15.name;return e.removeAttribute(t)}));var n=this._initialDomRootAttributes.get(e);for(var _t74 in n)e.setAttribute(_t74,n[_t74]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}},{key:"getDomRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(t)}},{key:"addObserver",value:function(t){var e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);var _step103,_iterator103=_createForOfIteratorHelper(this.domRoots);try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var _step103$value=_slicedToArray(_step103.value,2),_t75=_step103$value[0],_n75=_step103$value[1];e.observe(_n75,_t75)}}catch(err){_iterator103.e(err)}finally{_iterator103.f()}return e.enable(),e}},{key:"getObserver",value:function(t){return this._observers.get(t)}},{key:"disableObservers",value:function(){var _step104,_iterator104=_createForOfIteratorHelper(this._observers.values());try{for(_iterator104.s();!(_step104=_iterator104.n()).done;){_step104.value.disable()}}catch(err){_iterator104.e(err)}finally{_iterator104.f()}}},{key:"enableObservers",value:function(){var _step105,_iterator105=_createForOfIteratorHelper(this._observers.values());try{for(_iterator105.s();!(_step105=_iterator105.n()).done;){_step105.value.enable()}}catch(err){_iterator105.e(err)}finally{_iterator105.f()}}},{key:"scrollToTheSelection",value:function(){var t=this.document.selection.getFirstRange();t&&va({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var _t78=this.document.selection.editableElement;_t78&&(this.domConverter.focus(_t78),this.forceRender())}}},{key:"change",value:function(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new a("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;var _e84=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),_e84}catch(t){a.rethrowUnexpectedError(t,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var _step106,_iterator106=_createForOfIteratorHelper(this._observers.values());try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){_step106.value.destroy()}}catch(err){_iterator106.e(err)}finally{_iterator106.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(t,e){return Ri._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return Ri._createAfter(t)}},{key:"createPositionBefore",value:function(t){return Ri._createBefore(t)}},{key:"createRange",value:function(t,e){return new ji(t,e)}},{key:"createRangeOn",value:function(t){return ji._createOn(t)}},{key:"createRangeIn",value:function(t){return ji._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Hi(t,e,n)}},{key:"_disableRendering",value:function(t){this._renderingDisabled=t,0==t&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),Ba}();he(Ba,re);var za=function(){function za(t){_classCallCheck(this,za),this.parent=null,this._attrs=Ho(t)}return _createClass(za,[{key:"index",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new a("model-node-not-found-in-parent",this);return t}},{key:"startOffset",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new a("model-node-not-found-in-parent",this);return t}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var t=[],e=this;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),o=t.getAncestors(e),i=0;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),o=Oo(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}},{key:"isAfter",value:function(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((function(t,e){return t[e[0]]=e[1],t}),{})),t}},{key:"is",value:function(t){return"node"===t||"model:node"===t}},{key:"_clone",value:function(){return new za(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(t,e){this._attrs.set(t,e)}},{key:"_setAttributesTo",value:function(t){this._attrs=Ho(t)}},{key:"_removeAttribute",value:function(t){return this._attrs.delete(t)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),za}(),Pa=function(_za){_inherits(Pa,_za);var _super22=_createSuper(Pa);function Pa(t,e){var _this51;return _classCallCheck(this,Pa),(_this51=_super22.call(this,e))._data=t||"",_this51}return _createClass(Pa,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"is",value:function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(Pa.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new Pa(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(t){return new Pa(t.data,t.attributes)}}]),Pa}(za),La=function(){function La(t,e,n){if(_classCallCheck(this,La),this.textNode=t,e<0||e>t.offsetSize)throw new a("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new a("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}return _createClass(La,[{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"is",value:function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t}},{key:"getPath",value:function(){var t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"hasAttribute",value:function(t){return this.textNode.hasAttribute(t)}},{key:"getAttribute",value:function(t){return this.textNode.getAttribute(t)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),La}(),Oa=function(){function Oa(t){_classCallCheck(this,Oa),this._nodes=[],t&&this._insertNodes(0,t)}return _createClass(Oa,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(t,e){return t+e.offsetSize}),0)}},{key:"getNode",value:function(t){return this._nodes[t]||null}},{key:"getNodeIndex",value:function(t){var e=this._nodes.indexOf(t);return-1==e?null:e}},{key:"getNodeStartOffset",value:function(t){var e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((function(t,e){return t+e.offsetSize}),0)}},{key:"indexToOffset",value:function(t){if(t==this._nodes.length)return this.maxOffset;var e=this._nodes[t];if(!e)throw new a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(t){var _step107,e=0,_iterator107=_createForOfIteratorHelper(this._nodes);try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){var _n76=_step107.value;if(t>=e&&t<e+_n76.offsetSize)return this.getNodeIndex(_n76);e+=_n76.offsetSize}}catch(err){_iterator107.e(err)}finally{_iterator107.f()}if(e!=t)throw new a("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}},{key:"_insertNodes",value:function(t,e){var _this$_nodes,_step108,_iterator108=_createForOfIteratorHelper(e);try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){if(!(_step108.value instanceof za))throw new a("model-nodelist-insertnodes-not-node",this)}}catch(err){_iterator108.e(err)}finally{_iterator108.f()}(_this$_nodes=this._nodes).splice.apply(_this$_nodes,[t,0].concat(_toConsumableArray(e)))}},{key:"_removeNodes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(t,e)}},{key:"toJSON",value:function(){return this._nodes.map((function(t){return t.toJSON()}))}}]),Oa}(),Ra=function(_za2){_inherits(Ra,_za2);var _super23=_createSuper(Ra);function Ra(t,e,n){var _this52;return _classCallCheck(this,Ra),(_this52=_super23.call(this,e)).name=t,_this52._children=new Oa,n&&_this52._insertChild(0,n),_this52}return _createClass(Ra,[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var _step109,e=this,_iterator109=_createForOfIteratorHelper(t);try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){var _n77=_step109.value;e=e.getChild(e.offsetToIndex(_n77))}}catch(err){_iterator109.e(err)}finally{_iterator109.f()}return e}},{key:"findAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1},n=e.includeSelf?this:this.parent;n;){if(n.name===t)return n;n=n.parent}return null}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(Ra.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var _step110,_iterator110=_createForOfIteratorHelper(this._children);try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){var _e85=_step110.value;t.children.push(_e85.toJSON())}}catch(err){_iterator110.e(err)}finally{_iterator110.f()}}return t}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?Array.from(this._children).map((function(t){return t._clone(!0)})):null;return new Ra(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var _step111,n=function(t){return"string"==typeof t?[new Pa(t)]:(Do(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new Pa(t):t instanceof La?new Pa(t.data,t.getAttributes()):t})))}(e),_iterator111=_createForOfIteratorHelper(n);try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _t81=_step111.value;null!==_t81.parent&&_t81._remove(),_t81.parent=this}}catch(err){_iterator111.e(err)}finally{_iterator111.f()}this._children._insertNodes(t,n)}},{key:"_removeChildren",value:function(t){var _step112,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._children._removeNodes(t,e),_iterator112=_createForOfIteratorHelper(n);try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var _t82=_step112.value;_t82.parent=null}}catch(err){_iterator112.e(err)}finally{_iterator112.f()}return n}}],[{key:"fromJSON",value:function(t){var e=null;if(t.children){e=[];var _step113,_iterator113=_createForOfIteratorHelper(t.children);try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var _n78=_step113.value;_n78.name?e.push(Ra.fromJSON(_n78)):e.push(Pa.fromJSON(_n78))}}catch(err){_iterator113.e(err)}finally{_iterator113.f()}}return new Ra(t.name,t.attributes,e)}}]),Ra}(za),ja=function(){function ja(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,ja),!t.boundaries&&!t.startPosition)throw new a("model-tree-walker-no-start-position",null);var e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new a("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=Va._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return _createClass(ja,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(t){var e,n,o,i;do{var _this$next2;o=this.position,i=this._visitedParent,e=(_this$next2=this.next()).done,n=_this$next2.value}while(!e&&t(n));e||(this.position=o,this._visitedParent=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var o=e.parent,i=Ha(e,o),r=i||Ua(e,o,i);if(r instanceof Ra)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=r),this.position=e,Fa("elementStart",r,t,e,1);if(r instanceof Pa){var _o42;if(this.singleCharacters)_o42=1;else{var _t83=r.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<_t83&&(_t83=this.boundaries.end.offset),_o42=_t83-e.offset}var _i44=e.offset-r.startOffset,_s12=new La(r,_i44,_o42);return e.offset+=_o42,this.position=e,Fa("text",_s12,t,e,_o42)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Fa("elementEnd",n,t,e)}},{key:"_previous",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var o=e.parent,i=Ha(e,o),r=i||qa(e,o,i);if(r instanceof Ra)return e.offset--,this.shallow?(this.position=e,Fa("elementStart",r,t,e,1)):(e.path.push(r.maxOffset),this.position=e,this._visitedParent=r,this.ignoreElementEnd?this._previous():Fa("elementEnd",r,t,e));if(r instanceof Pa){var _o43;if(this.singleCharacters)_o43=1;else{var _t84=r.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>_t84&&(_t84=this.boundaries.start.offset),_o43=e.offset-_t84}var _i45=e.offset-r.startOffset,_s13=new La(r,_i45-_o43,_o43);return e.offset-=_o43,this.position=e,Fa("text",_s13,t,e,_o43)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Fa("elementStart",n,t,e,1)}}]),ja}();function Fa(t,e,n,o,i){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:i}}}var Va=function(){function Va(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(_classCallCheck(this,Va),!t.is("element")&&!t.is("documentFragment"))throw new a("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new a("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[].concat(_toConsumableArray(t.getPath()),_toConsumableArray(e)),t=t.root),this.root=t,this.path=e,this.stickiness=n}return _createClass(Va,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(t){this.path[this.path.length-1]=t}},{key:"parent",get:function(){for(var t=this.root,_e86=0;_e86<this.path.length-1;_e86++)if(!(t=t.getChild(t.offsetToIndex(this.path[_e86]))))throw new a("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new a("model-position-path-incorrect",this,{position:this});return t}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return Ha(this,this.parent)}},{key:"nodeAfter",get:function(){var t=this.parent;return Ua(this,t,Ha(this,t))}},{key:"nodeBefore",get:function(){var t=this.parent;return qa(this,t,Ha(this,t))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(t){if(this.root!=t.root)return"different";var e=Oo(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new ja(e);return n.skip(t),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(t){var e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(t){if(this.root!=t.root)return[];var e=Oo(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(t){for(var e=this.getAncestors(),n=t.getAncestors(),o=0;e[o]==n[o]&&e[o];)o++;return 0===o?null:e[o-1]}},{key:"getShiftedBy",value:function(t){var e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isEqual",value:function(t){return"same"==this.compareWith(t)}},{key:"isTouching",value:function(t){var e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=Va._createAt(this),n=Va._createAt(t);break;case"after":e=Va._createAt(t),n=Va._createAt(this);break;default:return!1}for(var o=e.parent;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==o.maxOffset)return!1;e.path=e.path.slice(0,-1),o=o.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}},{key:"is",value:function(t){return"position"===t||"model:position"===t}},{key:"hasSameParentAs",value:function(t){return this.root===t.root&&"same"==Oo(this.getParentPath(),t.getParentPath())}},{key:"getTransformedByOperation",value:function(t){var e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Va._createAt(this)}return e}},{key:"_getTransformedByInsertOperation",value:function(t){return this._getTransformedByInsertion(t.position,t.howMany)}},{key:"_getTransformedByMoveOperation",value:function(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}},{key:"_getTransformedBySplitOperation",value:function(t){var e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(t){var n,e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Va._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(t,e){var n=Va._createAt(this);if(this.root!=t.root)return n;if("same"==Oo(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==Oo(t.getParentPath(),this.getParentPath())){var _o44=t.path.length-1;if(t.offset<=this.path[_o44]){if(t.offset+e>this.path[_o44])return null;n.path[_o44]-=e}}return n}},{key:"_getTransformedByInsertion",value:function(t,e){var n=Va._createAt(this);if(this.root!=t.root)return n;if("same"==Oo(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==Oo(t.getParentPath(),this.getParentPath())){var _o45=t.path.length-1;t.offset<=this.path[_o45]&&(n.path[_o45]+=e)}return n}},{key:"_getTransformedByMove",value:function(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Va._createAt(this);var o=this._getTransformedByDeletion(t,n);return null===o||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):o._getTransformedByInsertion(e,n)}},{key:"_getCombined",value:function(t,e){var n=t.path.length-1,o=Va._createAt(e);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-t.offset,o.path=[].concat(_toConsumableArray(o.path),_toConsumableArray(this.path.slice(n+1))),o}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(t instanceof Va)return new Va(t.root,t.path,t.stickiness);var _o46=t;if("end"==e)e=_o46.maxOffset;else{if("before"==e)return this._createBefore(_o46,n);if("after"==e)return this._createAfter(_o46,n);if(0!==e&&!e)throw new a("model-createpositionat-offset-required",[this,t])}if(!_o46.is("element")&&!_o46.is("documentFragment"))throw new a("model-position-parent-incorrect",[this,t]);var _i46=_o46.getPath();return _i46.push(e),new this(_o46.root,_i46,n)}},{key:"_createAfter",value:function(t,e){if(!t.parent)throw new a("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}},{key:"_createBefore",value:function(t,e){if(!t.parent)throw new a("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}},{key:"fromJSON",value:function(t,e){if("$graveyard"===t.root){var _n79=new Va(e.graveyard,t.path);return _n79.stickiness=t.stickiness,_n79}if(!e.getRoot(t.root))throw new a("model-position-fromjson-no-root",e,{rootName:t.root});return new Va(e.getRoot(t.root),t.path,t.stickiness)}}]),Va}();function Ha(t,e){var n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function Ua(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function qa(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}var Wa=function(){function Wa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,Wa),this.start=Va._createAt(t),this.end=e?Va._createAt(e):Va._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return _createClass(Wa,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function value(){return regeneratorRuntime.wrap((function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.delegateYield(new ja({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return _context13.stop()}}),value,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==Oo(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}},{key:"containsItem",value:function(t){var e=Va._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(t){return"range"===t||"model:range"===t}},{key:"isEqual",value:function(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"getDifference",value:function(t){var e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Wa(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Wa(t.end,this.end))):e.push(new Wa(this.start,this.end)),e}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var _e87=this.start,_n80=this.end;return this.containsPosition(t.start)&&(_e87=t.start),this.containsPosition(t.end)&&(_n80=t.end),new Wa(_e87,_n80)}return null}},{key:"getJoined",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;var o=this.start,i=this.end;return t.start.isBefore(o)&&(o=t.start),t.end.isAfter(i)&&(i=t.end),new Wa(o,i)}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],e=this.start.getCommonPath(this.end).length,n=Va._createAt(this.start),o=n.parent;n.path.length>e+1;){var _e88=o.maxOffset-n.offset;0!==_e88&&t.push(new Wa(n,n.getShiftedBy(_e88))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){var _e89=this.end.path[n.path.length-1],_o47=_e89-n.offset;0!==_o47&&t.push(new Wa(n,n.getShiftedBy(_o47))),n.offset=_e89,n.path.push(0)}return t}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new ja(t)}},{key:"getItems",value:regeneratorRuntime.mark((function getItems(){var t,e,_iterator114,_step114,_t85,_args14=arguments;return regeneratorRuntime.wrap((function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:(t=_args14.length>0&&void 0!==_args14[0]?_args14[0]:{}).boundaries=this,t.ignoreElementEnd=!0,e=new ja(t),_iterator114=_createForOfIteratorHelper(e),_context14.prev=5,_iterator114.s();case 7:if((_step114=_iterator114.n()).done){_context14.next=13;break}return _t85=_step114.value,_context14.next=11,_t85.item;case 11:_context14.next=7;break;case 13:_context14.next=18;break;case 15:_context14.prev=15,_context14.t0=_context14.catch(5),_iterator114.e(_context14.t0);case 18:return _context14.prev=18,_iterator114.f(),_context14.finish(18);case 21:case"end":return _context14.stop()}}),getItems,this,[[5,15,18,21]])}))},{key:"getPositions",value:regeneratorRuntime.mark((function getPositions(){var t,e,_iterator115,_step115,_t86,_args15=arguments;return regeneratorRuntime.wrap((function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return(t=_args15.length>0&&void 0!==_args15[0]?_args15[0]:{}).boundaries=this,e=new ja(t),_context15.next=5,e.position;case 5:_iterator115=_createForOfIteratorHelper(e),_context15.prev=6,_iterator115.s();case 8:if((_step115=_iterator115.n()).done){_context15.next=14;break}return _t86=_step115.value,_context15.next=12,_t86.nextPosition;case 12:_context15.next=8;break;case 14:_context15.next=19;break;case 16:_context15.prev=16,_context15.t0=_context15.catch(6),_iterator115.e(_context15.t0);case 19:return _context15.prev=19,_iterator115.f(),_context15.finish(19);case 22:case"end":return _context15.stop()}}),getPositions,this,[[6,16,19,22]])}))},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Wa(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var _step116,e=[new Wa(this.start,this.end)],_iterator116=_createForOfIteratorHelper(t);try{for(_iterator116.s();!(_step116=_iterator116.n()).done;)for(var _n82=_step116.value,_t89=0;_t89<e.length;_t89++){var _o49=e[_t89].getTransformedByOperation(_n82);e.splice.apply(e,[_t89,1].concat(_toConsumableArray(_o49))),_t89+=_o49.length-1}}catch(err){_iterator116.e(err)}finally{_iterator116.f()}for(var _t87=0;_t87<e.length;_t87++)for(var _n81=e[_t87],_o48=_t87+1;_o48<e.length;_o48++){var _t88=e[_o48];(_n81.containsRange(_t88)||_t88.containsRange(_n81)||_n81.isEqual(_t88))&&e.splice(_o48,1)}return e}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(t.position,t.howMany,e)}},{key:"_getTransformedByMoveOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.sourcePosition,o=t.howMany,i=t.targetPosition;return this._getTransformedByMove(n,i,o,e)}},{key:"_getTransformedBySplitOperation",value:function(t){var e=this.start._getTransformedBySplitOperation(t),n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Wa(e,n)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Wa(this.start);var e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Va._createAt(n)).offset=0:(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new Wa(e,n)):new Wa(e,n)}},{key:"_getTransformedByInsertion",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&this.containsPosition(t))return[new Wa(this.start,t),new Wa(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];var _n83=new Wa(this.start,this.end);return _n83.start=_n83.start._getTransformedByInsertion(t,e),_n83.end=_n83.end._getTransformedByInsertion(t,e),[_n83]}},{key:"_getTransformedByMove",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var _o50=this.start._getTransformedByMove(t,e,n);return[new Wa(_o50)]}var s,i=Wa._createFromPositionAndShift(t,n),r=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!o&&(i.containsPosition(this.start)||i.containsPosition(this.end))){var _o51=this.start._getTransformedByMove(t,e,n),_i47=this.end._getTransformedByMove(t,e,n);return[new Wa(_o51,_i47)]}var a=this.getDifference(i),c=null,l=this.getIntersection(i);if(1==a.length?c=new Wa(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new Wa(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(r,n,null!==l||o):[],l){var _t90=new Wa(l.start._getCombined(i.start,r),l.end._getCombined(i.start,r));2==s.length?s.splice(1,0,_t90):s.push(_t90)}return s}},{key:"_getTransformedByDeletion",value:function(t,e){var n=this.start._getTransformedByDeletion(t,e),o=this.end._getTransformedByDeletion(t,e);return null==n&&null==o?null:(null==n&&(n=t),null==o&&(o=t),new Wa(n,o))}}],[{key:"_createFromPositionAndShift",value:function(t,e){var n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}},{key:"_createIn",value:function(t){return new this(Va._createAt(t,0),Va._createAt(t,t.maxOffset))}},{key:"_createOn",value:function(t){return this._createFromPositionAndShift(Va._createBefore(t),t.offsetSize)}},{key:"_createFromRanges",value:function(t){if(0===t.length)throw new a("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();var e=t[0];t.sort((function(t,e){return t.start.isAfter(e.start)?1:-1}));var n=t.indexOf(e),o=new this(e.start,e.end);if(n>0)for(var _e90=n-1;t[_e90].end.isEqual(o.start);_e90++)o.start=Va._createAt(t[_e90].start);for(var _e91=n+1;_e91<t.length&&t[_e91].start.isEqual(o.end);_e91++)o.end=Va._createAt(t[_e91].end);return o}},{key:"fromJSON",value:function(t,e){return new this(Va.fromJSON(t.start,e),Va.fromJSON(t.end,e))}}]),Wa}(),Ga=function(){function Ga(){var _this53=this;_classCallCheck(this,Ga),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(function(t,e){if(!e.viewPosition){var n=_this53._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=_this53.findPositionIn(n,e.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(t,e){if(!e.modelPosition){var n=_this53.findMappedViewAncestor(e.viewPosition),o=_this53._viewToModelMapping.get(n),i=_this53._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Va._createAt(o,i)}}),{priority:"low"})}return _createClass(Ga,[{key:"bindElements",value:function(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}},{key:"unbindViewElement",value:function(t){var e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t)){var _step117,_iterator117=_createForOfIteratorHelper(this._elementToMarkerNames.get(t));try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _e92=_step117.value;this._unboundMarkerNames.add(_e92)}}catch(err){_iterator117.e(err)}finally{_iterator117.f()}}this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}},{key:"unbindModelElement",value:function(t){var e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}},{key:"bindElementToMarker",value:function(t,e){var n=this._markerNameToElements.get(e)||new Set;n.add(t);var o=this._elementToMarkerNames.get(t)||new Set;o.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,o)}},{key:"unbindElementFromMarkerName",value:function(t,e){var n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));var o=this._elementToMarkerNames.get(t);o&&(o.delete(e),0==o.size&&this._elementToMarkerNames.delete(t))}},{key:"flushUnboundMarkerNames",value:function(){var t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(t){return this._viewToModelMapping.get(t)}},{key:"toViewElement",value:function(t){return this._modelToViewMapping.get(t)}},{key:"toModelRange",value:function(t){return new Wa(this.toModelPosition(t.start),this.toModelPosition(t.end))}},{key:"toViewRange",value:function(t){return new ji(this.toViewPosition(t.start),this.toViewPosition(t.end))}},{key:"toModelPosition",value:function(t){var e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}},{key:"toViewPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(t){var e=this._markerNameToElements.get(t);if(!e)return null;var _step118,n=new Set,_iterator118=_createForOfIteratorHelper(e);try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _t91=_step118.value;if(_t91.is("attributeElement")){var _step119,_iterator119=_createForOfIteratorHelper(_t91.getElementsWithSameId());try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var _e93=_step119.value;n.add(_e93)}}catch(err){_iterator119.e(err)}finally{_iterator119.f()}}else n.add(_t91)}}catch(err){_iterator118.e(err)}finally{_iterator118.f()}return n}},{key:"registerViewToModelLength",value:function(t,e){this._viewToModelLengthCallbacks.set(t,e)}},{key:"findMappedViewAncestor",value:function(t){for(var e=t.parent;!this._viewToModelMapping.has(e);)e=e.parent;return e}},{key:"_toModelOffset",value:function(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;for(var o=0,_n84=0;_n84<e;_n84++)o+=this.getModelLength(t.getChild(_n84));return o}},{key:"getModelLength",value:function(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;var _step120,_e94=0,_iterator120=_createForOfIteratorHelper(t.getChildren());try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var _n85=_step120.value;_e94+=this.getModelLength(_n85)}}catch(err){_iterator120.e(err)}finally{_iterator120.f()}return _e94}},{key:"findPositionIn",value:function(t,e){var n,o=0,i=0,r=0;if(t.is("$text"))return new Ri(t,e);for(;i<e;)n=t.getChild(r),i+=o=this.getModelLength(n),r++;return i==e?this._moveViewPositionToTextNode(new Ri(t,r)):this.findPositionIn(n,e-(i-o))}},{key:"_moveViewPositionToTextNode",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;return e instanceof Fo?new Ri(e,e.data.length):n instanceof Fo?new Ri(n,0):t}}]),Ga}();he(Ga,f);var Ya=function(){function Ya(){_classCallCheck(this,Ya),this._consumable=new Map,this._textProxyRegistry=new Map}return _createClass(Ya,[{key:"add",value:function(t,e){e=Qa(e),t instanceof La&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}},{key:"consume",value:function(t,e){return e=Qa(e),t instanceof La&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}},{key:"test",value:function(t,e){e=Qa(e),t instanceof La&&(t=this._getSymbolForTextProxy(t));var n=this._consumable.get(t);if(void 0===n)return null;var o=n.get(e);return void 0===o?null:o}},{key:"revert",value:function(t,e){e=Qa(e),t instanceof La&&(t=this._getSymbolForTextProxy(t));var n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(t){var e=null,n=this._textProxyRegistry.get(t.startOffset);if(n){var _o52=n.get(t.endOffset);_o52&&(e=_o52.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}},{key:"_addSymbolForTextProxy",value:function(t,e,n){var i,r,o=Symbol("textProxySymbol");return(i=this._textProxyRegistry.get(t))||(i=new Map,this._textProxyRegistry.set(t,i)),(r=i.get(e))||(r=new Map,i.set(e,r)),r.set(n,o),o}}]),Ya}();function Qa(t){var e=t.split(":");return"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}var Ka=function(){function Ka(t){_classCallCheck(this,Ka),this.conversionApi=Object.assign({dispatcher:this},t),this._reconversionEventsMapping=new Map}return _createClass(Ka,[{key:"convertChanges",value:function(t,e,n){var _step121,_iterator121=_createForOfIteratorHelper(t.getMarkersToRemove());try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var _e95=_step121.value;this.convertMarkerRemove(_e95.name,_e95.range,n)}}catch(err){_iterator121.e(err)}finally{_iterator121.f()}var _step122,_iterator122=_createForOfIteratorHelper(this._mapChangesWithAutomaticReconversion(t));try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var _t92=_step122.value;"insert"===_t92.type?this.convertInsert(Wa._createFromPositionAndShift(_t92.position,_t92.length),n):"remove"===_t92.type?this.convertRemove(_t92.position,_t92.length,_t92.name,n):"reconvert"===_t92.type?this.reconvertElement(_t92.element,n):this.convertAttribute(_t92.range,_t92.attributeKey,_t92.attributeOldValue,_t92.attributeNewValue,n)}}catch(err){_iterator122.e(err)}finally{_iterator122.f()}var _step123,_iterator123=_createForOfIteratorHelper(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _t93=_step123.value,_o53=e.get(_t93).getRange();this.convertMarkerRemove(_t93,_o53,n),this.convertMarkerAdd(_t93,_o53,n)}}catch(err){_iterator123.e(err)}finally{_iterator123.f()}var _step124,_iterator124=_createForOfIteratorHelper(t.getMarkersToAdd());try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var _e96=_step124.value;this.convertMarkerAdd(_e96.name,_e96.range,n)}}catch(err){_iterator124.e(err)}finally{_iterator124.f()}}},{key:"convertInsert",value:function(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);var _step125,_iterator125=_createForOfIteratorHelper(Array.from(t).map(Za));try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var _e97=_step125.value;this._convertInsertWithAttributes(_e97)}}catch(err){_iterator125.e(err)}finally{_iterator125.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(t,e,n,o){this.conversionApi.writer=o,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(t,e,n,o,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:".concat(e));var _step126,_iterator126=_createForOfIteratorHelper(t);try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){var _i48=_step126.value,_t94={item:_i48.item,range:Wa._createFromPositionAndShift(_i48.previousPosition,_i48.length),attributeKey:e,attributeOldValue:n,attributeNewValue:o};this._testAndFire("attribute:".concat(e),_t94)}}catch(err){_iterator126.e(err)}finally{_iterator126.f()}this._clearConversionApi()}},{key:"reconvertElement",value:function(t,e){var n=Wa._createOn(t);this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(n);var o=this.conversionApi.mapper,i=o.toViewElement(t);e.remove(i),this._convertInsertWithAttributes({item:t,range:n});var _step127,r=o.toViewElement(t),_iterator127=_createForOfIteratorHelper(Wa._createIn(t));try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){var _n86=_step127.value,_t95=_n86.item,_i49=Ja(_t95,o);_i49?_i49.root!==r.root&&e.move(e.createRangeOn(_i49),o.toViewPosition(Va._createBefore(_t95))):this._convertInsertWithAttributes(Za(_n86))}}catch(err){_iterator127.e(err)}finally{_iterator127.f()}o.unbindViewElement(i),this._clearConversionApi()}},{key:"convertSelection",value:function(t,e,n){var o=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,o),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){var _step128,_iterator128=_createForOfIteratorHelper(o);try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var _e98=_step128.value,_n87=_e98.getRange();if($a(t.getFirstPosition(),_e98,this.conversionApi.mapper)){var _o54={item:t,markerName:_e98.name,markerRange:_n87};this.conversionApi.consumable.test(t,"addMarker:"+_e98.name)&&this.fire("addMarker:"+_e98.name,_o54,this.conversionApi)}}}catch(err){_iterator128.e(err)}finally{_iterator128.f()}var _step129,_iterator129=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var _e99=_step129.value,_n88={item:t,range:t.getFirstRange(),attributeKey:_e99,attributeOldValue:null,attributeNewValue:t.getAttribute(_e99)};this.conversionApi.consumable.test(t,"attribute:"+_n88.attributeKey)&&this.fire("attribute:"+_n88.attributeKey+":$text",_n88,this.conversionApi)}}catch(err){_iterator129.e(err)}finally{_iterator129.f()}this._clearConversionApi()}else this._clearConversionApi()}},{key:"convertMarkerAdd",value:function(t,e,n){if("$graveyard"!=e.root.rootName){this.conversionApi.writer=n;var o="addMarker:"+t,i=new Ya;if(i.add(e,o),this.conversionApi.consumable=i,this.fire(o,{markerName:t,markerRange:e},this.conversionApi),i.test(e,o)){this.conversionApi.consumable=this._createConsumableForRange(e,o);var _step130,_iterator130=_createForOfIteratorHelper(e.getItems());try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var _n89=_step130.value;if(this.conversionApi.consumable.test(_n89,o)){var _i50={item:_n89,range:Wa._createOn(_n89),markerName:t,markerRange:e};this.fire(o,_i50,this.conversionApi)}}}catch(err){_iterator130.e(err)}finally{_iterator130.f()}this._clearConversionApi()}else this._clearConversionApi()}}},{key:"convertMarkerRemove",value:function(t,e,n){"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}},{key:"_mapReconversionTriggerEvent",value:function(t,e){this._reconversionEventsMapping.set(e,t)}},{key:"_createInsertConsumable",value:function(t){var _step131,e=new Ya,_iterator131=_createForOfIteratorHelper(t);try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){var _t96=_step131.value.item;e.add(_t96,"insert");var _step132,_iterator132=_createForOfIteratorHelper(_t96.getAttributeKeys());try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){var _n91=_step132.value;e.add(_t96,"attribute:"+_n91)}}catch(err){_iterator132.e(err)}finally{_iterator132.f()}}}catch(err){_iterator131.e(err)}finally{_iterator131.f()}return e}},{key:"_createConsumableForRange",value:function(t,e){var _step133,n=new Ya,_iterator133=_createForOfIteratorHelper(t.getItems());try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var _o55=_step133.value;n.add(_o55,e)}}catch(err){_iterator133.e(err)}finally{_iterator133.f()}return n}},{key:"_createSelectionConsumable",value:function(t,e){var n=new Ya;n.add(t,"selection");var _step134,_iterator134=_createForOfIteratorHelper(e);try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var _o56=_step134.value;n.add(t,"addMarker:"+_o56.name)}}catch(err){_iterator134.e(err)}finally{_iterator134.f()}var _step135,_iterator135=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _e100=_step135.value;n.add(t,"attribute:"+_e100)}}catch(err){_iterator135.e(err)}finally{_iterator135.f()}return n}},{key:"_testAndFire",value:function(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(function(t,e){var n=e.item.name||"$text";return"".concat(t,":").concat(n)}(t,e),e,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}},{key:"_convertInsertWithAttributes",value:function(t){this._testAndFire("insert",t);var _step136,_iterator136=_createForOfIteratorHelper(t.item.getAttributeKeys());try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var _e101=_step136.value;t.attributeKey=_e101,t.attributeOldValue=null,t.attributeNewValue=t.item.getAttribute(_e101),this._testAndFire("attribute:".concat(_e101),t)}}catch(err){_iterator136.e(err)}finally{_iterator136.f()}}},{key:"_mapChangesWithAutomaticReconversion",value:function(t){var _step137,e=new Set,n=[],_iterator137=_createForOfIteratorHelper(t.getChanges());try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){var _o57=_step137.value,_t97=_o57.position||_o57.range.start,_i51=_t97.parent;if(Ha(_t97,_i51))n.push(_o57);else{var _r19="attribute"===_o57.type?Ua(_t97,_i51,null):_i51;if(_r19.is("$text"))n.push(_o57);else{var _s14;if(_s14="attribute"===_o57.type?"attribute:".concat(_o57.attributeKey,":").concat(_r19.name):"".concat(_o57.type,":").concat(_o57.name),this._isReconvertTriggerEvent(_s14,_r19.name)){if(e.has(_r19))continue;e.add(_r19),n.push({type:"reconvert",element:_r19})}else n.push(_o57)}}}}catch(err){_iterator137.e(err)}finally{_iterator137.f()}return n}},{key:"_isReconvertTriggerEvent",value:function(t,e){return this._reconversionEventsMapping.get(t)===e}}]),Ka}();function $a(t,e,n){var o=e.getRange(),i=Array.from(t.getAncestors());return i.shift(),i.reverse(),!i.some((function(t){if(o.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")}))}function Za(t){return{item:t.item,range:Wa._createFromPositionAndShift(t.previousPosition,t.length)}}function Ja(t,e){if(t.is("textProxy")){var _n92=e.toViewPosition(Va._createBefore(t)).parent;return _n92.is("$text")?_n92:null}return e.toViewElement(t)}he(Ka,f);var Xa=function(){function Xa(t,e,n){_classCallCheck(this,Xa),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}return _createClass(Xa,[{key:"anchor",get:function(){if(this._ranges.length>0){var _t98=this._ranges[this._ranges.length-1];return this._lastRangeBackward?_t98.end:_t98.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var _t99=this._ranges[this._ranges.length-1];return this._lastRangeBackward?_t99.start:_t99.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var _step138,_iterator138=_createForOfIteratorHelper(this._ranges);try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){var _step139,_e102=_step138.value,_n93=!1,_iterator139=_createForOfIteratorHelper(t._ranges);try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var _o58=_step139.value;if(_e102.isEqual(_o58)){_n93=!0;break}}}catch(err){_iterator139.e(err)}finally{_iterator139.f()}if(!_n93)return!1}}catch(err){_iterator138.e(err)}finally{_iterator138.f()}return!0}},{key:"getRanges",value:regeneratorRuntime.mark((function getRanges(){var _iterator140,_step140,_t100;return regeneratorRuntime.wrap((function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:_iterator140=_createForOfIteratorHelper(this._ranges),_context16.prev=1,_iterator140.s();case 3:if((_step140=_iterator140.n()).done){_context16.next=9;break}return _t100=_step140.value,_context16.next=7,new Wa(_t100.start,_t100.end);case 7:_context16.next=3;break;case 9:_context16.next=14;break;case 11:_context16.prev=11,_context16.t0=_context16.catch(1),_iterator140.e(_context16.t0);case 14:return _context16.prev=14,_iterator140.f(),_context16.finish(14);case 17:case"end":return _context16.stop()}}),getRanges,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var _step141,t=null,_iterator141=_createForOfIteratorHelper(this._ranges);try{for(_iterator141.s();!(_step141=_iterator141.n()).done;){var _e103=_step141.value;t&&!_e103.start.isBefore(t.start)||(t=_e103)}}catch(err){_iterator141.e(err)}finally{_iterator141.f()}return t?new Wa(t.start,t.end):null}},{key:"getLastRange",value:function(){var _step142,t=null,_iterator142=_createForOfIteratorHelper(this._ranges);try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _e104=_step142.value;t&&!_e104.end.isAfter(t.end)||(t=_e104)}}catch(err){_iterator142.e(err)}finally{_iterator142.f()}return t?new Wa(t.start,t.end):null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"setTo",value:function(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof Xa)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Wa)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof Va)this._setRanges([new Wa(t)]);else if(t instanceof za){var _i52,_o59=!!n&&!!n.backward;if("in"==e)_i52=Wa._createIn(t);else if("on"==e)_i52=Wa._createOn(t);else{if(void 0===e)throw new a("model-selection-setto-required-second-parameter",[this,t]);_i52=new Wa(Va._createAt(t,e))}this._setRanges([_i52],_o59)}else{if(!Do(t))throw new a("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,e&&!!e.backward)}}},{key:"_setRanges",value:function(t){var _this54=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(t=Array.from(t)).some((function(e){if(!(e instanceof Wa))throw new a("model-selection-set-ranges-not-range",[_this54,t]);return _this54._ranges.every((function(t){return!t.isEqual(e)}))}));if(t.length!==this._ranges.length||n){this._removeAllRanges();var _step143,_iterator143=_createForOfIteratorHelper(t);try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var _e105=_step143.value;this._pushRange(_e105)}}catch(err){_iterator143.e(err)}finally{_iterator143.f()}this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new a("model-selection-setfocus-no-ranges",[this,t]);var n=Va._createAt(t,e);if("same"!=n.compareWith(this.focus)){var o=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(o)?(this._pushRange(new Wa(n,o)),this._lastRangeBackward=!0):(this._pushRange(new Wa(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"removeAttribute",value:function(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"setAttribute",value:function(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(t){return"selection"===t||"model:selection"===t}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark((function getSelectedBlocks(){var t,_iterator144,_step144,_e106,_n94,_iterator145,_step145,_n95,_o61,_o60;return regeneratorRuntime.wrap((function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:t=new WeakSet,_iterator144=_createForOfIteratorHelper(this.getRanges()),_context17.prev=2,_iterator144.s();case 4:if((_step144=_iterator144.n()).done){_context17.next=38;break}if(_e106=_step144.value,_n94=nc(_e106.start,t),_context17.t0=_n94&&oc(_n94,_e106),!_context17.t0){_context17.next=11;break}return _context17.next=11,_n94;case 11:_iterator145=_createForOfIteratorHelper(_e106.getWalker()),_context17.prev=12,_iterator145.s();case 14:if((_step145=_iterator145.n()).done){_context17.next=23;break}if(_n95=_step145.value,_o61=_n95.item,_context17.t1="elementEnd"==_n95.type&&ec(_o61,t,_e106),!_context17.t1){_context17.next=21;break}return _context17.next=21,_o61;case 21:_context17.next=14;break;case 23:_context17.next=28;break;case 25:_context17.prev=25,_context17.t2=_context17.catch(12),_iterator145.e(_context17.t2);case 28:return _context17.prev=28,_iterator145.f(),_context17.finish(28);case 31:if(_o60=nc(_e106.end,t),_context17.t3=_o60&&!_e106.end.isTouching(Va._createAt(_o60,0))&&oc(_o60,_e106),!_context17.t3){_context17.next=36;break}return _context17.next=36,_o60;case 36:_context17.next=4;break;case 38:_context17.next=43;break;case 40:_context17.prev=40,_context17.t4=_context17.catch(2),_iterator144.e(_context17.t4);case 43:return _context17.prev=43,_iterator144.f(),_context17.finish(43);case 46:case"end":return _context17.stop()}}),getSelectedBlocks,this,[[2,40,43,46],[12,25,28,31]])}))},{key:"containsEntireContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,e=Va._createAt(t,0),n=Va._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(t){this._checkRange(t),this._ranges.push(new Wa(t.start,t.end))}},{key:"_checkRange",value:function(t){for(var _e107=0;_e107<this._ranges.length;_e107++)if(t.isIntersecting(this._ranges[_e107]))throw new a("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[_e107]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),Xa}();function tc(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function ec(t,e,n){return tc(t,e)&&oc(t,n)}function nc(t,e){var n=t.parent.root.document.model.schema,o=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=!1,r=o.find((function(t){return!i&&(!(i=n.isLimit(t))&&tc(t,e))}));return o.forEach((function(t){return e.add(t)})),r}function oc(t,e){var n=function(t){for(var e=t.root.document.model.schema,n=t.parent;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(Wa._createOn(n),!0)}he(Xa,f);var ic=function(_Wa){_inherits(ic,_Wa);var _super24=_createSuper(ic);function ic(t,e){var _this55;return _classCallCheck(this,ic),_this55=_super24.call(this,t,e),rc.call(_assertThisInitialized(_this55)),_this55}return _createClass(ic,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}},{key:"toRange",value:function(){return new Wa(this.start,this.end)}}],[{key:"fromRange",value:function(t){return new ic(t.start,t.end)}}]),ic}(Wa);function rc(){var _this56=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,e){var n=e[0];n.isDocumentOperation&&sc.call(_this56,n)}),{priority:"low"})}function sc(t){var e=this.getTransformedByOperation(t),n=Wa._createFromRanges(e),o=!n.isEqual(this),i=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t),r=null;if(o){"$graveyard"==n.root.rootName&&(r="remove"==t.type?t.sourcePosition:t.deletionPosition);var _e108=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",_e108,{deletionPosition:r})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:r})}he(ic,f);var ac="selection:",cc=function(){function cc(t){_classCallCheck(this,cc),this._selection=new lc(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return _createClass(cc,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(t){return this._selection.containsEntireContent(t)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(t){return this._selection.getAttribute(t)}},{key:"hasAttribute",value:function(t){return this._selection.hasAttribute(t)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(t){this._selection.observeMarkers(t)}},{key:"is",value:function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setAttribute",value:function(t,e){this._selection.setAttribute(t,e)}},{key:"_removeAttribute",value:function(t){this._selection.removeAttribute(t)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(t){this._selection.restoreGravity(t)}}],[{key:"_getStoreAttributeKey",value:function(t){return ac+t}},{key:"_isStoreAttributeKey",value:function(t){return t.startsWith(ac)}}]),cc}();he(cc,f);var lc=function(_Xa){_inherits(lc,_Xa);var _super25=_createSuper(lc);function lc(t){var _this57;return _classCallCheck(this,lc),(_this57=_super25.call(this)).markers=new Io({idProperty:"name"}),_this57._model=t.model,_this57._document=t,_this57._attributePriority=new Map,_this57._selectionRestorePosition=null,_this57._hasChangedRange=!1,_this57._overriddenGravityRegister=new Set,_this57._observedMarkers=new Set,_this57.listenTo(_this57._model,"applyOperation",(function(t,e){var n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==_this57._ranges.length&&_this57._selectionRestorePosition&&_this57._fixGraveyardSelection(_this57._selectionRestorePosition),_this57._selectionRestorePosition=null,_this57._hasChangedRange&&(_this57._hasChangedRange=!1,_this57.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),_this57.on("change:range",(function(){var _step146,_iterator146=_createForOfIteratorHelper(_this57.getRanges());try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var _t101=_step146.value;if(!_this57._document._validateSelectionRange(_t101))throw new a("document-selection-wrong-position",_assertThisInitialized(_this57),{range:_t101})}}catch(err){_iterator146.e(err)}finally{_iterator146.f()}})),_this57.listenTo(_this57._model.markers,"update",(function(t,e,n,o){_this57._updateMarker(e,o)})),_this57.listenTo(_this57._document,"change",(function(t,e){!function(t,e){var _step147,_iterator147=_createForOfIteratorHelper(t.document.differ.getChanges());try{var _loop2=function(){var o=_step147.value;if("insert"!=o.type)return"continue";var n=o.position.parent;o.length===n.maxOffset&&t.enqueueChange(e,(function(t){var _step148,_iterator148=_createForOfIteratorHelper(Array.from(n.getAttributeKeys()).filter((function(t){return t.startsWith(ac)})));try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var _o62=_step148.value;t.removeAttribute(_o62,n)}}catch(err){_iterator148.e(err)}finally{_iterator148.f()}}))};for(_iterator147.s();!(_step147=_iterator147.n()).done;)_loop2()}catch(err){_iterator147.e(err)}finally{_iterator147.f()}}(_this57._model,e)})),_this57}return _createClass(lc,[{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:_get(_getPrototypeOf(lc.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return _get(_getPrototypeOf(lc.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return _get(_getPrototypeOf(lc.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var _t102=0;_t102<this._ranges.length;_t102++)this._ranges[_t102].detach();this.stopListening()}},{key:"getRanges",value:regeneratorRuntime.mark((function getRanges(){return regeneratorRuntime.wrap((function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:if(!this._ranges.length){_context18.next=4;break}return _context18.delegateYield(_get(_getPrototypeOf(lc.prototype),"getRanges",this).call(this),"t0",2);case 2:_context18.next=6;break;case 4:return _context18.next=6,this._document._getDefaultRange();case 6:case"end":return _context18.stop()}}),getRanges,this)}))},{key:"getFirstRange",value:function(){return _get(_getPrototypeOf(lc.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return _get(_getPrototypeOf(lc.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,e,n){_get(_getPrototypeOf(lc.prototype),"setTo",this).call(this,t,e,n),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,e){_get(_getPrototypeOf(lc.prototype),"setFocus",this).call(this,t,e),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,e){if(this._setAttribute(t,e)){var _e109=[t];this.fire("change:attribute",{attributeKeys:_e109,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var _e110=[t];this.fire("change:attribute",{attributeKeys:_e110,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=r();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new a("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(t){this._observedMarkers.add(t),this._updateMarkers()}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var e=this._prepareRange(t);e&&this._ranges.push(e)}},{key:"_prepareRange",value:function(t){var _this58=this;if(this._checkRange(t),t.root!=this._document.graveyard){var e=ic.fromRange(t);return e.on("change:range",(function(t,n,o){if(_this58._hasChangedRange=!0,e.root==_this58._document.graveyard){_this58._selectionRestorePosition=o.deletionPosition;var _t103=_this58._ranges.indexOf(e);_this58._ranges.splice(_t103,1),e.detach()}})),e}}},{key:"_updateMarkers",value:function(){if(this._observedMarkers.size){var _step149,t=[],e=!1,_iterator149=_createForOfIteratorHelper(this._model.markers);try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var _e111=_step149.value,_n98=_e111.name.split(":",1)[0];if(this._observedMarkers.has(_n98)){var _step150,_o63=_e111.getRange(),_iterator150=_createForOfIteratorHelper(this.getRanges());try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _n99=_step150.value;_o63.containsRange(_n99,!_n99.isCollapsed)&&t.push(_e111)}}catch(err){_iterator150.e(err)}finally{_iterator150.f()}}}}catch(err){_iterator149.e(err)}finally{_iterator149.f()}for(var n=Array.from(this.markers),_i53=0,_t104=t;_i53<_t104.length;_i53++){var _n96=_t104[_i53];this.markers.has(_n96)||(this.markers.add(_n96),e=!0)}for(var _i54=0,_Array$from2=Array.from(this.markers);_i54<_Array$from2.length;_i54++){var _n97=_Array$from2[_i54];t.includes(_n97)||(this.markers.remove(_n97),e=!0)}e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}}},{key:"_updateMarker",value:function(t,e){var n=t.name.split(":",1)[0];if(this._observedMarkers.has(n)){var o=!1,i=Array.from(this.markers),r=this.markers.has(t);if(e){var _step151,_n100=!1,_iterator151=_createForOfIteratorHelper(this.getRanges());try{for(_iterator151.s();!(_step151=_iterator151.n()).done;){var _t105=_step151.value;if(e.containsRange(_t105,!_t105.isCollapsed)){_n100=!0;break}}}catch(err){_iterator151.e(err)}finally{_iterator151.f()}_n100&&!r?(this.markers.add(t),o=!0):!_n100&&r&&(this.markers.remove(t),o=!0)}else r&&(this.markers.remove(t),o=!0);o&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}}},{key:"_updateAttributes",value:function(t){var e=Ho(this._getSurroundingAttributes()),n=Ho(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else{var _step152,_iterator152=_createForOfIteratorHelper(this._attributePriority);try{for(_iterator152.s();!(_step152=_iterator152.n()).done;){var _step152$value=_slicedToArray(_step152.value,2),_t106=_step152$value[0];"low"==_step152$value[1]&&(this._attrs.delete(_t106),this._attributePriority.delete(_t106))}}catch(err){_iterator152.e(err)}finally{_iterator152.f()}}this._setAttributesTo(e);var _step153,o=[],_iterator153=_createForOfIteratorHelper(this.getAttributes());try{for(_iterator153.s();!(_step153=_iterator153.n()).done;){var _step153$value=_slicedToArray(_step153.value,2),_t107=_step153$value[0],_e113=_step153$value[1];n.has(_t107)&&n.get(_t107)===_e113||o.push(_t107)}}catch(err){_iterator153.e(err)}finally{_iterator153.f()}var _step154,_iterator154=_createForOfIteratorHelper(n);try{for(_iterator154.s();!(_step154=_iterator154.n()).done;){var _t108=_slicedToArray(_step154.value,1)[0];this.hasAttribute(_t108)||o.push(_t108)}}catch(err){_iterator154.e(err)}finally{_iterator154.f()}o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}},{key:"_setAttribute",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=n?"normal":"low";return("low"!=o||"normal"!=this._attributePriority.get(t))&&(_get(_getPrototypeOf(lc.prototype),"getAttribute",this).call(this,t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0))}},{key:"_removeAttribute",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!_get(_getPrototypeOf(lc.prototype),"hasAttribute",this).call(this,t)||(this._attrs.delete(t),0)))}},{key:"_setAttributesTo",value:function(t){var _step155,e=new Set,_iterator155=_createForOfIteratorHelper(this.getAttributes());try{for(_iterator155.s();!(_step155=_iterator155.n()).done;){var _step155$value=_slicedToArray(_step155.value,2),_e114=_step155$value[0],_n101=_step155$value[1];t.get(_e114)!==_n101&&this._removeAttribute(_e114,!1)}}catch(err){_iterator155.e(err)}finally{_iterator155.f()}var _step156,_iterator156=_createForOfIteratorHelper(t);try{for(_iterator156.s();!(_step156=_iterator156.n()).done;){var _step156$value=_slicedToArray(_step156.value,2),_n102=_step156$value[0],_o64=_step156$value[1];this._setAttribute(_n102,_o64,!1)&&e.add(_n102)}}catch(err){_iterator156.e(err)}finally{_iterator156.f()}return e}},{key:"_getStoredAttributes",value:regeneratorRuntime.mark((function _getStoredAttributes(){var t,_iterator157,_step157,_e115,_n103;return regeneratorRuntime.wrap((function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){_context19.next=21;break}_iterator157=_createForOfIteratorHelper(t.getAttributeKeys()),_context19.prev=3,_iterator157.s();case 5:if((_step157=_iterator157.n()).done){_context19.next=13;break}if(!(_e115=_step157.value).startsWith(ac)){_context19.next=11;break}return _n103=_e115.substr(ac.length),_context19.next=11,[_n103,t.getAttribute(_e115)];case 11:_context19.next=5;break;case 13:_context19.next=18;break;case 15:_context19.prev=15,_context19.t0=_context19.catch(3),_iterator157.e(_context19.t0);case 18:return _context19.prev=18,_iterator157.f(),_context19.finish(18);case 21:case"end":return _context19.stop()}}),_getStoredAttributes,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),e=this._model.schema,n=null;if(this.isCollapsed){var _o65=t.textNode?t.textNode:t.nodeBefore,_i55=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=dc(_o65)),n||(n=dc(_i55)),!this.isGravityOverridden&&!n)for(var _t109=_o65;_t109&&!e.isInline(_t109)&&!n;)n=dc(_t109=_t109.previousSibling);if(!n)for(var _t110=_i55;_t110&&!e.isInline(_t110)&&!n;)n=dc(_t110=_t110.nextSibling);n||(n=this._getStoredAttributes())}else{var _step158,_iterator158=_createForOfIteratorHelper(this.getFirstRange());try{for(_iterator158.s();!(_step158=_iterator158.n()).done;){var _o66=_step158.value;if(_o66.item.is("element")&&e.isObject(_o66.item))break;if("text"==_o66.type){n=_o66.item.getAttributes();break}}}catch(err){_iterator158.e(err)}finally{_iterator158.f()}}return n}},{key:"_fixGraveyardSelection",value:function(t){var e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}]),lc}(Xa);function dc(t){return t instanceof La||t instanceof Pa?t.getAttributes():null}var hc=function(){function hc(t){_classCallCheck(this,hc),this._dispatchers=t}return _createClass(hc,[{key:"add",value:function(t){var _step159,_iterator159=_createForOfIteratorHelper(this._dispatchers);try{for(_iterator159.s();!(_step159=_iterator159.n()).done;){t(_step159.value)}}catch(err){_iterator159.e(err)}finally{_iterator159.f()}return this}}]),hc}(),uc=function(t){return Co(t,5)},gc=function(_hc){_inherits(gc,_hc);var _super26=_createSuper(gc);function gc(){return _classCallCheck(this,gc),_super26.apply(this,arguments)}return _createClass(gc,[{key:"elementToElement",value:function(t){return this.add(function(t){return(t=uc(t)).view=fc(t.view,"container"),function(e){var n;if(e.on("insert:"+t.model,(n=t.view,function(t,e,o){var i=n(e.item,o);if(i&&o.consumable.consume(e.item,"insert")){var r=o.mapper.toViewPosition(e.range.start);o.mapper.bindElements(e.item,i),o.writer.insert(r,i)}}),{priority:t.converterPriority||"normal"}),t.triggerBy){if(t.triggerBy.attributes){var _step160,_iterator160=_createForOfIteratorHelper(t.triggerBy.attributes);try{for(_iterator160.s();!(_step160=_iterator160.n()).done;){var _n104=_step160.value;e._mapReconversionTriggerEvent(t.model,"attribute:".concat(_n104,":").concat(t.model))}}catch(err){_iterator160.e(err)}finally{_iterator160.f()}}if(t.triggerBy.children){var _step161,_iterator161=_createForOfIteratorHelper(t.triggerBy.children);try{for(_iterator161.s();!(_step161=_iterator161.n()).done;){var _n105=_step161.value;e._mapReconversionTriggerEvent(t.model,"insert:".concat(_n105)),e._mapReconversionTriggerEvent(t.model,"remove:".concat(_n105))}}catch(err){_iterator161.e(err)}finally{_iterator161.f()}}}}}(t))}},{key:"attributeToElement",value:function(t){return this.add(function(t){var e="attribute:"+((t=uc(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values){var _step162,_iterator162=_createForOfIteratorHelper(t.model.values);try{for(_iterator162.s();!(_step162=_iterator162.n()).done;){var _e117=_step162.value;t.view[_e117]=fc(t.view[_e117],"attribute")}}catch(err){_iterator162.e(err)}finally{_iterator162.f()}}else t.view=fc(t.view,"attribute");var n=kc(t);return function(o){o.on(e,function(t){return function(e,n,o){var i=t(n.attributeOldValue,o),r=t(n.attributeNewValue,o);if((i||r)&&o.consumable.consume(n.item,e.name)){var s=o.writer,a=s.document.selection;if(n.item instanceof Xa||n.item instanceof cc)s.wrap(a.getFirstRange(),r);else{var _t112=o.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(_t112=s.unwrap(_t112,i)),null!==n.attributeNewValue&&r&&s.wrap(_t112,r)}}}}(n),{priority:t.converterPriority||"normal"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(t){var e="attribute:"+((t=uc(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values){var _step163,_iterator163=_createForOfIteratorHelper(t.model.values);try{for(_iterator163.s();!(_step163=_iterator163.n()).done;){var _e118=_step163.value;t.view[_e118]=bc(t.view[_e118])}}catch(err){_iterator163.e(err)}finally{_iterator163.f()}}else t.view=bc(t.view);var n=kc(t);return function(o){var i;o.on(e,(i=n,function(t,e,n){var o=i(e.attributeOldValue,n),r=i(e.attributeNewValue,n);if((o||r)&&n.consumable.consume(e.item,t.name)){var s=n.mapper.toViewElement(e.item),c=n.writer;if(!s)throw new a("conversion-attribute-to-attribute-on-text",[e,n]);if(null!==e.attributeOldValue&&o)if("class"==o.key){var _step164,_iterator164=_createForOfIteratorHelper(To(o.value));try{for(_iterator164.s();!(_step164=_iterator164.n()).done;){var _e119=_step164.value;c.removeClass(_e119,s)}}catch(err){_iterator164.e(err)}finally{_iterator164.f()}}else if("style"==o.key)for(var _i56=0,_t115=Object.keys(o.value);_i56<_t115.length;_i56++){var _e120=_t115[_i56];c.removeStyle(_e120,s)}else c.removeAttribute(o.key,s);if(null!==e.attributeNewValue&&r)if("class"==r.key){var _step165,_iterator165=_createForOfIteratorHelper(To(r.value));try{for(_iterator165.s();!(_step165=_iterator165.n()).done;){var _e121=_step165.value;c.addClass(_e121,s)}}catch(err){_iterator165.e(err)}finally{_iterator165.f()}}else if("style"==r.key)for(var _i57=0,_t118=Object.keys(r.value);_i57<_t118.length;_i57++){var _e122=_t118[_i57];c.setStyle(_e122,r.value[_e122],s)}else c.setAttribute(r.key,r.value,s)}}),{priority:t.converterPriority||"normal"})}}(t))}},{key:"markerToElement",value:function(t){return this.add(function(t){return(t=uc(t)).view=fc(t.view,"ui"),function(e){var n;e.on("addMarker:"+t.model,(n=t.view,function(t,e,o){e.isOpening=!0;var i=n(e,o);e.isOpening=!1;var r=n(e,o);if(i&&r){var s=e.markerRange;if(!s.isCollapsed||o.consumable.consume(s,t.name)){var _step166,_iterator166=_createForOfIteratorHelper(s);try{for(_iterator166.s();!(_step166=_iterator166.n()).done;){var _e123=_step166.value;if(!o.consumable.consume(_e123.item,t.name))return}}catch(err){_iterator166.e(err)}finally{_iterator166.f()}var a=o.mapper,c=o.writer;c.insert(a.toViewPosition(s.start),i),o.mapper.bindElementToMarker(i,e.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),r),o.mapper.bindElementToMarker(r,e.markerName)),t.stop()}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,function(t,e,n){var o=n.mapper.markerNameToElements(e.markerName);if(o){var _step167,_iterator167=_createForOfIteratorHelper(o);try{for(_iterator167.s();!(_step167=_iterator167.n()).done;){var _t119=_step167.value;n.mapper.unbindElementFromMarkerName(_t119,e.markerName),n.writer.clear(n.writer.createRangeOn(_t119),_t119)}}catch(err){_iterator167.e(err)}finally{_iterator167.f()}n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}},{key:"markerToHighlight",value:function(t){return this.add(function(t){return function(e){var n;e.on("addMarker:"+t.model,(n=t.view,function(t,e,o){if(e.item&&(e.item instanceof Xa||e.item instanceof cc||e.item.is("$textProxy"))){var i=wc(n,e,o);if(i&&o.consumable.consume(e.item,t.name)){var r=o.writer,s=mc(r,i),a=r.document.selection;if(e.item instanceof Xa||e.item instanceof cc)r.wrap(a.getFirstRange(),s,a);else{var _step168,_t120=o.mapper.toViewRange(e.range),_iterator168=_createForOfIteratorHelper(r.wrap(_t120,s).getItems());try{for(_iterator168.s();!(_step168=_iterator168.n()).done;){var _t121=_step168.value;if(_t121.is("attributeElement")&&_t121.isSimilar(s)){o.mapper.bindElementToMarker(_t121,e.markerName);break}}}catch(err){_iterator168.e(err)}finally{_iterator168.f()}}}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return function(e,n,o){if(n.item&&n.item instanceof Ra){var i=wc(t,n,o);if(i&&o.consumable.test(n.item,e.name)){var r=o.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){o.consumable.consume(n.item,e.name);var _step169,_iterator169=_createForOfIteratorHelper(Wa._createIn(n.item));try{for(_iterator169.s();!(_step169=_iterator169.n()).done;){var _t122=_step169.value;o.consumable.consume(_t122.item,e.name)}}catch(err){_iterator169.e(err)}finally{_iterator169.f()}r.getCustomProperty("addHighlight")(r,i,o.writer),o.mapper.bindElementToMarker(r,n.markerName)}}}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return function(e,n,o){if(!n.markerRange.isCollapsed){var i=wc(t,n,o);if(i){var r=mc(o.writer,i),s=o.mapper.markerNameToElements(n.markerName);if(s){var _step170,_iterator170=_createForOfIteratorHelper(s);try{for(_iterator170.s();!(_step170=_iterator170.n()).done;){var _t123=_step170.value;o.mapper.unbindElementFromMarkerName(_t123,n.markerName),_t123.is("attributeElement")?o.writer.unwrap(o.writer.createRangeOn(_t123),r):_t123.getCustomProperty("removeHighlight")(_t123,i.id,o.writer)}}catch(err){_iterator170.e(err)}finally{_iterator170.f()}o.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}},{key:"markerToData",value:function(t){return this.add(function(t){var e=(t=uc(t)).model;return t.view||(t.view=function(n){return{group:e,name:n.substr(t.model.length+1)}}),function(n){var o;n.on("addMarker:"+e,(o=t.view,function(t,e,n){var i=o(e.markerName,n);if(i){var r=e.markerRange;n.consumable.consume(r,t.name)&&(pc(r,!1,n,e,i),pc(r,!0,n,e,i),t.stop())}}),{priority:t.converterPriority||"normal"}),n.on("removeMarker:"+e,function(t){return function(e,n,o){var i=t(n.markerName,o);if(i){var r=o.mapper.markerNameToElements(n.markerName);if(r){var _step171,_iterator171=_createForOfIteratorHelper(r);try{for(_iterator171.s();!(_step171=_iterator171.n()).done;){var _t124=_step171.value;o.mapper.unbindElementFromMarkerName(_t124,n.markerName),_t124.is("containerElement")?(s("data-".concat(i.group,"-start-before"),_t124),s("data-".concat(i.group,"-start-after"),_t124),s("data-".concat(i.group,"-end-before"),_t124),s("data-".concat(i.group,"-end-after"),_t124)):o.writer.clear(o.writer.createRangeOn(_t124),_t124)}}catch(err){_iterator171.e(err)}finally{_iterator171.f()}o.writer.clearClonedElementsGroup(n.markerName),e.stop()}}function s(t,e){if(e.hasAttribute(t)){var _n107=new Set(e.getAttribute(t).split(","));_n107.delete(i.name),0==_n107.size?o.writer.removeAttribute(t,e):o.writer.setAttribute(t,Array.from(_n107).join(","),e)}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}]),gc}(hc);function mc(t,e){var n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function pc(t,e,n,o,i){var r=e?t.start:t.end,s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(s||a){var _t125,_r20;e&&s||!e&&!a?(_t125=s,_r20=!0):(_t125=a,_r20=!1);var _c3=n.mapper.toViewElement(_t125);if(_c3)return void function(t,e,n,o,i,r){var s="data-".concat(r.group,"-").concat(e?"start":"end","-").concat(n?"before":"after"),a=t.hasAttribute(s)?t.getAttribute(s).split(","):[];a.unshift(r.name),o.writer.setAttribute(s,a.join(","),t),o.mapper.bindElementToMarker(t,i.markerName)}(_c3,e,_r20,n,o,i)}!function(t,e,n,o,i){var r="".concat(i.group,"-").concat(e?"start":"end"),s=i.name?{name:i.name}:null,a=n.writer.createUIElement(r,s);n.writer.insert(t,a),n.mapper.bindElementToMarker(a,o.markerName)}(n.mapper.toViewPosition(r),e,n,o,i)}function fc(t,e){return"function"==typeof t?t:function(n,o){return function(t,e,n){var o;"string"==typeof t&&(t={name:t});var i=e.writer,r=Object.assign({},t.attributes);if("container"==n)o=i.createContainerElement(t.name,r);else if("attribute"==n){var _e124={priority:t.priority||Xi.DEFAULT_PRIORITY};o=i.createAttributeElement(t.name,r,_e124)}else o=i.createUIElement(t.name,r);if(t.styles)for(var _i58=0,_e126=Object.keys(t.styles);_i58<_e126.length;_i58++){var _n108=_e126[_i58];i.setStyle(_n108,t.styles[_n108],o)}if(t.classes){var _e127=t.classes;if("string"==typeof _e127)i.addClass(_e127,o);else{var _step172,_iterator172=_createForOfIteratorHelper(_e127);try{for(_iterator172.s();!(_step172=_iterator172.n()).done;){var _t126=_step172.value;i.addClass(_t126,o)}}catch(err){_iterator172.e(err)}finally{_iterator172.f()}}}return o}(t,o,e)}}function kc(t){return t.model.values?function(e,n){var o=t.view[e];return o?o(e,n):null}:t.view}function bc(t){return"string"==typeof t?function(e){return{key:t,value:e}}:"object"==_typeof(t)?t.value?function(){return t}:function(e){return{key:t.key,value:e}}:t}function wc(t,e,n){var o="function"==typeof t?t(e,n):t;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function Ac(t){var _step173,_t$model=t.model,e=_t$model.schema,n=_t$model.document,_iterator173=_createForOfIteratorHelper(n.getRootNames());try{for(_iterator173.s();!(_step173=_iterator173.n()).done;){var _o67=_step173.value,_i59=n.getRoot(_o67);if(_i59.isEmpty&&!e.checkChild(_i59,"$text")&&e.checkChild(_i59,"paragraph"))return t.insertElement("paragraph",_i59),!0}}catch(err){_iterator173.e(err)}finally{_iterator173.f()}return!1}function Cc(t,e,n){var o=n.createContext(t);return!!n.checkChild(o,"paragraph")&&!!n.checkChild(o.push("paragraph"),e)}function _c(t,e){var n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}var vc=function(_hc2){_inherits(vc,_hc2);var _super27=_createSuper(vc);function vc(){return _classCallCheck(this,vc),_super27.apply(this,arguments)}return _createClass(vc,[{key:"elementToElement",value:function(t){return this.add(yc(t))}},{key:"elementToAttribute",value:function(t){return this.add(function(t){Dc(t=uc(t));var e=Ic(t,!1),n=xc(t.view),o=n?"element:"+n:"element";return function(n){n.on(o,e,{priority:t.converterPriority||"low"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(t){var e=null;("string"==typeof(t=uc(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});var n,e=t.view.key;return n="class"==e||"style"==e?_defineProperty({},"class"==e?"classes":"styles",t.view.value):{attributes:_defineProperty({},e,void 0===t.view.value?/[\s\S]*/:t.view.value)},t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),Dc(t,e);var n=Ic(t,!0);return function(e){e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}},{key:"elementToMarker",value:function(t){return this.add(function(t){return function(t){var e=t.model;t.model=function(t,n){var o="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":o})}}(t=uc(t)),yc(t)}(t))}},{key:"dataToMarker",value:function(t){return this.add(function(t){(t=uc(t)).model||(t.model=function(e){return e?t.view+":"+e:t.view});var e=Ec(Mc(t,"start")),n=Ec(Mc(t,"end"));return function(o){o.on("element:"+t.view+"-start",e,{priority:t.converterPriority||"normal"}),o.on("element:"+t.view+"-end",n,{priority:t.converterPriority||"normal"});var i=s.get("low"),r=s.get("highest"),a=s.get(t.converterPriority)/r;o.on("element",function(t){return function(e,n,o){var i="data-".concat(t.view);function r(e,i){var _step174,_iterator174=_createForOfIteratorHelper(i);try{for(_iterator174.s();!(_step174=_iterator174.n()).done;){var _r21=_step174.value,_i60=t.model(_r21,o),_s15=o.writer.createElement("$marker",{"data-name":_i60});o.writer.insert(_s15,e),n.modelCursor.isEqual(e)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}catch(err){_iterator174.e(err)}finally{_iterator174.f()}}(o.consumable.test(n.viewItem,{attributes:i+"-end-after"})||o.consumable.test(n.viewItem,{attributes:i+"-start-after"})||o.consumable.test(n.viewItem,{attributes:i+"-end-before"})||o.consumable.test(n.viewItem,{attributes:i+"-start-before"}))&&(n.modelRange||Object.assign(n,o.convertChildren(n.viewItem,n.modelCursor)),o.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&r(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),o.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&r(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),o.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&r(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),o.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&r(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(",")))}}(t),{priority:i+a})}}(t))}}]),vc}(hc);function yc(t){var e=Ec(t=uc(t)),n=xc(t.view),o=n?"element:"+n:"element";return function(n){n.on(o,e,{priority:t.converterPriority||"normal"})}}function xc(t){return"string"==typeof t?t:"object"==_typeof(t)&&"string"==typeof t.name?t.name:null}function Ec(t){var e=new Uo(t.view);return function(n,o,i){var r=e.match(o.viewItem);if(r){var s=r.match;if(s.name=!0,i.consumable.test(o.viewItem,s)){var a=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,o.viewItem,i);a&&i.safeInsert(a,o.modelCursor)&&(i.consumable.consume(o.viewItem,s),i.convertChildren(o.viewItem,a),i.updateConversionResult(a,o))}}}}function Dc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===e||function(t){return t.getAttribute(e)},o="object"!=_typeof(t.model)?t.model:t.model.key,i="object"!=_typeof(t.model)||void 0===t.model.value?n:t.model.value;t.model={key:o,value:i}}function Ic(t,e){var n=new Uo(t.view);return function(o,i,r){var s=n.match(i.viewItem);if(s&&(function(t,e){var n="function"==typeof t?t(e):t;return!("object"==_typeof(n)&&!xc(n))&&(!n.classes&&!n.attributes&&!n.styles)}(t.view,i.viewItem)?s.match.name=!0:delete s.match.name,r.consumable.test(i.viewItem,s.match))){var a=t.model.key,c="function"==typeof t.model.value?t.model.value(i.viewItem,r):t.model.value;if(null!==c)i.modelRange||Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor)),function(t,e,n,o){for(var i=!1,_i61=0,_Array$from3=Array.from(t.getItems({shallow:n}));_i61<_Array$from3.length;_i61++){var _r22=_Array$from3[_i61];o.schema.checkAttribute(_r22,e.key)&&(i=!0,_r22.hasAttribute(e.key)||o.writer.setAttribute(e.key,e.value,_r22))}return i}(i.modelRange,{key:a,value:c},e,r)&&r.consumable.consume(i.viewItem,s.match)}}}function Mc(t,e){var n={};return n.view=t.view+"-"+e,n.model=function(e,n){var o=e.getAttribute("name"),i=t.model(o,n);return n.writer.createElement("$marker",{"data-name":i})},n}var Tc=function(){function Tc(t,e){var _this59=this;_classCallCheck(this,Tc),this.model=t,this.view=new Ba(e),this.mapper=new Ga,this.downcastDispatcher=new Ka({mapper:this.mapper,schema:t.schema});var n=this.model.document,o=n.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){_this59.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){_this59.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(function(){_this59.view.change((function(t){_this59.downcastDispatcher.convertChanges(n.differ,i,t),_this59.downcastDispatcher.convertSelection(o,i,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return function(n,o){var _step175,i=o.newSelection,r=[],_iterator175=_createForOfIteratorHelper(i.getRanges());try{for(_iterator175.s();!(_step175=_iterator175.n()).done;){var _t127=_step175.value;r.push(e.toModelRange(_t127))}}catch(err){_iterator175.e(err)}finally{_iterator175.f()}var s=t.createSelection(r,{backward:i.isBackward});s.isEqual(t.document.selection)||t.change((function(t){t.setSelection(s)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(function(t,e,n){if(n.consumable.consume(e.item,"insert")){var o=n.writer,i=n.mapper.toViewPosition(e.range.start),r=o.createText(e.item.data);o.insert(i,r)}}),{priority:"lowest"}),this.downcastDispatcher.on("remove",(function(t,e,n){var _step176,o=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),r=n.mapper.toViewPosition(i,{isPhantom:!0}),s=n.writer.createRange(o,r),a=n.writer.remove(s.getTrimmed()),_iterator176=_createForOfIteratorHelper(n.writer.createRangeIn(a).getItems());try{for(_iterator176.s();!(_step176=_iterator176.n()).done;){var _t128=_step176.value;n.mapper.unbindViewElement(_t128)}}catch(err){_iterator176.e(err)}finally{_iterator176.f()}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(t,e,n){var _step177,o=n.writer,_iterator177=_createForOfIteratorHelper(o.document.selection.getRanges());try{for(_iterator177.s();!(_step177=_iterator177.n()).done;){var _t129=_step177.value;_t129.isCollapsed&&_t129.end.parent.isAttached()&&n.writer.mergeAttributes(_t129.start)}}catch(err){_iterator177.e(err)}finally{_iterator177.f()}o.setSelection(null)}),{priority:"high"}),this.downcastDispatcher.on("selection",(function(t,e,n){var o=e.selection;if(!o.isCollapsed&&n.consumable.consume(o,"selection")){var _step178,i=[],_iterator178=_createForOfIteratorHelper(o.getRanges());try{for(_iterator178.s();!(_step178=_iterator178.n()).done;){var _t130=_step178.value,_e128=n.mapper.toViewRange(_t130);i.push(_e128)}}catch(err){_iterator178.e(err)}finally{_iterator178.f()}n.writer.setSelection(i,{backward:o.isBackward})}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(t,e,n){var o=e.selection;if(o.isCollapsed&&n.consumable.consume(o,"selection")){var i=n.writer,r=o.getFirstPosition(),s=n.mapper.toViewPosition(r),a=i.breakAttributes(s);i.setSelection(a)}}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(t){if("$graveyard"==t.rootName)return null;var e=new Li(_this59.view.document,t.name);return e.rootName=t.rootName,_this59.mapper.bindElements(t,e),e}))}return _createClass(Tc,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),Tc}();he(Tc,re);var Sc=function(){function Sc(){_classCallCheck(this,Sc),this._commands=new Map}return _createClass(Sc,[{key:"add",value:function(t,e){this._commands.set(t,e)}},{key:"get",value:function(t){return this._commands.get(t)}},{key:"execute",value:function(t){var n=this.get(t);if(!n)throw new a("commandcollection-command-not-found",this,{commandName:t});for(var _len18=arguments.length,e=new Array(_len18>1?_len18-1:0),_key18=1;_key18<_len18;_key18++)e[_key18-1]=arguments[_key18];return n.execute.apply(n,e)}},{key:"names",value:regeneratorRuntime.mark((function names(){return regeneratorRuntime.wrap((function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return _context20.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return _context20.stop()}}),names,this)}))},{key:"commands",value:regeneratorRuntime.mark((function commands(){return regeneratorRuntime.wrap((function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:return _context21.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return _context21.stop()}}),commands,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var _step179,_iterator179=_createForOfIteratorHelper(this.commands());try{for(_iterator179.s();!(_step179=_iterator179.n()).done;){_step179.value.destroy()}}catch(err){_iterator179.e(err)}finally{_iterator179.f()}}}]),Sc}(),Nc=function(){function Nc(){_classCallCheck(this,Nc),this._consumables=new Map}return _createClass(Nc,[{key:"add",value:function(t,e){var n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Bc(t),this._consumables.set(t,n)),n.add(e))}},{key:"test",value:function(t,e){var n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}},{key:"consume",value:function(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}},{key:"revert",value:function(t,e){var n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}}],[{key:"consumablesFromElement",value:function(t){var _step180,e={element:t,name:!0,attributes:[],classes:[],styles:[]},_iterator180=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator180.s();!(_step180=_iterator180.n()).done;){var _t132=_step180.value;"style"!=_t132&&"class"!=_t132&&e.attributes.push(_t132)}}catch(err){_iterator180.e(err)}finally{_iterator180.f()}var _step181,_iterator181=_createForOfIteratorHelper(t.getClassNames());try{for(_iterator181.s();!(_step181=_iterator181.n()).done;){var _t133=_step181.value;e.classes.push(_t133)}}catch(err){_iterator181.e(err)}finally{_iterator181.f()}var _step182,_iterator182=_createForOfIteratorHelper(t.getStyleNames());try{for(_iterator182.s();!(_step182=_iterator182.n()).done;){var _t134=_step182.value;e.styles.push(_t134)}}catch(err){_iterator182.e(err)}finally{_iterator182.f()}return e}},{key:"createFrom",value:function(t,e){if(e||(e=new Nc(t)),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,Nc.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);var _step183,_iterator183=_createForOfIteratorHelper(t.getChildren());try{for(_iterator183.s();!(_step183=_iterator183.n()).done;){var _n110=_step183.value;e=Nc.createFrom(_n110,e)}}catch(err){_iterator183.e(err)}finally{_iterator183.f()}return e}}]),Nc}(),Bc=function(){function Bc(t){_classCallCheck(this,Bc),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return _createClass(Bc,[{key:"add",value:function(t){for(var _e129 in t.name&&(this._canConsumeName=!0),this._consumables)_e129 in t&&this._add(_e129,t[_e129])}},{key:"test",value:function(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(var _e130 in this._consumables)if(_e130 in t){var _n111=this._test(_e130,t[_e130]);if(!0!==_n111)return _n111}return!0}},{key:"consume",value:function(t){for(var _e131 in t.name&&(this._canConsumeName=!1),this._consumables)_e131 in t&&this._consume(_e131,t[_e131])}},{key:"revert",value:function(t){for(var _e132 in t.name&&(this._canConsumeName=!0),this._consumables)_e132 in t&&this._revert(_e132,t[_e132])}},{key:"_add",value:function(t,e){var _step184,n=Mt(e)?e:[e],o=this._consumables[t],_iterator184=_createForOfIteratorHelper(n);try{for(_iterator184.s();!(_step184=_iterator184.n()).done;){var _e133=_step184.value;if("attributes"===t&&("class"===_e133||"style"===_e133))throw new a("viewconsumable-invalid-attribute",this);if(o.set(_e133,!0),"styles"===t){var _step185,_iterator185=_createForOfIteratorHelper(this.element.document.stylesProcessor.getRelatedStyles(_e133));try{for(_iterator185.s();!(_step185=_iterator185.n()).done;){var _t135=_step185.value;o.set(_t135,!0)}}catch(err){_iterator185.e(err)}finally{_iterator185.f()}}}}catch(err){_iterator184.e(err)}finally{_iterator184.f()}}},{key:"_test",value:function(t,e){var _step186,n=Mt(e)?e:[e],o=this._consumables[t],_iterator186=_createForOfIteratorHelper(n);try{for(_iterator186.s();!(_step186=_iterator186.n()).done;){var _e134=_step186.value;if("attributes"!==t||"class"!==_e134&&"style"!==_e134){var _t136=o.get(_e134);if(void 0===_t136)return null;if(!_t136)return!1}else{var _t137="class"==_e134?"classes":"styles",_n112=this._test(_t137,_toConsumableArray(this._consumables[_t137].keys()));if(!0!==_n112)return _n112}}}catch(err){_iterator186.e(err)}finally{_iterator186.f()}return!0}},{key:"_consume",value:function(t,e){var _step187,n=Mt(e)?e:[e],o=this._consumables[t],_iterator187=_createForOfIteratorHelper(n);try{for(_iterator187.s();!(_step187=_iterator187.n()).done;){var _e135=_step187.value;if("attributes"!==t||"class"!==_e135&&"style"!==_e135){if(o.set(_e135,!1),"styles"==t){var _step188,_iterator188=_createForOfIteratorHelper(this.element.document.stylesProcessor.getRelatedStyles(_e135));try{for(_iterator188.s();!(_step188=_iterator188.n()).done;){var _t138=_step188.value;o.set(_t138,!1)}}catch(err){_iterator188.e(err)}finally{_iterator188.f()}}}else{var _t139="class"==_e135?"classes":"styles";this._consume(_t139,_toConsumableArray(this._consumables[_t139].keys()))}}}catch(err){_iterator187.e(err)}finally{_iterator187.f()}}},{key:"_revert",value:function(t,e){var _step189,n=Mt(e)?e:[e],o=this._consumables[t],_iterator189=_createForOfIteratorHelper(n);try{for(_iterator189.s();!(_step189=_iterator189.n()).done;){var _e136=_step189.value;if("attributes"!==t||"class"!==_e136&&"style"!==_e136)!1===o.get(_e136)&&o.set(_e136,!0);else{var _t140="class"==_e136?"classes":"styles";this._revert(_t140,_toConsumableArray(this._consumables[_t140].keys()))}}}catch(err){_iterator189.e(err)}finally{_iterator189.f()}}}]),Bc}(),zc=function(){function zc(){var _this60=this;_classCallCheck(this,zc),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(t,e){e[0]=new Pc(e[0])}),{priority:"highest"}),this.on("checkChild",(function(t,e){e[0]=new Pc(e[0]),e[1]=_this60.getDefinition(e[1])}),{priority:"highest"})}return _createClass(zc,[{key:"register",value:function(t,e){if(this._sourceDefinitions[t])throw new a("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}},{key:"extend",value:function(t,e){if(!this._sourceDefinitions[t])throw new a("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(t){var e;return e="string"==typeof t?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}},{key:"isRegistered",value:function(t){return!!this.getDefinition(t)}},{key:"isBlock",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isBlock)}},{key:"isLimit",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}},{key:"isObject",value:function(t){var e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}},{key:"isInline",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isInline)}},{key:"isSelectable",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isSelectable&&!e.isObject)}},{key:"isContent",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isContent&&!e.isObject)}},{key:"checkChild",value:function(t,e){return!!e&&this._checkContextMatch(e,t)}},{key:"checkAttribute",value:function(t,e){var n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}},{key:"checkMerge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t instanceof Va){var _e137=t.nodeBefore,_n113=t.nodeAfter;if(!(_e137 instanceof Ra))throw new a("schema-check-merge-no-element-before",this);if(!(_n113 instanceof Ra))throw new a("schema-check-merge-no-element-after",this);return this.checkMerge(_e137,_n113)}var _step190,_iterator190=_createForOfIteratorHelper(e.getChildren());try{for(_iterator190.s();!(_step190=_iterator190.n()).done;){var _n114=_step190.value;if(!this.checkChild(t,_n114))return!1}}catch(err){_iterator190.e(err)}finally{_iterator190.f()}return!0}},{key:"addChildCheck",value:function(t){this.on("checkChild",(function(e,_ref16){var _ref17=_slicedToArray(_ref16,2),n=_ref17[0],o=_ref17[1];if(o){var i=t(n,o);"boolean"==typeof i&&(e.stop(),e.return=i)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(t){this.on("checkAttribute",(function(e,_ref18){var _ref19=_slicedToArray(_ref18,2),n=_ref19[0],o=_ref19[1],i=t(n,o);"boolean"==typeof i&&(e.stop(),e.return=i)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}},{key:"getAttributeProperties",value:function(t){return this._attributeProperties[t]||{}}},{key:"getLimitElement",value:function(t){var e;for(e=t instanceof Va?t.parent:(t instanceof Wa?[t]:Array.from(t.getRanges())).reduce((function(t,e){var n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}},{key:"checkAttributeInSelection",value:function(t,e){if(t.isCollapsed){var _n115=[].concat(_toConsumableArray(t.getFirstPosition().getAncestors()),[new Pa("",t.getAttributes())]);return this.checkAttribute(_n115,e)}var _step191,_iterator191=_createForOfIteratorHelper(t.getRanges());try{for(_iterator191.s();!(_step191=_iterator191.n()).done;){var _step192,_iterator192=_createForOfIteratorHelper(_step191.value);try{for(_iterator192.s();!(_step192=_iterator192.n()).done;){var _n117=_step192.value;if(this.checkAttribute(_n117.item,e))return!0}}catch(err){_iterator192.e(err)}finally{_iterator192.f()}}}catch(err){_iterator191.e(err)}finally{_iterator191.f()}return!1}},{key:"getValidRanges",value:regeneratorRuntime.mark((function getValidRanges(t,e){var _iterator194,_step194,_n118;return regeneratorRuntime.wrap((function(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:t=regeneratorRuntime.mark((function _callee(t){var _iterator193,_step193,_e138;return regeneratorRuntime.wrap((function(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:_iterator193=_createForOfIteratorHelper(t),_context22.prev=1,_iterator193.s();case 3:if((_step193=_iterator193.n()).done){_context22.next=8;break}return _e138=_step193.value,_context22.delegateYield(_e138.getMinimalFlatRanges(),"t0",6);case 6:_context22.next=3;break;case 8:_context22.next=13;break;case 10:_context22.prev=10,_context22.t1=_context22.catch(1),_iterator193.e(_context22.t1);case 13:return _context22.prev=13,_iterator193.f(),_context22.finish(13);case 16:case"end":return _context22.stop()}}),_callee,null,[[1,10,13,16]])}))(t),_iterator194=_createForOfIteratorHelper(t),_context23.prev=2,_iterator194.s();case 4:if((_step194=_iterator194.n()).done){_context23.next=9;break}return _n118=_step194.value,_context23.delegateYield(this._getValidRangesForRange(_n118,e),"t0",7);case 7:_context23.next=4;break;case 9:_context23.next=14;break;case 11:_context23.prev=11,_context23.t1=_context23.catch(2),_iterator194.e(_context23.t1);case 14:return _context23.prev=14,_iterator194.f(),_context23.finish(14);case 17:case"end":return _context23.stop()}}),getValidRanges,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(t){var n,o,_this61=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(t,"$text"))return new Wa(t);var i=t.getAncestors().reverse().find((function(t){return _this61.isLimit(t)}))||t.root;"both"!=e&&"backward"!=e||(n=new ja({boundaries:Wa._createIn(i),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(o=new ja({boundaries:Wa._createIn(i),startPosition:t}));var _step195,_iterator195=_createForOfIteratorHelper(regeneratorRuntime.mark((function _callee2(t,e){var n,_e139,_t142;return regeneratorRuntime.wrap((function(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:n=!1;case 1:if(n){_context24.next=18;break}if(n=!0,!t){_context24.next=9;break}if(_e139=t.next(),_context24.t0=_e139.done,_context24.t0){_context24.next=9;break}return n=!1,_context24.next=9,{walker:t,value:_e139.value};case 9:if(!e){_context24.next=16;break}if(_t142=e.next(),_context24.t1=_t142.done,_context24.t1){_context24.next=16;break}return n=!1,_context24.next=16,{walker:e,value:_t142.value};case 16:_context24.next=1;break;case 18:case"end":return _context24.stop()}}),_callee2)}))(n,o));try{for(_iterator195.s();!(_step195=_iterator195.n()).done;){var _t143=_step195.value,_e140=_t143.walker==n?"elementEnd":"elementStart",_o68=_t143.value;if(_o68.type==_e140&&this.isObject(_o68.item))return Wa._createOn(_o68.item);if(this.checkChild(_o68.nextPosition,"$text"))return new Wa(_o68.nextPosition)}}catch(err){_iterator195.e(err)}finally{_iterator195.f()}return null}},{key:"findAllowedParent",value:function(t,e){for(var n=t.parent;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(t,e){var _step196,_iterator196=_createForOfIteratorHelper(t);try{for(_iterator196.s();!(_step196=_iterator196.n()).done;){var _n119=_step196.value;if(_n119.is("$text"))Qc(this,_n119,e);else{var _step197,_iterator197=_createForOfIteratorHelper(Wa._createIn(_n119).getPositions());try{for(_iterator197.s();!(_step197=_iterator197.n()).done;){var _n120=_step197.value;Qc(this,_n120.nodeBefore||_n120.parent,e)}}catch(err){_iterator197.e(err)}finally{_iterator197.f()}}}}catch(err){_iterator196.e(err)}finally{_iterator196.f()}}},{key:"createContext",value:function(t){return new Pc(t)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var t={},e=this._sourceDefinitions,n=Object.keys(e),_i62=0,_n121=n;_i62<_n121.length;_i62++){var _o69=_n121[_i62];t[_o69]=Lc(e[_o69],_o69)}for(var _i63=0,_n122=n;_i63<_n122.length;_i63++){Oc(t,_n122[_i63])}for(var _i64=0,_n123=n;_i64<_n123.length;_i64++){Rc(t,_n123[_i64])}for(var _i65=0,_n124=n;_i65<_n124.length;_i65++){jc(t,_n124[_i65])}for(var _i66=0,_n125=n;_i66<_n125.length;_i66++){var _e144=_n125[_i66];Fc(t,_e144),Vc(t,_e144)}for(var _i67=0,_n126=n;_i67<_n126.length;_i67++){var _e145=_n126[_i67];Hc(t,_e145),Uc(t,_e145),qc(t,_e145)}this._compiledDefinitions=t}},{key:"_checkContextMatch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1,o=e.getItem(n);if(t.allowIn.includes(o.name)){if(0==n)return!0;var _t145=this.getDefinition(o);return this._checkContextMatch(_t145,e,n-1)}return!1}},{key:"_getValidRangesForRange",value:regeneratorRuntime.mark((function _getValidRangesForRange(t,e){var n,o,_iterator198,_step198,_i68;return regeneratorRuntime.wrap((function(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:n=t.start,o=t.start,_iterator198=_createForOfIteratorHelper(t.getItems({shallow:!0})),_context25.prev=2,_iterator198.s();case 4:if((_step198=_iterator198.n()).done){_context25.next=19;break}if(_i68=_step198.value,_context25.t0=_i68.is("element"),!_context25.t0){_context25.next=9;break}return _context25.delegateYield(this._getValidRangesForRange(Wa._createIn(_i68),e),"t1",9);case 9:if(_context25.t2=this.checkAttribute(_i68,e),_context25.t2){_context25.next=16;break}if(_context25.t3=n.isEqual(o),_context25.t3){_context25.next=15;break}return _context25.next=15,new Wa(n,o);case 15:n=Va._createAfter(_i68);case 16:o=Va._createAfter(_i68);case 17:_context25.next=4;break;case 19:_context25.next=24;break;case 21:_context25.prev=21,_context25.t4=_context25.catch(2),_iterator198.e(_context25.t4);case 24:return _context25.prev=24,_iterator198.f(),_context25.finish(24);case 27:if(_context25.t5=n.isEqual(o),_context25.t5){_context25.next=31;break}return _context25.next=31,new Wa(n,o);case 31:case"end":return _context25.stop()}}),_getValidRangesForRange,this,[[2,21,24,27]])}))}]),zc}();he(zc,re);var Pc=function(){function Pc(t){if(_classCallCheck(this,Pc),t instanceof Pc)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),this._items=t.map(Yc)}return _createClass(Pc,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(t){var e=new Pc([t]);return e._items=[].concat(_toConsumableArray(this._items),_toConsumableArray(e._items)),e}},{key:"getItem",value:function(t){return this._items[t]}},{key:"getNames",value:regeneratorRuntime.mark((function getNames(){return regeneratorRuntime.wrap((function(_context26){for(;;)switch(_context26.prev=_context26.next){case 0:return _context26.delegateYield(this._items.map((function(t){return t.name})),"t0",1);case 1:case"end":return _context26.stop()}}),getNames,this)}))},{key:"endsWith",value:function(t){return Array.from(this.getNames()).join(" ").endsWith(t)}},{key:"startsWith",value:function(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}]),Pc}();function Lc(t,e){var n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){var _step199,_iterator199=_createForOfIteratorHelper(t);try{for(_iterator199.s();!(_step199=_iterator199.n()).done;){var _step200,_n127=_step199.value,_iterator200=_createForOfIteratorHelper(Object.keys(_n127).filter((function(t){return t.startsWith("is")})));try{for(_iterator200.s();!(_step200=_iterator200.n()).done;){var _o70=_step200.value;e[_o70]=_n127[_o70]}}catch(err){_iterator200.e(err)}finally{_iterator200.f()}}}catch(err){_iterator199.e(err)}finally{_iterator199.f()}}(t,n),Wc(t,n,"allowIn"),Wc(t,n,"allowContentOf"),Wc(t,n,"allowWhere"),Wc(t,n,"allowAttributes"),Wc(t,n,"allowAttributesOf"),Wc(t,n,"allowChildren"),Wc(t,n,"inheritTypesFrom"),function(t,e){var _step201,_iterator201=_createForOfIteratorHelper(t);try{for(_iterator201.s();!(_step201=_iterator201.n()).done;){var _t147=_step201.value.inheritAllFrom;_t147&&(e.allowContentOf.push(_t147),e.allowWhere.push(_t147),e.allowAttributesOf.push(_t147),e.inheritTypesFrom.push(_t147))}}catch(err){_iterator201.e(err)}finally{_iterator201.f()}}(t,n),n}function Oc(t,e){var _step202,n=t[e],_iterator202=_createForOfIteratorHelper(n.allowChildren);try{for(_iterator202.s();!(_step202=_iterator202.n()).done;){var _n129=t[_step202.value];_n129&&_n129.allowIn.push(e)}}catch(err){_iterator202.e(err)}finally{_iterator202.f()}n.allowChildren.length=0}function Rc(t,e){var _step203,_iterator203=_createForOfIteratorHelper(t[e].allowContentOf);try{for(_iterator203.s();!(_step203=_iterator203.n()).done;){var _n130=_step203.value;t[_n130]&&Gc(t,_n130).forEach((function(t){t.allowIn.push(e)}))}}catch(err){_iterator203.e(err)}finally{_iterator203.f()}delete t[e].allowContentOf}function jc(t,e){var _step204,_iterator204=_createForOfIteratorHelper(t[e].allowWhere);try{for(_iterator204.s();!(_step204=_iterator204.n()).done;){var _o72=t[_step204.value];if(_o72){var _t$e$allowIn,_n132=_o72.allowIn;(_t$e$allowIn=t[e].allowIn).push.apply(_t$e$allowIn,_toConsumableArray(_n132))}}}catch(err){_iterator204.e(err)}finally{_iterator204.f()}delete t[e].allowWhere}function Fc(t,e){var _step205,_iterator205=_createForOfIteratorHelper(t[e].allowAttributesOf);try{for(_iterator205.s();!(_step205=_iterator205.n()).done;){var _o73=t[_step205.value];if(_o73){var _t$e$allowAttributes,_n134=_o73.allowAttributes;(_t$e$allowAttributes=t[e].allowAttributes).push.apply(_t$e$allowAttributes,_toConsumableArray(_n134))}}}catch(err){_iterator205.e(err)}finally{_iterator205.f()}delete t[e].allowAttributesOf}function Vc(t,e){var _step206,n=t[e],_iterator206=_createForOfIteratorHelper(n.inheritTypesFrom);try{for(_iterator206.s();!(_step206=_iterator206.n()).done;){var _o74=t[_step206.value];if(_o74){var _step207,_iterator207=_createForOfIteratorHelper(Object.keys(_o74).filter((function(t){return t.startsWith("is")})));try{for(_iterator207.s();!(_step207=_iterator207.n()).done;){var _e147=_step207.value;_e147 in n||(n[_e147]=_o74[_e147])}}catch(err){_iterator207.e(err)}finally{_iterator207.f()}}}}catch(err){_iterator206.e(err)}finally{_iterator206.f()}delete n.inheritTypesFrom}function Hc(t,e){var n=t[e],o=n.allowIn.filter((function(e){return t[e]}));n.allowIn=Array.from(new Set(o))}function Uc(t,e){var _step208,_iterator208=_createForOfIteratorHelper(t[e].allowIn);try{for(_iterator208.s();!(_step208=_iterator208.n()).done;){t[_step208.value].allowChildren.push(e)}}catch(err){_iterator208.e(err)}finally{_iterator208.f()}}function qc(t,e){var n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Wc(t,e,n){var _step209,_iterator209=_createForOfIteratorHelper(t);try{for(_iterator209.s();!(_step209=_iterator209.n()).done;){var _e$n,_o76=_step209.value;"string"==typeof _o76[n]?e[n].push(_o76[n]):Array.isArray(_o76[n])&&(_e$n=e[n]).push.apply(_e$n,_toConsumableArray(_o76[n]))}}catch(err){_iterator209.e(err)}finally{_iterator209.f()}}function Gc(t,e){var o,n=t[e];return(o=t,Object.keys(o).map((function(t){return o[t]}))).filter((function(t){return t.allowIn.includes(n.name)}))}function Yc(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",getAttributeKeys:regeneratorRuntime.mark((function getAttributeKeys(){return regeneratorRuntime.wrap((function(_context27){for(;;)switch(_context27.prev=_context27.next){case 0:case"end":return _context27.stop()}}),getAttributeKeys)})),getAttribute:function(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:regeneratorRuntime.mark((function getAttributeKeys(){return regeneratorRuntime.wrap((function(_context28){for(;;)switch(_context28.prev=_context28.next){case 0:return _context28.delegateYield(t.getAttributeKeys(),"t0",1);case 1:case"end":return _context28.stop()}}),getAttributeKeys)})),getAttribute:function(e){return t.getAttribute(e)}}}function Qc(t,e,n){var _step210,_iterator210=_createForOfIteratorHelper(e.getAttributeKeys());try{for(_iterator210.s();!(_step210=_iterator210.n()).done;){var _o77=_step210.value;t.checkAttribute(e,_o77)||n.removeAttribute(_o77,e)}}catch(err){_iterator210.e(err)}finally{_iterator210.f()}}var Kc=function(){function Kc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Kc),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return _createClass(Kc,[{key:"convert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",t),this._modelCursor=function(t,e){var n,_step211,_iterator211=_createForOfIteratorHelper(new Pc(t));try{for(_iterator211.s();!(_step211=_iterator211.n()).done;){var _step212,_o78=_step211.value,_t149={},_iterator212=_createForOfIteratorHelper(_o78.getAttributeKeys());try{for(_iterator212.s();!(_step212=_iterator212.n()).done;){var _e148=_step212.value;_t149[_e148]=_o78.getAttribute(_e148)}}catch(err){_iterator212.e(err)}finally{_iterator212.f()}var _i69=e.createElement(_o78.name,_t149);n&&e.append(_i69,n),n=Va._createAt(_i69,0)}}catch(err){_iterator211.e(err)}finally{_iterator211.f()}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Nc.createFrom(t),this.conversionApi.store={};var _this$_convertItem=this._convertItem(t,this._modelCursor),o=_this$_convertItem.modelRange,i=e.createDocumentFragment();if(o){this._removeEmptyElements();for(var _i70=0,_Array$from4=Array.from(this._modelCursor.parent.getChildren());_i70<_Array$from4.length;_i70++){var _t150=_Array$from4[_i70];e.append(_t150,i)}i.markers=function(t,e){var _step213,n=new Set,o=new Map,_iterator213=_createForOfIteratorHelper(Wa._createIn(t).getItems());try{for(_iterator213.s();!(_step213=_iterator213.n()).done;){var _t151=_step213.value;"$marker"==_t151.name&&n.add(_t151)}}catch(err){_iterator213.e(err)}finally{_iterator213.f()}var _step214,_iterator214=_createForOfIteratorHelper(n);try{for(_iterator214.s();!(_step214=_iterator214.n()).done;){var _t152=_step214.value,_n135=_t152.getAttribute("data-name"),_i71=e.createPositionBefore(_t152);o.has(_n135)?o.get(_n135).end=_i71.clone():o.set(_n135,new Wa(_i71.clone())),e.remove(_t152)}}catch(err){_iterator214.e(err)}finally{_iterator214.f()}return o}(i,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}},{key:"_convertItem",value:function(t,e){var n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Wa))throw new a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(t,e){for(var n=e.is("position")?e:Va._createAt(e,0),o=new Wa(n),_i72=0,_Array$from5=Array.from(t.getChildren());_i72<_Array$from5.length;_i72++){var _e149=_Array$from5[_i72],_t153=this._convertItem(_e149,n);_t153.modelRange instanceof Wa&&(o.end=_t153.modelRange.end,n=_t153.modelCursor)}return{modelRange:o,modelCursor:n}}},{key:"_safeInsert",value:function(t,e){var n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}},{key:"_updateConversionResult",value:function(t,e){var n=this._getSplitParts(t),o=this.conversionApi.writer;e.modelRange||(e.modelRange=o.createRange(o.createPositionBefore(t),o.createPositionAfter(n[n.length-1])));var i=this._cursorParents.get(t);e.modelCursor=i?o.createPositionAt(i,0):e.modelRange.end}},{key:"_splitToAllowedParent",value:function(t,e){var _this$conversionApi=this.conversionApi,n=_this$conversionApi.schema,o=_this$conversionApi.writer,i=n.findAllowedParent(e,t);if(i){if(i===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return Cc(e,t,n)?{position:_c(e,o)}:null;var _step215,r=this.conversionApi.writer.split(e,i),s=[],_iterator215=_createForOfIteratorHelper(r.range.getWalker());try{for(_iterator215.s();!(_step215=_iterator215.n()).done;){var _t154=_step215.value;if("elementEnd"==_t154.type)s.push(_t154.item);else{var _e150=s.pop(),_n136=_t154.item;this._registerSplitPair(_e150,_n136)}}}catch(err){_iterator215.e(err)}finally{_iterator215.f()}var a=r.range.end.parent;return this._cursorParents.set(t,a),{position:r.position,cursorParent:a}}},{key:"_registerSplitPair",value:function(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);var n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}},{key:"_getSplitParts",value:function(t){return this._splitParts.has(t)?this._splitParts.get(t):[t]}},{key:"_removeEmptyElements",value:function(){var _step216,t=!1,_iterator216=_createForOfIteratorHelper(this._splitParts.keys());try{for(_iterator216.s();!(_step216=_iterator216.n()).done;){var _e151=_step216.value;_e151.isEmpty&&(this.conversionApi.writer.remove(_e151),this._splitParts.delete(_e151),t=!0)}}catch(err){_iterator216.e(err)}finally{_iterator216.f()}t&&this._removeEmptyElements()}}]),Kc}();he(Kc,f);var $c=function(){function $c(){_classCallCheck(this,$c)}return _createClass($c,[{key:"getHtml",value:function(t){var e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}]),$c}(),Zc=function(){function Zc(t){_classCallCheck(this,Zc),this.domParser=new DOMParser,this.domConverter=new us(t,{renderingMode:"data"}),this.htmlWriter=new $c}return _createClass(Zc,[{key:"toData",value:function(t){var e=this.domConverter.viewToDom(t,document);return this.htmlWriter.getHtml(e)}},{key:"toView",value:function(t){var e=this._toDom(t);return this.domConverter.domToView(e)}},{key:"registerRawContentMatcher",value:function(t){this.domConverter.registerRawContentMatcher(t)}},{key:"useFillerType",value:function(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t="<body>".concat(t,"</body>"));for(var e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),o=e.body.childNodes;o.length>0;)n.appendChild(o[0]);return n}}]),Zc}(),Jc=function(){function Jc(t,e){var _this62=this;_classCallCheck(this,Jc),this.model=t,this.mapper=new Ga,this.downcastDispatcher=new Ka({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(function(t,e,n){if(n.consumable.consume(e.item,"insert")){var o=n.writer,i=n.mapper.toViewPosition(e.range.start),r=o.createText(e.item.data);o.insert(i,r)}}),{priority:"lowest"}),this.upcastDispatcher=new Kc({schema:t.schema}),this.viewDocument=new Ji(e),this.stylesProcessor=e,this.htmlProcessor=new Zc(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new _r(this.viewDocument),this.upcastDispatcher.on("text",(function(t,e,_ref20){var n=_ref20.schema,o=_ref20.consumable,i=_ref20.writer,r=e.modelCursor;if(o.test(e.viewItem)){if(!n.checkChild(r,"$text")){if(!Cc(r,"$text",n))return;r=_c(r,i)}o.consume(e.viewItem);var s=i.createText(e.viewItem.data);i.insert(s,r),e.modelRange=i.createRange(r,r.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",(function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var _n$convertChildren=n.convertChildren(e.viewItem,e.modelCursor),_t155=_n$convertChildren.modelRange,_o79=_n$convertChildren.modelCursor;e.modelRange=_t155,e.modelCursor=_o79}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var _n$convertChildren2=n.convertChildren(e.viewItem,e.modelCursor),_t156=_n$convertChildren2.modelRange,_o80=_n$convertChildren2.modelCursor;e.modelRange=_t156,e.modelCursor=_o80}}),{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.decorate("get"),this.on("init",(function(){_this62.fire("ready")}),{priority:"lowest"}),this.on("ready",(function(){_this62.model.enqueueChange({isUndoable:!1},Ac)}),{priority:"lowest"})}return _createClass(Jc,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_t$rootName=t.rootName,e=void 0===_t$rootName?"main":_t$rootName,_t$trim=t.trim,n=void 0===_t$trim?"empty":_t$trim;if(!this._checkIfRootsExists([e]))throw new a("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}},{key:"stringify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toView(t,e);return this.processor.toData(n)}},{key:"toView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();var i=Wa._createIn(t),r=new Cr(n);this.mapper.bindElements(t,r),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(i,o);var _step218,s=t.is("documentFragment")?Array.from(t.markers):function(t){var e=[],n=t.root.document;if(!n)return[];var _step217,o=Wa._createIn(t),_iterator217=_createForOfIteratorHelper(n.model.markers);try{for(_iterator217.s();!(_step217=_iterator217.n()).done;){var _t157=_step217.value,_n137=_t157.getRange(),_i73=_n137.isCollapsed,_r23=_n137.start.isEqual(o.start)||_n137.end.isEqual(o.end);if(_i73&&_r23)e.push([_t157.name,_n137]);else{var _i74=o.getIntersection(_n137);_i74&&e.push([_t157.name,_i74])}}}catch(err){_iterator217.e(err)}finally{_iterator217.f()}return e.sort((function(_ref21,_ref22){var _ref23=_slicedToArray(_ref21,2),t=_ref23[0],e=_ref23[1],_ref24=_slicedToArray(_ref22,2),n=_ref24[0],o=_ref24[1];if("after"!==e.end.compareWith(o.start))return 1;if("before"!==e.start.compareWith(o.end))return-1;switch(e.start.compareWith(o.start)){case"before":return 1;case"after":return-1;default:switch(e.end.compareWith(o.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(t)}}}))}(t),_iterator218=_createForOfIteratorHelper(s);try{for(_iterator218.s();!(_step218=_iterator218.n()).done;){var _step218$value=_slicedToArray(_step218.value,2),_t158=_step218$value[0],_e152=_step218$value[1];this.downcastDispatcher.convertMarkerAdd(_t158,_e152,o)}}catch(err){_iterator218.e(err)}finally{_iterator218.f()}return delete this.downcastDispatcher.conversionApi.options,r}},{key:"init",value:function(t){var _this63=this;if(this.model.document.version)throw new a("datacontroller-init-document-not-empty",this);var e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(function(t){for(var _i75=0,_Object$keys2=Object.keys(e);_i75<_Object$keys2.length;_i75++){var _n138=_Object$keys2[_i75],_o81=_this63.model.document.getRoot(_n138);t.insert(_this63.parse(e[_n138],_o81),_o81,0)}})),Promise.resolve()}},{key:"set",value:function(t){var _this64=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new a("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},(function(t){t.setSelection(null),t.removeSelectionAttribute(_this64.model.document.selection.getAttributeKeys());for(var _i76=0,_Object$keys3=Object.keys(n);_i76<_Object$keys3.length;_i76++){var _e153=_Object$keys3[_i76],_o82=_this64.model.document.getRoot(_e153);t.remove(t.createRangeIn(_o82)),t.insert(_this64.parse(n[_e153],_o82),_o82,0)}}))}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(t);return this.toModel(n,e)}},{key:"toModel",value:function(t){var _this65=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(n){return _this65.upcastDispatcher.convert(t,n,e)}))}},{key:"addStyleProcessorRules",value:function(t){t(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(t){var _step219,_iterator219=_createForOfIteratorHelper(t);try{for(_iterator219.s();!(_step219=_iterator219.n()).done;){var _e154=_step219.value;if(!this.model.document.getRootNames().includes(_e154))return!1}}catch(err){_iterator219.e(err)}finally{_iterator219.f()}return!0}}]),Jc}();he(Jc,re);var Xc=function(){function Xc(t,e){_classCallCheck(this,Xc),this._helpers=new Map,this._downcast=To(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=To(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return _createClass(Xc,[{key:"addAlias",value:function(t,e){var n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}},{key:"for",value:function(t){if(!this._helpers.has(t))throw new a("conversion-for-unknown-group",this);return this._helpers.get(t)}},{key:"elementToElement",value:function(t){this.for("downcast").elementToElement(t);var _step220,_iterator220=_createForOfIteratorHelper(tl(t));try{for(_iterator220.s();!(_step220=_iterator220.n()).done;){var _step220$value=_step220.value,_e155=_step220$value.model,_n139=_step220$value.view;this.for("upcast").elementToElement({model:_e155,view:_n139,converterPriority:t.converterPriority})}}catch(err){_iterator220.e(err)}finally{_iterator220.f()}}},{key:"attributeToElement",value:function(t){this.for("downcast").attributeToElement(t);var _step221,_iterator221=_createForOfIteratorHelper(tl(t));try{for(_iterator221.s();!(_step221=_iterator221.n()).done;){var _step221$value=_step221.value,_e156=_step221$value.model,_n140=_step221$value.view;this.for("upcast").elementToAttribute({view:_n140,model:_e156,converterPriority:t.converterPriority})}}catch(err){_iterator221.e(err)}finally{_iterator221.f()}}},{key:"attributeToAttribute",value:function(t){this.for("downcast").attributeToAttribute(t);var _step222,_iterator222=_createForOfIteratorHelper(tl(t));try{for(_iterator222.s();!(_step222=_iterator222.n()).done;){var _step222$value=_step222.value,_e157=_step222$value.model,_n141=_step222$value.view;this.for("upcast").attributeToAttribute({view:_n141,model:_e157})}}catch(err){_iterator222.e(err)}finally{_iterator222.f()}}},{key:"_createConversionHelpers",value:function(_ref25){var t=_ref25.name,e=_ref25.dispatchers,n=_ref25.isDowncast;if(this._helpers.has(t))throw new a("conversion-group-exists",this);var o=n?new gc(e):new vc(e);this._helpers.set(t,o)}}]),Xc}();function tl(t){var _iterator223,_step223,_e158,_n142,_o83,_i77;return regeneratorRuntime.wrap((function(_context29){for(;;)switch(_context29.prev=_context29.next){case 0:if(!t.model.values){_context29.next=20;break}_iterator223=_createForOfIteratorHelper(t.model.values),_context29.prev=2,_iterator223.s();case 4:if((_step223=_iterator223.n()).done){_context29.next=10;break}return _e158=_step223.value,_n142={key:t.model.key,value:_e158},_o83=t.view[_e158],_i77=t.upcastAlso?t.upcastAlso[_e158]:void 0,_context29.delegateYield(el(_n142,_o83,_i77),"t0",8);case 8:_context29.next=4;break;case 10:_context29.next=15;break;case 12:_context29.prev=12,_context29.t1=_context29.catch(2),_iterator223.e(_context29.t1);case 15:return _context29.prev=15,_iterator223.f(),_context29.finish(15);case 18:_context29.next=21;break;case 20:return _context29.delegateYield(el(t.model,t.view,t.upcastAlso),"t2",21);case 21:case"end":return _context29.stop()}}),_marked,null,[[2,12,15,18]])}function el(t,e,n){var _iterator224,_step224,_e159;return regeneratorRuntime.wrap((function(_context30){for(;;)switch(_context30.prev=_context30.next){case 0:return _context30.next=2,{model:t,view:e};case 2:if(!n){_context30.next=20;break}_iterator224=_createForOfIteratorHelper(To(n)),_context30.prev=4,_iterator224.s();case 6:if((_step224=_iterator224.n()).done){_context30.next=12;break}return _e159=_step224.value,_context30.next=10,{model:t,view:_e159};case 10:_context30.next=6;break;case 12:_context30.next=17;break;case 14:_context30.prev=14,_context30.t0=_context30.catch(4),_iterator224.e(_context30.t0);case 17:return _context30.prev=17,_iterator224.f(),_context30.finish(17);case 20:case"end":return _context30.stop()}}),_marked2,null,[[4,14,17,20]])}var nl=function(){function nl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,nl),"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},c("batch-constructor-deprecated-string-type"));var _t159=t,_t159$isUndoable=_t159.isUndoable,e=void 0===_t159$isUndoable||_t159$isUndoable,_t159$isLocal=_t159.isLocal,n=void 0===_t159$isLocal||_t159$isLocal,_t159$isUndo=_t159.isUndo,o=void 0!==_t159$isUndo&&_t159$isUndo,_t159$isTyping=_t159.isTyping,i=void 0!==_t159$isTyping&&_t159$isTyping;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=o,this.isTyping=i}return _createClass(nl,[{key:"type",get:function(){return c("batch-type-deprecated"),"default"}},{key:"baseVersion",get:function(){var _step225,_iterator225=_createForOfIteratorHelper(this.operations);try{for(_iterator225.s();!(_step225=_iterator225.n()).done;){var _t160=_step225.value;if(null!==_t160.baseVersion)return _t160.baseVersion}}catch(err){_iterator225.e(err)}finally{_iterator225.f()}return null}},{key:"addOperation",value:function(t){return t.batch=this,this.operations.push(t),t}}]),nl}(),ol=function(){function ol(t){_classCallCheck(this,ol),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return _createClass(ol,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(t){return new this(t.baseVersion)}}]),ol}(),il=function(){function il(t){_classCallCheck(this,il),this.markers=new Map,this._children=new Oa,t&&this._insertChild(0,t)}return _createClass(il,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(t){return"documentFragment"===t||"model:documentFragment"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(t){var _step226,e=this,_iterator226=_createForOfIteratorHelper(t);try{for(_iterator226.s();!(_step226=_iterator226.n()).done;){var _n143=_step226.value;e=e.getChild(e.offsetToIndex(_n143))}}catch(err){_iterator226.e(err)}finally{_iterator226.f()}return e}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"toJSON",value:function(){var _step227,t=[],_iterator227=_createForOfIteratorHelper(this._children);try{for(_iterator227.s();!(_step227=_iterator227.n()).done;){var _e160=_step227.value;t.push(_e160.toJSON())}}catch(err){_iterator227.e(err)}finally{_iterator227.f()}return t}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var _step228,n=function(t){return"string"==typeof t?[new Pa(t)]:(Do(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new Pa(t):t instanceof La?new Pa(t.data,t.getAttributes()):t})))}(e),_iterator228=_createForOfIteratorHelper(n);try{for(_iterator228.s();!(_step228=_iterator228.n()).done;){var _t161=_step228.value;null!==_t161.parent&&_t161._remove(),_t161.parent=this}}catch(err){_iterator228.e(err)}finally{_iterator228.f()}this._children._insertNodes(t,n)}},{key:"_removeChildren",value:function(t){var _step229,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._children._removeNodes(t,e),_iterator229=_createForOfIteratorHelper(n);try{for(_iterator229.s();!(_step229=_iterator229.n()).done;){var _t162=_step229.value;_t162.parent=null}}catch(err){_iterator229.e(err)}finally{_iterator229.f()}return n}}],[{key:"fromJSON",value:function(t){var _step230,e=[],_iterator230=_createForOfIteratorHelper(t);try{for(_iterator230.s();!(_step230=_iterator230.n()).done;){var _n144=_step230.value;_n144.name?e.push(Ra.fromJSON(_n144)):e.push(Pa.fromJSON(_n144))}}catch(err){_iterator230.e(err)}finally{_iterator230.f()}return new il(e)}}]),il}();function rl(t,e){var n=(e=cl(e)).reduce((function(t,e){return t+e.offsetSize}),0),o=t.parent;dl(t);var i=t.index;return o._insertChild(i,e),ll(o,i+e.length),ll(o,i),new Wa(t,t.getShiftedBy(n))}function sl(t){if(!t.isFlat)throw new a("operation-utils-remove-range-not-flat",this);var e=t.start.parent;dl(t.start),dl(t.end);var n=e._removeChildren(t.start.index,t.end.index-t.start.index);return ll(e,t.start.index),n}function al(t,e){if(!t.isFlat)throw new a("operation-utils-move-range-not-flat",this);var n=sl(t);return rl(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function cl(t){var e=[];t instanceof Array||(t=[t]);for(var _n145=0;_n145<t.length;_n145++)if("string"==typeof t[_n145])e.push(new Pa(t[_n145]));else if(t[_n145]instanceof La)e.push(new Pa(t[_n145].data,t[_n145].getAttributes()));else if(t[_n145]instanceof il||t[_n145]instanceof Oa){var _step231,_iterator231=_createForOfIteratorHelper(t[_n145]);try{for(_iterator231.s();!(_step231=_iterator231.n()).done;){var _o84=_step231.value;e.push(_o84)}}catch(err){_iterator231.e(err)}finally{_iterator231.f()}}else t[_n145]instanceof za&&e.push(t[_n145]);for(var _t163=1;_t163<e.length;_t163++){var _n146=e[_t163],_o85=e[_t163-1];_n146 instanceof Pa&&_o85 instanceof Pa&&hl(_n146,_o85)&&(e.splice(_t163-1,2,new Pa(_o85.data+_n146.data,_o85.getAttributes())),_t163--)}return e}function ll(t,e){var n=t.getChild(e-1),o=t.getChild(e);if(n&&o&&n.is("$text")&&o.is("$text")&&hl(n,o)){var _i78=new Pa(n.data+o.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,_i78)}}function dl(t){var e=t.textNode,n=t.parent;if(e){var _o86=t.offset-e.startOffset,_i79=e.index;n._removeChildren(_i79,1);var _r24=new Pa(e.data.substr(0,_o86),e.getAttributes()),_s16=new Pa(e.data.substr(_o86),e.getAttributes());n._insertChild(_i79,[_r24,_s16])}}function hl(t,e){var _step232,n=t.getAttributes(),o=e.getAttributes(),_iterator232=_createForOfIteratorHelper(n);try{for(_iterator232.s();!(_step232=_iterator232.n()).done;){var _t164=_step232.value;if(_t164[1]!==e.getAttribute(_t164[0]))return!1;o.next()}}catch(err){_iterator232.e(err)}finally{_iterator232.f()}return o.next().done}var ul=function(t,e){return Fs(t,e)},gl=function(_ol){_inherits(gl,_ol);var _super28=_createSuper(gl);function gl(t,e,n,o,i){var _this66;return _classCallCheck(this,gl),(_this66=_super28.call(this,i)).range=t.clone(),_this66.key=e,_this66.oldValue=void 0===n?null:n,_this66.newValue=void 0===o?null:o,_this66}return _createClass(gl,[{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new gl(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new gl(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(gl.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new a("attribute-operation-range-not-flat",this);var _step233,_iterator233=_createForOfIteratorHelper(this.range.getItems({shallow:!0}));try{for(_iterator233.s();!(_step233=_iterator233.n()).done;){var _t165=_step233.value;if(null!==this.oldValue&&!ul(_t165.getAttribute(this.key),this.oldValue))throw new a("attribute-operation-wrong-old-value",this,{item:_t165,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&_t165.hasAttribute(this.key))throw new a("attribute-operation-attribute-exists",this,{node:_t165,key:this.key})}}catch(err){_iterator233.e(err)}finally{_iterator233.f()}}},{key:"_execute",value:function(){ul(this.oldValue,this.newValue)||function(t,e,n){dl(t.start),dl(t.end);var _step234,_iterator234=_createForOfIteratorHelper(t.getItems({shallow:!0}));try{for(_iterator234.s();!(_step234=_iterator234.n()).done;){var _o87=_step234.value,_t166=_o87.is("$textProxy")?_o87.textNode:_o87;null!==n?_t166._setAttribute(e,n):_t166._removeAttribute(e),ll(_t166.parent,_t166.index)}}catch(err){_iterator234.e(err)}finally{_iterator234.f()}ll(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(t,e){return new gl(Wa.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),gl}(ol),ml=function(_ol2){_inherits(ml,_ol2);var _super29=_createSuper(ml);function ml(t,e){var _this67;return _classCallCheck(this,ml),(_this67=_super29.call(this,null)).sourcePosition=t.clone(),_this67.howMany=e,_this67}return _createClass(ml,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(ml.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new a("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){sl(Wa._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),ml}(ol),pl=function(_ol3){_inherits(pl,_ol3);var _super30=_createSuper(pl);function pl(t,e,n,o){var _this68;return _classCallCheck(this,pl),(_this68=_super30.call(this,o)).sourcePosition=t.clone(),_this68.sourcePosition.stickiness="toNext",_this68.howMany=e,_this68.targetPosition=n.clone(),_this68.targetPosition.stickiness="toNone",_this68}return _createClass(pl,[{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new a("move-operation-nodes-do-not-exist",this);if(t===e&&n<o&&o<n+this.howMany)throw new a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Oo(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var _t167=this.sourcePosition.path.length-1;if(this.targetPosition.path[_t167]>=n&&this.targetPosition.path[_t167]<n+this.howMany)throw new a("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){al(Wa._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(pl.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(t,e){var n=Va.fromJSON(t.sourcePosition,e),o=Va.fromJSON(t.targetPosition,e);return new this(n,t.howMany,o,t.baseVersion)}}]),pl}(ol),fl=function(_ol4){_inherits(fl,_ol4);var _super31=_createSuper(fl);function fl(t,e,n){var _this69;return _classCallCheck(this,fl),(_this69=_super31.call(this,n)).position=t.clone(),_this69.position.stickiness="toNone",_this69.nodes=new Oa(cl(e)),_this69.shouldReceiveAttributes=!1,_this69}return _createClass(fl,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var t=new Oa(_toConsumableArray(this.nodes).map((function(t){return t._clone(!0)}))),e=new fl(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,e=new Va(t,[0]);return new pl(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new a("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new Oa(_toConsumableArray(t).map((function(t){return t._clone(!0)}))),rl(this.position,t)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(fl.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(t,e){var _step235,n=[],_iterator235=_createForOfIteratorHelper(t.nodes);try{for(_iterator235.s();!(_step235=_iterator235.n()).done;){var _e161=_step235.value;_e161.name?n.push(Ra.fromJSON(_e161)):n.push(Pa.fromJSON(_e161))}}catch(err){_iterator235.e(err)}finally{_iterator235.f()}var o=new fl(Va.fromJSON(t.position,e),n,t.baseVersion);return o.shouldReceiveAttributes=t.shouldReceiveAttributes,o}}]),fl}(ol),kl=function(_ol5){_inherits(kl,_ol5);var _super32=_createSuper(kl);function kl(t,e,n,o,i,r){var _this70;return _classCallCheck(this,kl),(_this70=_super32.call(this,r)).name=t,_this70.oldRange=e?e.clone():null,_this70.newRange=n?n.clone():null,_this70.affectsData=i,_this70._markers=o,_this70}return _createClass(kl,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new kl(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new kl(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(kl.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(t,e){return new kl(t.name,t.oldRange?Wa.fromJSON(t.oldRange,e):null,t.newRange?Wa.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}]),kl}(ol),bl=function(_ol6){_inherits(bl,_ol6);var _super33=_createSuper(bl);function bl(t,e,n,o){var _this71;return _classCallCheck(this,bl),(_this71=_super33.call(this,o)).position=t,_this71.position.stickiness="toNext",_this71.oldName=e,_this71.newName=n,_this71}return _createClass(bl,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new bl(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new bl(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof Ra))throw new a("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new a("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(bl.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(t,e){return new bl(Va.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}]),bl}(ol),wl=function(_ol7){_inherits(wl,_ol7);var _super34=_createSuper(wl);function wl(t,e,n,o,i){var _this72;return _classCallCheck(this,wl),(_this72=_super34.call(this,i)).root=t,_this72.key=e,_this72.oldValue=n,_this72.newValue=o,_this72}return _createClass(wl,[{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new wl(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new wl(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(wl.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(t,e){if(!e.getRoot(t.root))throw new a("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new wl(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),wl}(ol),Al=function(_ol8){_inherits(Al,_ol8);var _super35=_createSuper(Al);function Al(t,e,n,o,i){var _this73;return _classCallCheck(this,Al),(_this73=_super35.call(this,i)).sourcePosition=t.clone(),_this73.sourcePosition.stickiness="toPrevious",_this73.howMany=e,_this73.targetPosition=n.clone(),_this73.targetPosition.stickiness="toNext",_this73.graveyardPosition=o.clone(),_this73}return _createClass(Al,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new Va(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Wa(this.sourcePosition,t)}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Va(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new Cl(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new a("merge-operation-source-position-invalid",this);if(!e.parent)throw new a("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new a("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent;al(Wa._createIn(t),this.targetPosition),al(Wa._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(Al.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(t,e){var n=Va.fromJSON(t.sourcePosition,e),o=Va.fromJSON(t.targetPosition,e),i=Va.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,o,i,t.baseVersion)}}]),Al}(ol),Cl=function(_ol9){_inherits(Cl,_ol9);var _super36=_createSuper(Cl);function Cl(t,e,n,o,i){var _this74;return _classCallCheck(this,Cl),(_this74=_super36.call(this,i)).splitPosition=t.clone(),_this74.splitPosition.stickiness="toNext",_this74.howMany=e,_this74.insertionPosition=n,_this74.graveyardPosition=o?o.clone():null,_this74.graveyardPosition&&(_this74.graveyardPosition.stickiness="toNext"),_this74}return _createClass(Cl,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new Va(this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Wa(this.splitPosition,t)}},{key:"clone",value:function(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,e=new Va(t,[0]);return new Al(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new a("split-operation-position-invalid",this);if(!t.parent)throw new a("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new a("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)al(Wa._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var _e162=t._clone();rl(this.insertionPosition,_e162)}al(new Wa(Va._createAt(t,this.splitPosition.offset),Va._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(Cl.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(t){var e=t.path.slice(0,-1);return e[e.length-1]++,new Va(t.root,e,"toPrevious")}},{key:"fromJSON",value:function(t,e){var n=Va.fromJSON(t.splitPosition,e),o=Va.fromJSON(t.insertionPosition,e),i=t.graveyardPosition?Va.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,o,i,t.baseVersion)}}]),Cl}(ol),_l=function(_Ra){_inherits(_l,_Ra);var _super37=_createSuper(_l);function _l(t,e){var _this75,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return _classCallCheck(this,_l),(_this75=_super37.call(this,e))._document=t,_this75.rootName=n,_this75}return _createClass(_l,[{key:"document",get:function(){return this._document}},{key:"is",value:function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){return this.rootName}}]),_l}(Ra),vl=function(){function vl(t,e){_classCallCheck(this,vl),this.model=t,this.batch=e}return _createClass(vl,[{key:"createText",value:function(t,e){return new Pa(t,e)}},{key:"createElement",value:function(t,e){return new Ra(t,e)}},{key:"createDocumentFragment",value:function(){return new il}},{key:"cloneElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t._clone(e)}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(t instanceof Pa&&""==t.data)){var o=Va._createAt(e,n);if(t.parent){if(Il(t.root,o.root))return void this.move(Wa._createOn(t),o);if(t.root.document)throw new a("model-writer-insert-forbidden-move",this);this.remove(t)}var i=o.root.document?o.root.document.version:null,r=new fl(o,t,i);if(t instanceof Pa&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),t instanceof il){var _step236,_iterator236=_createForOfIteratorHelper(t.markers);try{for(_iterator236.s();!(_step236=_iterator236.n()).done;){var _step236$value=_slicedToArray(_step236.value,2),_e163=_step236$value[0],_n147=_step236$value[1],_t168=Va._createAt(_n147.root,0),_i80={range:new Wa(_n147.start._getCombined(_t168,o),_n147.end._getCombined(_t168,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(_e163)?this.updateMarker(_e163,_i80):this.addMarker(_e163,_i80)}}catch(err){_iterator236.e(err)}finally{_iterator236.f()}}}}},{key:"insertText",value:function(t,e,n,o){e instanceof il||e instanceof Ra||e instanceof Va?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,o)}},{key:"insertElement",value:function(t,e,n,o){e instanceof il||e instanceof Ra||e instanceof Va?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,o)}},{key:"append",value:function(t,e){this.insert(t,e,"end")}},{key:"appendText",value:function(t,e,n){e instanceof il||e instanceof Ra?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}},{key:"appendElement",value:function(t,e,n){e instanceof il||e instanceof Ra?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}},{key:"setAttribute",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Wa){var _step237,_iterator237=_createForOfIteratorHelper(n.getMinimalFlatRanges());try{for(_iterator237.s();!(_step237=_iterator237.n()).done;){yl(this,t,e,_step237.value)}}catch(err){_iterator237.e(err)}finally{_iterator237.f()}}else xl(this,t,e,n)}},{key:"setAttributes",value:function(t,e){var _step238,_iterator238=_createForOfIteratorHelper(Ho(t));try{for(_iterator238.s();!(_step238=_iterator238.n()).done;){var _step238$value=_slicedToArray(_step238.value,2),_n149=_step238$value[0],_o89=_step238$value[1];this.setAttribute(_n149,_o89,e)}}catch(err){_iterator238.e(err)}finally{_iterator238.f()}}},{key:"removeAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Wa){var _step239,_iterator239=_createForOfIteratorHelper(e.getMinimalFlatRanges());try{for(_iterator239.s();!(_step239=_iterator239.n()).done;){yl(this,t,null,_step239.value)}}catch(err){_iterator239.e(err)}finally{_iterator239.f()}}else xl(this,t,null,e)}},{key:"clearAttributes",value:function(t){var _this76=this;this._assertWriterUsedCorrectly();var e=function(t){var _step240,_iterator240=_createForOfIteratorHelper(t.getAttributeKeys());try{for(_iterator240.s();!(_step240=_iterator240.n()).done;){var _e165=_step240.value;_this76.removeAttribute(_e165,t)}}catch(err){_iterator240.e(err)}finally{_iterator240.f()}};if(t instanceof Wa){var _step241,_iterator241=_createForOfIteratorHelper(t.getItems());try{for(_iterator241.s();!(_step241=_iterator241.n()).done;){e(_step241.value)}}catch(err){_iterator241.e(err)}finally{_iterator241.f()}}else e(t)}},{key:"move",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Wa))throw new a("writer-move-invalid-range",this);if(!t.isFlat)throw new a("writer-move-range-not-flat",this);var o=Va._createAt(e,n);if(!o.isEqual(t.start)){if(this._addOperationForAffectedMarkers("move",t),!Il(t.root,o.root))throw new a("writer-move-different-document",this);var i=t.root.document?t.root.document.version:null,r=new pl(t.start,t.end.offset-t.start.offset,o,i);this.batch.addOperation(r),this.model.applyOperation(r)}}},{key:"remove",value:function(t){this._assertWriterUsedCorrectly();var _step242,_iterator242=_createForOfIteratorHelper((t instanceof Wa?t:Wa._createOn(t)).getMinimalFlatRanges().reverse());try{for(_iterator242.s();!(_step242=_iterator242.n()).done;){var _t169=_step242.value;this._addOperationForAffectedMarkers("move",_t169),Dl(_t169.start,_t169.end.offset-_t169.start.offset,this.batch,this.model)}}catch(err){_iterator242.e(err)}finally{_iterator242.f()}}},{key:"merge",value:function(t){this._assertWriterUsedCorrectly();var e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Ra))throw new a("writer-merge-no-element-before",this);if(!(n instanceof Ra))throw new a("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}},{key:"createPositionFromPath",value:function(t,e,n){return this.model.createPositionFromPath(t,e,n)}},{key:"createPositionAt",value:function(t,e){return this.model.createPositionAt(t,e)}},{key:"createPositionAfter",value:function(t){return this.model.createPositionAfter(t)}},{key:"createPositionBefore",value:function(t){return this.model.createPositionBefore(t)}},{key:"createRange",value:function(t,e){return this.model.createRange(t,e)}},{key:"createRangeIn",value:function(t){return this.model.createRangeIn(t)}},{key:"createRangeOn",value:function(t){return this.model.createRangeOn(t)}},{key:"createSelection",value:function(t,e,n){return this.model.createSelection(t,e,n)}},{key:"_mergeDetached",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;this.move(Wa._createIn(n),Va._createAt(e,"end")),this.remove(n)}},{key:"_merge",value:function(t){var e=Va._createAt(t.nodeBefore,"end"),n=Va._createAt(t.nodeAfter,0),o=t.root.document.graveyard,i=new Va(o,[0]),r=t.root.document.version,s=new Al(n,t.nodeAfter.maxOffset,e,i,r);this.batch.addOperation(s),this.model.applyOperation(s)}},{key:"rename",value:function(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Ra))throw new a("writer-rename-not-element-instance",this);var n=t.root.document?t.root.document.version:null,o=new bl(Va._createBefore(t),t.name,e,n);this.batch.addOperation(o),this.model.applyOperation(o)}},{key:"split",value:function(t,e){this._assertWriterUsedCorrectly();var n,o,i=t.parent;if(!i.parent)throw new a("writer-split-element-no-parent",this);if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new a("writer-split-invalid-limit-element",this);do{var _e166=i.root.document?i.root.document.version:null,_r25=i.maxOffset-t.offset,_s17=Cl.getInsertionPosition(t),_a9=new Cl(t,_r25,_s17,null,_e166);this.batch.addOperation(_a9),this.model.applyOperation(_a9),n||o||(n=i,o=t.parent.nextSibling),i=(t=this.createPositionAfter(t.parent)).parent}while(i!==e);return{position:t,range:new Wa(Va._createAt(n,"end"),Va._createAt(o,0))}}},{key:"wrap",value:function(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new a("writer-wrap-range-not-flat",this);var n=e instanceof Ra?e:new Ra(e);if(n.childCount>0)throw new a("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new a("writer-wrap-element-attached",this);this.insert(n,t.start);var o=new Wa(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(o,Va._createAt(n,0))}},{key:"unwrap",value:function(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new a("writer-unwrap-element-no-parent",this);this.move(Wa._createIn(t),this.createPositionAfter(t)),this.remove(t)}},{key:"addMarker",value:function(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new a("writer-addmarker-no-usingoperation",this);var n=e.usingOperation,o=e.range,i=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new a("writer-addmarker-marker-exists",this);if(!o)throw new a("writer-addmarker-no-range",this);return n?(El(this,t,null,o,i),this.model.markers.get(t)):this.model.markers._set(t,o,n,i)}},{key:"updateMarker",value:function(t,e){this._assertWriterUsedCorrectly();var n="string"==typeof t?t:t.name,o=this.model.markers.get(n);if(!o)throw new a("writer-updatemarker-marker-not-exists",this);if(e){var i="boolean"==typeof e.usingOperation,r="boolean"==typeof e.affectsData,s=r?e.affectsData:o.affectsData;if(!i&&!e.range&&!r)throw new a("writer-updatemarker-wrong-options",this);var c=o.getRange(),l=e.range?e.range:c;i&&e.usingOperation!==o.managedUsingOperations?e.usingOperation?El(this,n,null,l,s):(El(this,n,c,null,s),this.model.markers._set(n,l,void 0,s)):o.managedUsingOperations?El(this,n,c,l,s):this.model.markers._set(n,l,void 0,s)}else this.model.markers._refresh(o)}},{key:"removeMarker",value:function(t){this._assertWriterUsedCorrectly();var e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new a("writer-removemarker-no-marker",this);var n=this.model.markers.get(e);n.managedUsingOperations?El(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}},{key:"setSelection",value:function(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}},{key:"setSelectionAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else{var _step243,_iterator243=_createForOfIteratorHelper(Ho(t));try{for(_iterator243.s();!(_step243=_iterator243.n()).done;){var _step243$value=_slicedToArray(_step243.value,2),_e167=_step243$value[0],_n152=_step243$value[1];this._setSelectionAttribute(_e167,_n152)}}catch(err){_iterator243.e(err)}finally{_iterator243.f()}}}},{key:"removeSelectionAttribute",value:function(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else{var _step244,_iterator244=_createForOfIteratorHelper(t);try{for(_iterator244.s();!(_step244=_iterator244.n()).done;){var _e168=_step244.value;this._removeSelectionAttribute(_e168)}}catch(err){_iterator244.e(err)}finally{_iterator244.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(t){this.model.document.selection._restoreGravity(t)}},{key:"_setSelectionAttribute",value:function(t,e){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var _o90=cc._getStoreAttributeKey(t);this.setAttribute(_o90,e,n.anchor.parent)}n._setAttribute(t,e)}},{key:"_removeSelectionAttribute",value:function(t){var e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){var _n153=cc._getStoreAttributeKey(t);this.removeAttribute(_n153,e.anchor.parent)}e._removeAttribute(t)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new a("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(t,e){var _step245,_iterator245=_createForOfIteratorHelper(this.model.markers);try{for(_iterator245.s();!(_step245=_iterator245.n()).done;){var _n154=_step245.value;if(_n154.managedUsingOperations){var _o91=_n154.getRange(),_i81=!1;if("move"===t)_i81=e.containsPosition(_o91.start)||e.start.isEqual(_o91.start)||e.containsPosition(_o91.end)||e.end.isEqual(_o91.end);else{var _t170=e.nodeBefore,_n155=e.nodeAfter,_r26=_o91.start.parent==_t170&&_o91.start.isAtEnd,_s18=_o91.end.parent==_n155&&0==_o91.end.offset,_a10=_o91.end.nodeAfter==_n155,_c4=_o91.start.nodeAfter==_n155;_i81=_r26||_s18||_a10||_c4}_i81&&this.updateMarker(_n154.name,{range:_o91})}}}catch(err){_iterator245.e(err)}finally{_iterator245.f()}}}]),vl}();function yl(t,e,n,o){var s,a,c,_step246,i=t.model,r=i.document,l=o.start,_iterator246=_createForOfIteratorHelper(o.getWalker({shallow:!0}));try{for(_iterator246.s();!(_step246=_iterator246.n()).done;){var _t171=_step246.value;c=_t171.item.getAttribute(e),s&&a!=c&&(a!=n&&d(),l=s),s=_t171.nextPosition,a=c}}catch(err){_iterator246.e(err)}finally{_iterator246.f()}function d(){var o=new Wa(l,s),c=o.root.document?r.version:null,d=new gl(o,e,a,n,c);t.batch.addOperation(d),i.applyOperation(d)}s instanceof Va&&s!=l&&a!=n&&d()}function xl(t,e,n,o){var a,c,i=t.model,r=i.document,s=o.getAttribute(e);if(s!=n){if(o.root===o){var _t172=o.document?r.version:null;c=new wl(o,e,s,n,_t172)}else{var _i82=(a=new Wa(Va._createBefore(o),t.createPositionAfter(o))).root.document?r.version:null;c=new gl(a,e,s,n,_i82)}t.batch.addOperation(c),i.applyOperation(c)}}function El(t,e,n,o,i){var r=t.model,s=r.document,a=new kl(e,n,o,r.markers,i,s.version);t.batch.addOperation(a),r.applyOperation(a)}function Dl(t,e,n,o){var i;if(t.root.document){var _n156=o.document,_r27=new Va(_n156.graveyard,[0]);i=new pl(t,e,_r27,_n156.version)}else i=new ml(t,e);n.addOperation(i),o.applyOperation(i)}function Il(t,e){return t===e||t instanceof _l&&e instanceof _l}var Ml=function(){function Ml(t){_classCallCheck(this,Ml),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return _createClass(Ml,[{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}},{key:"refreshItem",value:function(t){if(!this._isInInsertedElement(t.parent)){this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);var _step247,e=Wa._createOn(t),_iterator247=_createForOfIteratorHelper(this._markerCollection.getMarkersIntersectingRange(e));try{for(_iterator247.s();!(_step247=_iterator247.n()).done;){var _t173=_step247.value,_e169=_t173.getRange();this.bufferMarkerChange(_t173.name,_e169,_e169,_t173.affectsData)}}catch(err){_iterator247.e(err)}finally{_iterator247.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var _step248,_iterator248=_createForOfIteratorHelper(t.range.getItems({shallow:!0}));try{for(_iterator248.s();!(_step248=_iterator248.n()).done;){var _e170=_step248.value;this._isInInsertedElement(_e170.parent)||this._markAttribute(_e170)}}catch(err){_iterator248.e(err)}finally{_iterator248.f()}break;case"remove":case"move":case"reinsert":if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;var _e171=this._isInInsertedElement(t.sourcePosition.parent),_n157=this._isInInsertedElement(t.targetPosition.parent);_e171||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),_n157||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break;case"rename":if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);var _step249,_e172=Wa._createFromPositionAndShift(t.position,1),_iterator249=_createForOfIteratorHelper(this._markerCollection.getMarkersIntersectingRange(_e172));try{for(_iterator249.s();!(_step249=_iterator249.n()).done;){var _t174=_step249.value,_e173=_t174.getRange();this.bufferMarkerChange(_t174.name,_e173,_e173,_t174.affectsData)}}catch(err){_iterator249.e(err)}finally{_iterator249.f()}break;case"split":var _e174=t.splitPosition.parent;this._isInInsertedElement(_e174)||this._markRemove(_e174,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break;case"merge":var _e175=t.sourcePosition.parent;this._isInInsertedElement(_e175.parent)||this._markRemove(_e175.parent,_e175.startOffset,1);var _n158=t.graveyardPosition.parent;this._markInsert(_n158,t.graveyardPosition.offset,1);var _o92=t.targetPosition.parent;this._isInInsertedElement(_o92)||this._markInsert(_o92,t.targetPosition.offset,_e175.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(t,e,n,o){var i=this._changedMarkers.get(t);i?(i.newRange=n,i.affectsData=o,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:o})}},{key:"getMarkersToRemove",value:function(){var _step250,t=[],_iterator250=_createForOfIteratorHelper(this._changedMarkers);try{for(_iterator250.s();!(_step250=_iterator250.n()).done;){var _step250$value=_slicedToArray(_step250.value,2),_e176=_step250$value[0],_n159=_step250$value[1];null!=_n159.oldRange&&t.push({name:_e176,range:_n159.oldRange})}}catch(err){_iterator250.e(err)}finally{_iterator250.f()}return t}},{key:"getMarkersToAdd",value:function(){var _step251,t=[],_iterator251=_createForOfIteratorHelper(this._changedMarkers);try{for(_iterator251.s();!(_step251=_iterator251.n()).done;){var _step251$value=_slicedToArray(_step251.value,2),_e177=_step251$value[0],_n160=_step251$value[1];null!=_n160.newRange&&t.push({name:_e177,range:_n160.newRange})}}catch(err){_iterator251.e(err)}finally{_iterator251.f()}return t}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(t){return{name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var _step252,_iterator252=_createForOfIteratorHelper(this._changedMarkers);try{for(_iterator252.s();!(_step252=_iterator252.n()).done;){if(_slicedToArray(_step252.value,2)[1].affectsData)return!0}}catch(err){_iterator252.e(err)}finally{_iterator252.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var _step253,e=[],_iterator253=_createForOfIteratorHelper(this._changesInElement.keys());try{for(_iterator253.s();!(_step253=_iterator253.n()).done;){var _step255,_t177=_step253.value,_n162=this._changesInElement.get(_t177).sort((function(t,e){return t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1})),_o94=this._elementSnapshots.get(_t177),_i84=Tl(_t177.getChildren()),_r29=Sl(_o94.length,_n162),_s20=0,_a12=0,_iterator255=_createForOfIteratorHelper(_r29);try{for(_iterator255.s();!(_step255=_iterator255.n()).done;){var _n163=_step255.value;if("i"===_n163)e.push(this._getInsertDiff(_t177,_s20,_i84[_s20].name)),_s20++;else if("r"===_n163)e.push(this._getRemoveDiff(_t177,_s20,_o94[_a12].name)),_a12++;else if("a"===_n163){var _e179,_n164=_i84[_s20].attributes,_r30=_o94[_a12].attributes,_c5=void 0;if("$text"==_i84[_s20].name)_c5=new Wa(Va._createAt(_t177,_s20),Va._createAt(_t177,_s20+1));else{var _e178=_t177.offsetToIndex(_s20);_c5=new Wa(Va._createAt(_t177,_s20),Va._createAt(_t177.getChild(_e178),0))}(_e179=e).push.apply(_e179,_toConsumableArray(this._getAttributesDiff(_c5,_r30,_n164))),_s20++,_a12++}else _s20++,_a12++}}catch(err){_iterator255.e(err)}finally{_iterator255.f()}}}catch(err){_iterator253.e(err)}finally{_iterator253.f()}e.sort((function(t,e){return t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1}));for(var _t176=1,_n161=0;_t176<e.length;_t176++){var _o93=e[_n161],_i83=e[_t176],_r28="remove"==_o93.type&&"remove"==_i83.type&&"$text"==_o93.name&&"$text"==_i83.name&&_o93.position.isEqual(_i83.position),_s19="insert"==_o93.type&&"insert"==_i83.type&&"$text"==_o93.name&&"$text"==_i83.name&&_o93.position.parent==_i83.position.parent&&_o93.position.offset+_o93.length==_i83.position.offset,_a11="attribute"==_o93.type&&"attribute"==_i83.type&&_o93.position.parent==_i83.position.parent&&_o93.range.isFlat&&_i83.range.isFlat&&_o93.position.offset+_o93.length==_i83.position.offset&&_o93.attributeKey==_i83.attributeKey&&_o93.attributeOldValue==_i83.attributeOldValue&&_o93.attributeNewValue==_i83.attributeNewValue;_r28||_s19||_a11?(_o93.length++,_a11&&(_o93.range.end=_o93.range.end.getShiftedBy(1)),e[_t176]=null):_n161=_t176}var _step254,_iterator254=_createForOfIteratorHelper(e=e.filter((function(t){return t})));try{for(_iterator254.s();!(_step254=_iterator254.n()).done;){var _t178=_step254.value;delete _t178.changeCount,"attribute"==_t178.type&&(delete _t178.position,delete _t178.length)}}catch(err){_iterator254.e(err)}finally{_iterator254.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.filter(Nl),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(t,e,n){var o={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o)}},{key:"_markRemove",value:function(t,e,n){var o={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o),this._removeAllNestedChanges(t,e,n)}},{key:"_markAttribute",value:function(t){var e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}},{key:"_markChange",value:function(t,e){this._makeSnapshot(t);var n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(var _t179=0;_t179<n.length;_t179++)n[_t179].howMany<1&&(n.splice(_t179,1),_t179--)}},{key:"_getChangesForElement",value:function(t){var e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}},{key:"_makeSnapshot",value:function(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Tl(t.getChildren()))}},{key:"_handleChange",value:function(t,e){t.nodesToHandle=t.howMany;var _step256,_iterator256=_createForOfIteratorHelper(e);try{for(_iterator256.s();!(_step256=_iterator256.n()).done;){var _n165=_step256.value,_o95=t.offset+t.howMany,_i85=_n165.offset+_n165.howMany;if("insert"==t.type&&("insert"==_n165.type&&(t.offset<=_n165.offset?_n165.offset+=t.howMany:t.offset<_i85&&(_n165.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==_n165.type&&t.offset<_n165.offset&&(_n165.offset+=t.howMany),"attribute"==_n165.type))if(t.offset<=_n165.offset)_n165.offset+=t.howMany;else if(t.offset<_i85){var _i86=_n165.howMany;_n165.howMany=t.offset-_n165.offset,e.unshift({type:"attribute",offset:_o95,howMany:_i86-_n165.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==_n165.type)if(_o95<=_n165.offset)_n165.offset-=t.howMany;else if(_o95<=_i85)if(t.offset<_n165.offset){var _e180=_o95-_n165.offset;_n165.offset=t.offset,_n165.howMany-=_e180,t.nodesToHandle-=_e180}else _n165.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=_n165.offset)t.nodesToHandle-=_n165.howMany,_n165.howMany=0;else if(t.offset<_i85){var _e181=_i85-t.offset;_n165.howMany-=_e181,t.nodesToHandle-=_e181}if("remove"==_n165.type&&(_o95<=_n165.offset?_n165.offset-=t.howMany:t.offset<_n165.offset&&(t.nodesToHandle+=_n165.howMany,_n165.howMany=0)),"attribute"==_n165.type)if(_o95<=_n165.offset)_n165.offset-=t.howMany;else if(t.offset<_n165.offset){var _e182=_o95-_n165.offset;_n165.offset=t.offset,_n165.howMany-=_e182}else if(t.offset<_i85)if(_o95<=_i85){var _o96=_n165.howMany;_n165.howMany=t.offset-_n165.offset;var _i87=_o96-_n165.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:_i87,count:this._changeCount++})}else _n165.howMany-=_i85-t.offset}if("attribute"==t.type){if("insert"==_n165.type)if(t.offset<_n165.offset&&_o95>_n165.offset){if(_o95>_i85){var _t180={type:"attribute",offset:_i85,howMany:_o95-_i85,count:this._changeCount++};this._handleChange(_t180,e),e.push(_t180)}t.nodesToHandle=_n165.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=_n165.offset&&t.offset<_i85&&(_o95>_i85?(t.nodesToHandle=_o95-_i85,t.offset=_i85):t.nodesToHandle=0);if("remove"==_n165.type&&t.offset<_n165.offset&&_o95>_n165.offset){var _i88={type:"attribute",offset:_n165.offset,howMany:_o95-_n165.offset,count:this._changeCount++};this._handleChange(_i88,e),e.push(_i88),t.nodesToHandle=_n165.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==_n165.type&&(t.offset>=_n165.offset&&_o95<=_i85?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=_n165.offset&&_o95>=_i85&&(_n165.howMany=0))}}}catch(err){_iterator256.e(err)}finally{_iterator256.f()}t.howMany=t.nodesToHandle,delete t.nodesToHandle}},{key:"_getInsertDiff",value:function(t,e,n){return{type:"insert",position:Va._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(t,e,n){return{type:"remove",position:Va._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(t,e,n){var o=[];n=new Map(n);var _step257,_iterator257=_createForOfIteratorHelper(e);try{for(_iterator257.s();!(_step257=_iterator257.n()).done;){var _step257$value=_slicedToArray(_step257.value,2),_i89=_step257$value[0],_r31=_step257$value[1],_e183=n.has(_i89)?n.get(_i89):null;_e183!==_r31&&o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:_i89,attributeOldValue:_r31,attributeNewValue:_e183,changeCount:this._changeCount++}),n.delete(_i89)}}catch(err){_iterator257.e(err)}finally{_iterator257.f()}var _step258,_iterator258=_createForOfIteratorHelper(n);try{for(_iterator258.s();!(_step258=_iterator258.n()).done;){var _step258$value=_slicedToArray(_step258.value,2),_e184=_step258$value[0],_i90=_step258$value[1];o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:_e184,attributeOldValue:null,attributeNewValue:_i90,changeCount:this._changeCount++})}}catch(err){_iterator258.e(err)}finally{_iterator258.f()}return o}},{key:"_isInInsertedElement",value:function(t){var e=t.parent;if(!e)return!1;var n=this._changesInElement.get(e),o=t.startOffset;if(n){var _step259,_iterator259=_createForOfIteratorHelper(n);try{for(_iterator259.s();!(_step259=_iterator259.n()).done;){var _t181=_step259.value;if("insert"==_t181.type&&o>=_t181.offset&&o<_t181.offset+_t181.howMany)return!0}}catch(err){_iterator259.e(err)}finally{_iterator259.f()}}return this._isInInsertedElement(e)}},{key:"_removeAllNestedChanges",value:function(t,e,n){var _step260,_iterator260=_createForOfIteratorHelper(new Wa(Va._createAt(t,e),Va._createAt(t,e+n)).getItems({shallow:!0}));try{for(_iterator260.s();!(_step260=_iterator260.n()).done;){var _t182=_step260.value;_t182.is("element")&&(this._elementSnapshots.delete(_t182),this._changesInElement.delete(_t182),this._removeAllNestedChanges(_t182,0,_t182.maxOffset))}}catch(err){_iterator260.e(err)}finally{_iterator260.f()}}}]),Ml}();function Tl(t){var _step261,e=[],_iterator261=_createForOfIteratorHelper(t);try{for(_iterator261.s();!(_step261=_iterator261.n()).done;){var _n166=_step261.value;if(_n166.is("$text"))for(var _t183=0;_t183<_n166.data.length;_t183++)e.push({name:"$text",attributes:new Map(_n166.getAttributes())});else e.push({name:_n166.name,attributes:new Map(_n166.getAttributes())})}}catch(err){_iterator261.e(err)}finally{_iterator261.f()}return e}function Sl(t,e){var _step262,n=[],o=0,i=0,_iterator262=_createForOfIteratorHelper(e);try{for(_iterator262.s();!(_step262=_iterator262.n()).done;){var _t184=_step262.value;if(_t184.offset>o){for(var _e186=0;_e186<_t184.offset-o;_e186++)n.push("e");i+=_t184.offset-o}if("insert"==_t184.type){for(var _e187=0;_e187<_t184.howMany;_e187++)n.push("i");o=_t184.offset+_t184.howMany}else if("remove"==_t184.type){for(var _e188=0;_e188<_t184.howMany;_e188++)n.push("r");o=_t184.offset,i+=_t184.howMany}else n.push.apply(n,_toConsumableArray("a".repeat(_t184.howMany).split(""))),o=_t184.offset+_t184.howMany,i+=_t184.howMany}}catch(err){_iterator262.e(err)}finally{_iterator262.f()}if(i<t)for(var _e185=0;_e185<t-i-o;_e185++)n.push("e");return n}function Nl(t){var e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}var Bl=function(){function Bl(){_classCallCheck(this,Bl),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return _createClass(Bl,[{key:"addOperation",value:function(t){this._operations.includes(t)||this._operations.push(t)}},{key:"getOperations",value:function(){var _step263,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,n=[],_iterator263=_createForOfIteratorHelper(this._operations);try{for(_iterator263.s();!(_step263=_iterator263.n()).done;){var _o97=_step263.value;_o97.baseVersion>=t&&_o97.baseVersion<e&&n.push(_o97)}}catch(err){_iterator263.e(err)}finally{_iterator263.f()}return n}},{key:"getOperation",value:function(t){var _step264,_iterator264=_createForOfIteratorHelper(this._operations);try{for(_iterator264.s();!(_step264=_iterator264.n()).done;){var _e189=_step264.value;if(_e189.baseVersion==t)return _e189}}catch(err){_iterator264.e(err)}finally{_iterator264.f()}}},{key:"setOperationAsUndone",value:function(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}},{key:"isUndoingOperation",value:function(t){return this._undoPairs.has(t)}},{key:"isUndoneOperation",value:function(t){return this._undoneOperations.has(t)}},{key:"getUndoneOperation",value:function(t){return this._undoPairs.get(t)}}]),Bl}();function zl(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function Pl(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var Ll="$graveyard",Ol=function(){function Ol(t){var _this77=this;_classCallCheck(this,Ol),this.model=t,this.version=0,this.history=new Bl(this),this.selection=new cc(this),this.roots=new Io({idProperty:"rootName"}),this.differ=new Ml(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Ll),this.listenTo(t,"applyOperation",(function(t,e){var n=e[0];if(n.isDocumentOperation&&n.baseVersion!==_this77.version)throw new a("model-document-applyoperation-wrong-version",_this77,{operation:n})}),{priority:"highest"}),this.listenTo(t,"applyOperation",(function(t,e){var n=e[0];n.isDocumentOperation&&_this77.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(t,"applyOperation",(function(t,e){var n=e[0];n.isDocumentOperation&&(_this77.version++,_this77.history.addOperation(n))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){_this77._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",(function(t,e,n,o){_this77.differ.bufferMarkerChange(e.name,n,o,e.affectsData),null===n&&e.on("change",(function(t,n){_this77.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)}))}))}return _createClass(Ol,[{key:"graveyard",get:function(){return this.getRoot(Ll)}},{key:"createRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(e))throw new a("model-document-createroot-name-exists",this,{name:e});var n=new _l(this,t,e);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(t){return t.rootName})).filter((function(t){return t!=Ll}))}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"toJSON",value:function(){var t=Ro(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}},{key:"_handleChangeBlock",value:function(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var _step265,_iterator265=_createForOfIteratorHelper(this.roots);try{for(_iterator265.s();!(_step265=_iterator265.n()).done;){var _t185=_step265.value;if(_t185!==this.graveyard)return _t185}}catch(err){_iterator265.e(err)}finally{_iterator265.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var t=this._getDefaultRoot(),e=this.model,n=e.schema,o=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(o)||e.createRange(o)}},{key:"_validateSelectionRange",value:function(t){return Rl(t.start)&&Rl(t.end)}},{key:"_callPostFixers",value:function(t){var e=!1;do{var _step266,_iterator266=_createForOfIteratorHelper(this._postFixers);try{for(_iterator266.s();!(_step266=_iterator266.n()).done;){var _n167=_step266.value;if(this.selection.refresh(),e=_n167(t))break}}catch(err){_iterator266.e(err)}finally{_iterator266.f()}}while(e)}}]),Ol}();function Rl(t){var e=t.textNode;if(e){var _n168=e.data,_o98=t.offset-e.startOffset;return!zl(_n168,_o98)&&!Pl(_n168,_o98)}return!0}he(Ol,f);var jl=function(){function jl(){_classCallCheck(this,jl),this._markers=new Map}return _createClass(jl,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(t){var e=t instanceof Fl?t.name:t;return this._markers.has(e)}},{key:"get",value:function(t){return this._markers.get(t)||null}},{key:"_set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t instanceof Fl?t.name:t;if(i.includes(","))throw new a("markercollection-incorrect-marker-name",this);var r=this._markers.get(i);if(r){var _t186=r.getRange(),_s21=!1;return _t186.isEqual(e)||(r._attachLiveRange(ic.fromRange(e)),_s21=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,_s21=!0),"boolean"==typeof o&&o!=r.affectsData&&(r._affectsData=o,_s21=!0),_s21&&this.fire("update:"+i,r,_t186,e),r}var s=ic.fromRange(e),c=new Fl(i,s,n,o);return this._markers.set(i,c),this.fire("update:"+i,c,null,e),c}},{key:"_remove",value:function(t){var e=t instanceof Fl?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(t){var e=t instanceof Fl?t.name:t,n=this._markers.get(e);if(!n)throw new a("markercollection-refresh-marker-not-exists",this);var o=n.getRange();this.fire("update:"+e,n,o,o,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:regeneratorRuntime.mark((function getMarkersAtPosition(t){var _iterator267,_step267,_e190;return regeneratorRuntime.wrap((function(_context31){for(;;)switch(_context31.prev=_context31.next){case 0:_iterator267=_createForOfIteratorHelper(this),_context31.prev=1,_iterator267.s();case 3:if((_step267=_iterator267.n()).done){_context31.next=11;break}if(_e190=_step267.value,_context31.t0=_e190.getRange().containsPosition(t),!_context31.t0){_context31.next=9;break}return _context31.next=9,_e190;case 9:_context31.next=3;break;case 11:_context31.next=16;break;case 13:_context31.prev=13,_context31.t1=_context31.catch(1),_iterator267.e(_context31.t1);case 16:return _context31.prev=16,_iterator267.f(),_context31.finish(16);case 19:case"end":return _context31.stop()}}),getMarkersAtPosition,this,[[1,13,16,19]])}))},{key:"getMarkersIntersectingRange",value:regeneratorRuntime.mark((function getMarkersIntersectingRange(t){var _iterator268,_step268,_e191;return regeneratorRuntime.wrap((function(_context32){for(;;)switch(_context32.prev=_context32.next){case 0:_iterator268=_createForOfIteratorHelper(this),_context32.prev=1,_iterator268.s();case 3:if((_step268=_iterator268.n()).done){_context32.next=11;break}if(_e191=_step268.value,_context32.t0=null!==_e191.getRange().getIntersection(t),!_context32.t0){_context32.next=9;break}return _context32.next=9,_e191;case 9:_context32.next=3;break;case 11:_context32.next=16;break;case 13:_context32.prev=13,_context32.t1=_context32.catch(1),_iterator268.e(_context32.t1);case 16:return _context32.prev=16,_iterator268.f(),_context32.finish(16);case 19:case"end":return _context32.stop()}}),getMarkersIntersectingRange,this,[[1,13,16,19]])}))},{key:"destroy",value:function(){var _step269,_iterator269=_createForOfIteratorHelper(this._markers.values());try{for(_iterator269.s();!(_step269=_iterator269.n()).done;){var _t187=_step269.value;this._destroyMarker(_t187)}}catch(err){_iterator269.e(err)}finally{_iterator269.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:regeneratorRuntime.mark((function getMarkersGroup(t){var _iterator270,_step270,_e192;return regeneratorRuntime.wrap((function(_context33){for(;;)switch(_context33.prev=_context33.next){case 0:_iterator270=_createForOfIteratorHelper(this._markers.values()),_context33.prev=1,_iterator270.s();case 3:if((_step270=_iterator270.n()).done){_context33.next=11;break}if(_e192=_step270.value,_context33.t0=_e192.name.startsWith(t+":"),!_context33.t0){_context33.next=9;break}return _context33.next=9,_e192;case 9:_context33.next=3;break;case 11:_context33.next=16;break;case 13:_context33.prev=13,_context33.t1=_context33.catch(1),_iterator270.e(_context33.t1);case 16:return _context33.prev=16,_iterator270.f(),_context33.finish(16);case 19:case"end":return _context33.stop()}}),getMarkersGroup,this,[[1,13,16,19]])}))},{key:"_destroyMarker",value:function(t){t.stopListening(),t._detachLiveRange()}}]),jl}();he(jl,f);var Fl=function(){function Fl(t,e,n,o){_classCallCheck(this,Fl),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=o}return _createClass(Fl,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new a("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new a("marker-destroyed",this);return this._affectsData}},{key:"getStart",value:function(){if(!this._liveRange)throw new a("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new a("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new a("marker-destroyed",this);return this._liveRange.toRange()}},{key:"is",value:function(t){return"marker"===t||"model:marker"===t}},{key:"_attachLiveRange",value:function(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),Fl}();he(Fl,f);var Vl=function(_ol10){_inherits(Vl,_ol10);var _super38=_createSuper(Vl);function Vl(){return _classCallCheck(this,Vl),_super38.apply(this,arguments)}return _createClass(Vl,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new Vl(this.baseVersion)}},{key:"getReversed",value:function(){return new Vl(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),Vl}(ol),Hl={};Hl[gl.className]=gl,Hl[fl.className]=fl,Hl[kl.className]=kl,Hl[pl.className]=pl,Hl[Vl.className]=Vl,Hl[ol.className]=ol,Hl[bl.className]=bl,Hl[wl.className]=wl,Hl[Cl.className]=Cl,Hl[Al.className]=Al;var Ul=function(_Va){_inherits(Ul,_Va);var _super39=_createSuper(Ul);function Ul(t,e){var _this78,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(_classCallCheck(this,Ul),!(_this78=_super39.call(this,t,e,n)).root.is("rootElement"))throw new a("model-liveposition-root-not-rootelement",t);return ql.call(_assertThisInitialized(_this78)),_possibleConstructorReturn(_this78)}return _createClass(Ul,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}},{key:"toPosition",value:function(){return new Va(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}]),Ul}(Va);function ql(){var _this79=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,e){var n=e[0];n.isDocumentOperation&&Wl.call(_this79,n)}),{priority:"low"})}function Wl(t){var e=this.getTransformedByOperation(t);if(!this.isEqual(e)){var _t188=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",_t188)}}he(Ul,f);var Gl=function(){function Gl(t,e,n){_classCallCheck(this,Gl),this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return _createClass(Gl,[{key:"handleNodes",value:function(t){for(var _i91=0,_Array$from6=Array.from(t);_i91<_Array$from6.length;_i91++){var _e193=_Array$from6[_i91];this._handleNode(_e193)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(t){var e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new a("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?Wa._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new Wa(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(t){if(this.schema.isObject(t))this._handleObject(t);else{var e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t))?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}}},{key:"_insertPartialFragment",value:function(){if(!this._documentFragment.isEmpty){var t=Ul.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}}},{key:"_handleObject",value:function(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}},{key:"_handleDisallowedNode",value:function(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}},{key:"_appendToFragment",value:function(t){if(!this.schema.checkChild(this.position,t))throw new a("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}},{key:"_setAffectedBoundaries",value:function(t){this._affectedStart||(this._affectedStart=Ul.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ul.fromPosition(t,"toNext"))}},{key:"_mergeOnLeft",value:function(){var t=this._firstNode;if(t instanceof Ra&&this._canMergeLeft(t)){var e=Ul._createBefore(t);e.stickiness="toNext";var n=Ul.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Ul._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ul._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_mergeOnRight",value:function(){var t=this._lastNode;if(t instanceof Ra&&this._canMergeRight(t)){var e=Ul._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new a("insertcontent-invalid-insertion-position",this);this.position=Va._createAt(e.nodeBefore,"end");var n=Ul.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Ul._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ul._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_canMergeLeft",value:function(t){var e=t.previousSibling;return e instanceof Ra&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}},{key:"_canMergeRight",value:function(t){var e=t.nextSibling;return e instanceof Ra&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}},{key:"_tryAutoparagraphing",value:function(t){var e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();var e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(t){var e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){var _t189=this.position.parent;this.position=this.writer.createPositionBefore(_t189),_t189.isEmpty&&_t189.parent===e&&this.writer.remove(_t189)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var _t190=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=_t190,this.canMergeWith.add(this.position.nodeAfter)}return!0}},{key:"_getAllowedIn",value:function(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}]),Gl}();function Ql(t,e,n,o){var i=e.parent,r=n.parent;if(i!=o&&r!=o){for(e=t.createPositionAfter(i),(n=t.createPositionBefore(r)).isEqual(e)||t.insert(r,e),t.merge(e);n.parent.isEmpty;){var _e194=n.parent;n=t.createPositionBefore(_e194),t.remove(_e194)}$l(t.model.schema,e,n)&&Ql(t,e,n,o)}}function Kl(t,e,n,o){var i=e.parent,r=n.parent;if(i!=o&&r!=o){for(e=t.createPositionAfter(i),(n=t.createPositionBefore(r)).isEqual(e)||t.insert(i,n);e.parent.isEmpty;){var _n171=e.parent;e=t.createPositionBefore(_n171),t.remove(_n171)}n=t.createPositionBefore(r),function(t,e){var n=e.nodeBefore,o=e.nodeAfter;n.name!=o.name&&t.rename(n,o.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(o.getAttributes()),n),t.merge(e)}(t,n),$l(t.model.schema,e,n)&&Kl(t,e,n,o)}}function $l(t,e,n){var o=e.parent,i=n.parent;return o!=i&&!t.isLimit(o)&&!t.isLimit(i)&&function(t,e,n){var _step272,_iterator272=_createForOfIteratorHelper(new Wa(t,e).getWalker());try{for(_iterator272.s();!(_step272=_iterator272.n()).done;){var _t192=_step272.value;if(n.isLimit(_t192.item))return!1}}catch(err){_iterator272.e(err)}finally{_iterator272.f()}return!0}(e,n,t)}function Zl(t,e,n){var o=t.createElement("paragraph");t.insert(o,e),Jl(t,n,t.createPositionAt(o,0))}function Jl(t,e,n){e instanceof cc?t.setSelection(n):e.setTo(n)}var Xl=' ,.?!:;"-()';function td(t,e){var n=t.isForward,o=t.walker,i=t.unit,r=t.schema,s=e.type,a=e.item,c=e.nextPosition;if("text"==s)return"word"===t.unit?function(t,e){var n=t.position.textNode;if(n)for(var _o99=t.position.offset-n.startOffset;!nd(n.data,_o99,e)&&!od(n,_o99,e);){t.next();var _i93=e?t.position.nodeAfter:t.position.nodeBefore;if(_i93&&_i93.is("$text")){var _o100=_i93.data.charAt(e?0:_i93.data.length-1);Xl.includes(_o100)||(t.next(),n=t.position.textNode)}_o99=t.position.offset-n.startOffset}return t.position}(o,n):function(t,e){var n=t.position.textNode;if(n)for(var _o101=n.data,_i94=t.position.offset-n.startOffset;zl(_o101,_i94)||"character"==e&&Pl(_o101,_i94);)t.next(),_i94=t.position.offset-n.startOffset;return t.position}(o,i);if(s==(n?"elementStart":"elementEnd")){if(r.isSelectable(a))return Va._createAt(a,n?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(a))return void o.skip((function(){return!0}));if(r.checkChild(c,"$text"))return c}}function ed(t,e){var n=t.root,o=Va._createAt(n,e?"end":0);return e?new Wa(t,o):new Wa(o,t)}function nd(t,e,n){var o=e+(n?0:-1);return Xl.includes(t.charAt(o))}function od(t,e,n){return e===(n?t.endOffset:0)}function id(t,e){var n=[];Array.from(t.getItems({direction:"backward"})).map((function(t){return e.createRangeOn(t)})).filter((function(e){return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))})).forEach((function(t){n.push(t.start.parent),e.remove(t)})),n.forEach((function(t){for(var n=t;n.parent&&n.isEmpty;){var _t193=e.createRangeOn(n);n=n.parent,e.remove(_t193)}}))}function sd(t,e){return t.isCollapsed?function(t,e){var n=t.start,o=e.getNearestSelectionRange(n);if(!o){var _t196=n.getAncestors().reverse().find((function(t){return e.isObject(t)}));return _t196?Wa._createOn(_t196):null}if(!o.isCollapsed)return o;var i=o.start;return n.isEqual(i)?null:new Wa(i)}(t,e):function(t,e){var n=t.start,o=t.end,i=e.checkChild(n,"$text"),r=e.checkChild(o,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(o);if(s===a){if(i&&r)return null;if(function(t,e,n){var o=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return o||i}(n,o,e)){var _t197=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),_i97=o.nodeBefore&&e.isSelectable(o.nodeBefore)?null:e.getNearestSelectionRange(o,"backward"),_r34=_t197?_t197.start:n,_s23=_i97?_i97.end:o;return new Wa(_r34,_s23)}}var c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){var _t198=n.nodeAfter&&o.nodeBefore&&n.nodeAfter.parent===o.nodeBefore.parent,_i98=c&&(!_t198||!cd(n.nodeAfter,e)),_r35=l&&(!_t198||!cd(o.nodeBefore,e)),_d2=n,_h2=o;return _i98&&(_d2=Va._createBefore(ad(s,e))),_r35&&(_h2=Va._createAfter(ad(a,e))),new Wa(_d2,_h2)}return null}(t,e)}function ad(t,e){for(var n=t,o=n;e.isLimit(o)&&o.parent;)n=o,o=o.parent;return n}function cd(t,e){return t&&e.isSelectable(t)}var ld=function(){function ld(){var _this80=this;_classCallCheck(this,ld),this.markers=new jl,this.document=new Ol(this),this.schema=new zc,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(t){return _this80.decorate(t)})),this.on("applyOperation",(function(t,e){e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((function(t,e){if("$marker"===e.name)return!0})),function(t){t.document.registerPostFixer((function(e){return function(t,e){var _step273,n=e.document.selection,o=e.schema,i=[],r=!1,_iterator273=_createForOfIteratorHelper(n.getRanges());try{for(_iterator273.s();!(_step273=_iterator273.n()).done;){var _t195=_step273.value,_e195=sd(_t195,o);_e195&&!_e195.isEqual(_t195)?(i.push(_e195),r=!0):i.push(_t195)}}catch(err){_iterator273.e(err)}finally{_iterator273.f()}r&&t.setSelection(function(t){for(var e=_toConsumableArray(t),n=new Set,o=1;o<e.length;){var _step274,_t194=e[o],_iterator274=_createForOfIteratorHelper(e.slice(0,o).entries());try{for(_iterator274.s();!(_step274=_iterator274.n()).done;){var _step274$value=_slicedToArray(_step274.value,2),_r33=_step274$value[0],_s22=_step274$value[1];if(!n.has(_r33))if(_t194.isEqual(_s22))n.add(_r33);else if(_t194.isIntersecting(_s22)){n.add(_r33),n.add(o);var _i96=_t194.getJoined(_s22);e.push(_i96)}}}catch(err){_iterator274.e(err)}finally{_iterator274.f()}o++}return e.filter((function(t,e){return!n.has(e)}))}(i),{backward:n.isBackward})}(e,t)}))}(this),this.document.registerPostFixer(Ac)}return _createClass(ld,[{key:"change",value:function(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new nl,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){a.rethrowUnexpectedError(t,this)}}},{key:"enqueueChange",value:function(t,e){try{t?"function"==typeof t?(e=t,t=new nl):t instanceof nl||(t=new nl(t)):t=new nl,this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){a.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(t){t._execute()}},{key:"insertContent",value:function(t,e,n){return function(t,e,n,o){return t.change((function(i){var r;(r=n?n instanceof Xa||n instanceof cc?n:i.createSelection(n,o):t.document.selection).isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0});var a,s=new Gl(t,i,r.anchor);a=e.is("documentFragment")?e.getChildren():[e],s.handleNodes(a);var c=s.getSelectionRange();c&&(r instanceof cc?i.setSelection(c):r.setTo(c));var l=s.getAffectedRange()||t.createRange(r.anchor);return s.destroy(),l}))}(this,t,e,n)}},{key:"deleteContent",value:function(t,e){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.isCollapsed){var o=e.getFirstRange();if("$graveyard"!=o.root.rootName){var i=t.schema;t.change((function(t){if(n.doNotResetEntireContent||!function(t,e){var n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;var o=e.getFirstRange();return o.start.parent!=o.end.parent&&t.checkChild(n,"paragraph")}(i,e)){var _ref27=_slicedToArray(function(t){var e=t.root.document.model,n=t.start,o=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){var _n169=function(t){var _step271,e=t.parent,n=e.root.document.model.schema,_iterator271=_createForOfIteratorHelper(e.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(_iterator271.s();!(_step271=_iterator271.n()).done;){var _t191=_step271.value;if(n.isLimit(_t191))return null;if(n.isBlock(_t191))return _t191}}catch(err){_iterator271.e(err)}finally{_iterator271.f()}}(o);if(_n169&&o.isTouching(e.createPositionAt(_n169,0))){var _n170=e.createSelection(t);e.modifySelection(_n170,{direction:"backward"});var _i92=_n170.getLastPosition(),_r32=e.createRange(_i92,o);e.hasContent(_r32,{ignoreMarkers:!0})||(o=_i92)}}return[Ul.fromPosition(n,"toPrevious"),Ul.fromPosition(o,"toNext")]}(o),2),r=_ref27[0],s=_ref27[1];r.isTouching(s)||t.remove(t.createRange(r,s)),n.leaveUnmerged||(function(t,e,n){var o=t.model;if($l(t.model.schema,e,n)){var _ref29=_slicedToArray(function(t,e){for(var n=t.getAncestors(),o=e.getAncestors(),i=0;n[i]&&n[i]==o[i];)i++;return[n[i],o[i]]}(e,n),2),i=_ref29[0],r=_ref29[1];i&&r&&(!o.hasContent(i,{ignoreMarkers:!0})&&o.hasContent(r,{ignoreMarkers:!0})?Kl(t,e,n,i.parent):Ql(t,e,n,i.parent))}}(t,r,s),i.removeDisallowedAttributes(r.parent.getChildren(),t)),Jl(t,e,r),!n.doNotAutoparagraph&&function(t,e){var n=t.checkChild(e,"$text"),o=t.checkChild(e,"paragraph");return!n&&o}(i,r)&&Zl(t,r,e),r.detach(),s.detach()}else!function(t,e){var n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),Zl(t,t.createPositionAt(n,0),e)}(t,e)}))}}}(this,t,e)}},{key:"modifySelection",value:function(t,e){!function(t,e){for(var l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.schema,i="backward"!=n.direction,r=n.unit?n.unit:"character",s=e.focus,a=new ja({boundaries:ed(s,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:a,schema:o,isForward:i,unit:r},_loop3=function(){if(l.done)return{v:void 0};var n=td(c,l.value);return n?{v:void(e instanceof cc?t.change((function(t){t.setSelectionFocus(n)})):e.setFocus(n))}:void 0};l=a.next();){var _ret2=_loop3();if("object"===_typeof(_ret2))return _ret2.v}}(this,t,e)}},{key:"getSelectedContent",value:function(t){return function(t,e){return t.change((function(t){var n=t.createDocumentFragment(),o=e.getFirstRange();if(!o||o.isCollapsed)return n;var a,_step275,i=o.start.root,r=o.start.getCommonPath(o.end),s=i.getNodeByPath(r),c=(a=o.start.parent==o.end.parent?o:t.createRange(t.createPositionAt(s,o.start.path[r.length]),t.createPositionAt(s,o.end.path[r.length]+1))).end.offset-a.start.offset,_iterator275=_createForOfIteratorHelper(a.getItems({shallow:!0}));try{for(_iterator275.s();!(_step275=_iterator275.n()).done;){var _e197=_step275.value;_e197.is("$textProxy")?t.appendText(_e197.data,_e197.getAttributes(),n):t.append(t.cloneElement(_e197,!0),n)}}catch(err){_iterator275.e(err)}finally{_iterator275.f()}if(a!=o){var _e196=o._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],_i99=t.createRange(t.createPositionAt(n,0),_e196.start);id(t.createRange(_e196.end,t.createPositionAt(n,"end")),t),id(_i99,t)}return n}))}(this,t)}},{key:"hasContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof Ra?Wa._createIn(t):t;if(n.isCollapsed)return!1;var _e$ignoreWhitespaces=e.ignoreWhitespaces,o=void 0!==_e$ignoreWhitespaces&&_e$ignoreWhitespaces,_e$ignoreMarkers=e.ignoreMarkers,i=void 0!==_e$ignoreMarkers&&_e$ignoreMarkers;if(!i){var _step276,_iterator276=_createForOfIteratorHelper(this.markers.getMarkersIntersectingRange(n));try{for(_iterator276.s();!(_step276=_iterator276.n()).done;){var _t199=_step276.value;if(_t199.affectsData)return!0}}catch(err){_iterator276.e(err)}finally{_iterator276.f()}}var _step277,_iterator277=_createForOfIteratorHelper(n.getItems());try{for(_iterator277.s();!(_step277=_iterator277.n()).done;){var _t200=_step277.value;if(this.schema.isContent(_t200)){if(!_t200.is("$textProxy"))return!0;if(!o)return!0;if(-1!==_t200.data.search(/\S/))return!0}}}catch(err){_iterator277.e(err)}finally{_iterator277.f()}return!1}},{key:"createPositionFromPath",value:function(t,e,n){return new Va(t,e,n)}},{key:"createPositionAt",value:function(t,e){return Va._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return Va._createAfter(t)}},{key:"createPositionBefore",value:function(t){return Va._createBefore(t)}},{key:"createRange",value:function(t,e){return new Wa(t,e)}},{key:"createRangeIn",value:function(t){return Wa._createIn(t)}},{key:"createRangeOn",value:function(t){return Wa._createOn(t)}},{key:"createSelection",value:function(t,e,n){return new Xa(t,e,n)}},{key:"createBatch",value:function(t){return new nl(t)}},{key:"createOperationFromJSON",value:function(t){return function(){function _class(){_classCallCheck(this,_class)}return _createClass(_class,null,[{key:"fromJSON",value:function(t,e){return Hl[t.__className].fromJSON(t,e)}}]),_class}().fromJSON(t,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var _e198=this._pendingChanges[0].batch;this._currentWriter=new vl(this,_e198);var _n172=this._pendingChanges[0].callback(this._currentWriter);t.push(_n172),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}]),ld}();he(ld,re);var dd=function(_Ca){_inherits(dd,_Ca);var _super40=_createSuper(dd);function dd(t){var _this81;return _classCallCheck(this,dd),(_this81=_super40.call(this)).editor=t,_this81}return _createClass(dd,[{key:"set",value:function(t,e){var _this82=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var _t201=e;e=function(_e199,n){_this82.editor.execute(_t201),n()}}_get(_getPrototypeOf(dd.prototype),"set",this).call(this,t,e,n)}}]),dd}(Ca),hd=function(){function hd(){var _this83=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,hd);var e=t.language||this.constructor.defaultConfig&&this.constructor.defaultConfig.language;this._context=t.context||new Po({language:e}),this._context._addEditor(this,!t.context);var n=Array.from(this.constructor.builtinPlugins||[]);this.config=new yo(t,this.constructor.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new Mo(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Sc,this.set("state","initializing"),this.once("ready",(function(){return _this83.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return _this83.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new ld;var o=new Di;this.data=new Jc(this.model,o),this.editing=new Tc(this.model,o),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Xc([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new dd(this),this.keystrokes.listenTo(this.editing.view.document)}return _createClass(hd,[{key:"initPlugins",value:function(){var t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],o=t.get("extraPlugins")||[],i=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(o),n,i)}},{key:"destroy",value:function(){var _this84=this,t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((function(t){return _this84.once("ready",t)}))),t.then((function(){_this84.fire("destroy"),_this84.stopListening(),_this84.commands.destroy()})).then((function(){return _this84.plugins.destroy()})).then((function(){_this84.model.destroy(),_this84.data.destroy(),_this84.editing.destroy(),_this84.keystrokes.destroy()})).then((function(){return _this84._context._removeEditor(_this84)}))}},{key:"execute",value:function(){try{var _this$commands;return(_this$commands=this.commands).execute.apply(_this$commands,arguments)}catch(t){a.rethrowUnexpectedError(t,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}]),hd}();he(hd,re);var ud=function(){function ud(t){_classCallCheck(this,ud),this.editor=t,this._components=new Map}return _createClass(ud,[{key:"names",value:regeneratorRuntime.mark((function names(){var _iterator278,_step278,_t202;return regeneratorRuntime.wrap((function(_context34){for(;;)switch(_context34.prev=_context34.next){case 0:_iterator278=_createForOfIteratorHelper(this._components.values()),_context34.prev=1,_iterator278.s();case 3:if((_step278=_iterator278.n()).done){_context34.next=9;break}return _t202=_step278.value,_context34.next=7,_t202.originalName;case 7:_context34.next=3;break;case 9:_context34.next=14;break;case 11:_context34.prev=11,_context34.t0=_context34.catch(1),_iterator278.e(_context34.t0);case 14:return _context34.prev=14,_iterator278.f(),_context34.finish(14);case 17:case"end":return _context34.stop()}}),names,this,[[1,11,14,17]])}))},{key:"add",value:function(t,e){this._components.set(gd(t),{callback:e,originalName:t})}},{key:"create",value:function(t){if(!this.has(t))throw new a("componentfactory-item-missing",this,{name:t});return this._components.get(gd(t)).callback(this.editor.locale)}},{key:"has",value:function(t){return this._components.has(gd(t))}}]),ud}();function gd(t){return String(t).toLowerCase()}var md=function(){function md(t){var _this85=this;_classCallCheck(this,md),this.editor=t,this.componentFactory=new ud(t),this.focusTracker=new Aa,this.set("viewportOffset",this._readViewportOffsetFromConfig()),this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",(function(){return _this85.update()}))}return _createClass(md,[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var _step279,_iterator279=_createForOfIteratorHelper(this._editableElementsMap.values());try{for(_iterator279.s();!(_step279=_iterator279.n()).done;){_step279.value.ckeditorInstance=null}}catch(err){_iterator279.e(err)}finally{_iterator279.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(t)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}},{key:"_readViewportOffsetFromConfig",value:function(){var t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;var n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}}]),md}();he(md,re);var fd={setData:function(t){this.data.set(t)},getData:function(t){return this.data.get(t)}},kd={updateSourceElement:function(){if(!this.sourceElement)throw new a("editor-missing-sourceelement",this);var t,e;t=this.sourceElement,e=this.data.get(),t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}},bd=function(_Lo){_inherits(bd,_Lo);var _super41=_createSuper(bd);function bd(){return _classCallCheck(this,bd),_super41.apply(this,arguments)}return _createClass(bd,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Io({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if("string"!=typeof t)throw new a("pendingactions-add-invalid-message",this);var e=Object.create(re);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),bd}(Lo),wd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',Ad_cancel='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',Ad_caption='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',Ad_check='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Ad_lowVision='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',Ad_image='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',Ad_objectLeft='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Ad_objectCenter='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',Ad_objectRight='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Ad_objectFullWidth='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',Ad_objectInline='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Ad_objectBlockLeft='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Ad_objectBlockRight='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Ad_pencil='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',Ad_quote='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';function Cd(_ref30){var t=_ref30.emitter,e=_ref30.activator,n=_ref30.callback,o=_ref30.contextElements;t.listenTo(document,"mousedown",(function(t,i){if(e()){var _step280,r="function"==typeof i.composedPath?i.composedPath():[],_iterator280=_createForOfIteratorHelper(o);try{for(_iterator280.s();!(_step280=_iterator280.n()).done;){var _t204=_step280.value;if(_t204.contains(i.target)||r.includes(_t204))return}}catch(err){_iterator280.e(err)}finally{_iterator280.f()}n()}}))}function _d(t){t.set("_isCssTransitionsDisabled",!1),t.disableCssTransitions=function(){t._isCssTransitionsDisabled=!0},t.enableCssTransitions=function(){t._isCssTransitionsDisabled=!1},t.extendTemplate({attributes:{class:[t.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function vd(_ref31){var t=_ref31.view;t.listenTo(t.element,"submit",(function(e,n){n.preventDefault(),t.fire("submit")}),{useCapture:!0})}var yd=function(_Io){_inherits(yd,_Io);var _super42=_createSuper(yd);function yd(){var _this86,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,yd),(_this86=_super42.call(this,t,{idProperty:"viewUid"})).on("add",(function(t,e,n){_this86._renderViewIntoCollectionParent(e,n)})),_this86.on("remove",(function(t,e){e.element&&_this86._parentElement&&e.element.remove()})),_this86._parentElement=null,_this86}return _createClass(yd,[{key:"destroy",value:function(){this.map((function(t){return t.destroy()}))}},{key:"setParent",value:function(t){this._parentElement=t;var _step281,_iterator281=_createForOfIteratorHelper(this);try{for(_iterator281.s();!(_step281=_iterator281.n()).done;){var _t205=_step281.value;this._renderViewIntoCollectionParent(_t205)}}catch(err){_iterator281.e(err)}finally{_iterator281.f()}}},{key:"delegate",value:function(){for(var _this87=this,_len19=arguments.length,t=new Array(_len19),_key19=0;_key19<_len19;_key19++)t[_key19]=arguments[_key19];if(!t.length||!t.every((function(t){return"string"==typeof t})))throw new a("ui-viewcollection-delegate-wrong-events",this);return{to:function(e){var _step282,_iterator282=_createForOfIteratorHelper(_this87);try{for(_iterator282.s();!(_step282=_iterator282.n()).done;){var _step285,_n175=_step282.value,_iterator285=_createForOfIteratorHelper(t);try{for(_iterator285.s();!(_step285=_iterator285.n()).done;){var _o102=_step285.value;_n175.delegate(_o102).to(e)}}catch(err){_iterator285.e(err)}finally{_iterator285.f()}}}catch(err){_iterator282.e(err)}finally{_iterator282.f()}_this87.on("add",(function(n,o){var _step283,_iterator283=_createForOfIteratorHelper(t);try{for(_iterator283.s();!(_step283=_iterator283.n()).done;){var _n173=_step283.value;o.delegate(_n173).to(e)}}catch(err){_iterator283.e(err)}finally{_iterator283.f()}})),_this87.on("remove",(function(n,o){var _step284,_iterator284=_createForOfIteratorHelper(t);try{for(_iterator284.s();!(_step284=_iterator284.n()).done;){var _n174=_step284.value;o.stopDelegating(_n174,e)}}catch(err){_iterator284.e(err)}finally{_iterator284.f()}}))}}}},{key:"_renderViewIntoCollectionParent",value:function(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}]),yd}(Io),xd=n(4793);Zr()(xd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),xd.Z.locals;var Dd=function(){function Dd(t){_classCallCheck(this,Dd),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Io,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(function(e,n){n.locale=t})),this.decorate("render")}return _createClass(Dd,[{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Id.bind(this,this)}},{key:"createCollection",value:function(t){var e=new yd(t);return this._viewCollections.add(e),e}},{key:"registerChild",value:function(t){Do(t)||(t=[t]);var _step286,_iterator286=_createForOfIteratorHelper(t);try{for(_iterator286.s();!(_step286=_iterator286.n()).done;){var _e200=_step286.value;this._unboundChildren.add(_e200)}}catch(err){_iterator286.e(err)}finally{_iterator286.f()}}},{key:"deregisterChild",value:function(t){Do(t)||(t=[t]);var _step287,_iterator287=_createForOfIteratorHelper(t);try{for(_iterator287.s();!(_step287=_iterator287.n()).done;){var _e201=_step287.value;this._unboundChildren.remove(_e201)}}catch(err){_iterator287.e(err)}finally{_iterator287.f()}}},{key:"setTemplate",value:function(t){this.template=new Id(t)}},{key:"extendTemplate",value:function(t){Id.extend(this.template,t)}},{key:"render",value:function(){if(this.isRendered)throw new a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(t){return t.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}}]),Dd}();he(Dd,ks),he(Dd,re);var Id=function(){function Id(t){_classCallCheck(this,Id),Object.assign(this,Rd(Od(t))),this._isRendered=!1,this._revertData=null}return _createClass(Id,[{key:"render",value:function(){var t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}},{key:"apply",value:function(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}},{key:"revert",value:function(t){if(!this._revertData)throw new a("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}},{key:"getViews",value:regeneratorRuntime.mark((function getViews(){return regeneratorRuntime.wrap((function(_context36){for(;;)switch(_context36.prev=_context36.next){case 0:return _context36.delegateYield(regeneratorRuntime.mark((function t(e){var _iterator288,_step288,_n176;return regeneratorRuntime.wrap((function(_context35){for(;;)switch(_context35.prev=_context35.next){case 0:if(!e.children){_context35.next=24;break}_iterator288=_createForOfIteratorHelper(e.children),_context35.prev=2,_iterator288.s();case 4:if((_step288=_iterator288.n()).done){_context35.next=16;break}if(!qd(_n176=_step288.value)){_context35.next=11;break}return _context35.next=9,_n176;case 9:_context35.next=14;break;case 11:if(_context35.t0=Wd(_n176),!_context35.t0){_context35.next=14;break}return _context35.delegateYield(t(_n176),"t1",14);case 14:_context35.next=4;break;case 16:_context35.next=21;break;case 18:_context35.prev=18,_context35.t2=_context35.catch(2),_iterator288.e(_context35.t2);case 21:return _context35.prev=21,_iterator288.f(),_context35.finish(21);case 24:case"end":return _context35.stop()}}),t,null,[[2,18,21,24]])}))(this),"t0",1);case 1:case"end":return _context36.stop()}}),getViews,this)}))},{key:"_renderNode",value:function(t){if(t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new a("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}},{key:"_renderElement",value:function(t){var e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}},{key:"_renderText",value:function(t){var e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Nd(this.text)?this._bindToObservable({schema:this.text,updater:zd(e),data:t}):e.textContent=this.text.join(""),e}},{key:"_renderAttributes",value:function(t){var e,n,o,i;if(this.attributes){var r=t.node,s=t.revertData;for(e in this.attributes)if(o=r.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=o),i=y(n[0])&&n[0].ns?n[0].ns:null,Nd(n)){var _a13=i?n[0].value:n;s&&Yd(e)&&_a13.unshift(o),this._bindToObservable({schema:_a13,updater:Pd(r,e,i),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&o&&Yd(e)&&n.unshift(o),Ud(n=n.map((function(t){return t&&t.value||t})).reduce((function(t,e){return t.concat(e)}),[]).reduce(Fd,""))||r.setAttributeNS(i,e,n))}}},{key:"_renderStyleAttribute",value:function(t,e){var n=e.node;for(var _o103 in t){var _i100=t[_o103];Nd(_i100)?this._bindToObservable({schema:[_i100],updater:Ld(n,_o103),data:e}):n.style[_o103]=_i100}}},{key:"_renderElementChildren",value:function(t){var _step289,e=t.node,n=t.intoFragment?document.createDocumentFragment():e,o=t.isApplying,i=0,_iterator289=_createForOfIteratorHelper(this.children);try{for(_iterator289.s();!(_step289=_iterator289.n()).done;){var _r36=_step289.value;if(Gd(_r36)){if(!o){_r36.setParent(e);var _step290,_iterator290=_createForOfIteratorHelper(_r36);try{for(_iterator290.s();!(_step290=_iterator290.n()).done;){var _t206=_step290.value;n.appendChild(_t206.element)}}catch(err){_iterator290.e(err)}finally{_iterator290.f()}}}else if(qd(_r36))o||(_r36.isRendered||_r36.render(),n.appendChild(_r36.element));else if(Kr(_r36))n.appendChild(_r36);else if(o){var _e202={children:[],bindings:[],attributes:{}};t.revertData.children.push(_e202),_r36._renderNode({node:n.childNodes[i++],isApplying:!0,revertData:_e202})}else n.appendChild(_r36.render())}}catch(err){_iterator289.e(err)}finally{_iterator289.f()}t.intoFragment&&e.appendChild(n)}},{key:"_setUpListeners",value:function(t){var _this88=this;if(this.eventListeners){var _loop4=function(_e203){var n=_this88.eventListeners[_e203].map((function(n){var _e203$split2=_slicedToArray(_e203.split("@"),2),o=_e203$split2[0],i=_e203$split2[1];return n.activateDomEventListener(o,i,t)}));t.revertData&&t.revertData.bindings.push(n)};for(var _e203 in this.eventListeners)_loop4(_e203)}}},{key:"_bindToObservable",value:function(_ref32){var t=_ref32.schema,e=_ref32.updater,n=_ref32.data,o=n.revertData;Bd(t,e,n);var i=t.filter((function(t){return!Ud(t)})).filter((function(t){return t.observable})).map((function(o){return o.activateAttributeListener(t,e,n)}));o&&o.bindings.push(i)}},{key:"_revertTemplateFromNode",value:function(t,e){var _step291,_iterator291=_createForOfIteratorHelper(e.bindings);try{for(_iterator291.s();!(_step291=_iterator291.n()).done;){var _step292,_iterator292=_createForOfIteratorHelper(_step291.value);try{for(_iterator292.s();!(_step292=_iterator292.n()).done;){(0,_step292.value)()}}catch(err){_iterator292.e(err)}finally{_iterator292.f()}}}catch(err){_iterator291.e(err)}finally{_iterator291.f()}if(e.text)t.textContent=e.text;else{for(var _n177 in e.attributes){var _o104=e.attributes[_n177];null===_o104?t.removeAttribute(_n177):t.setAttribute(_n177,_o104)}for(var _n178=0;_n178<e.children.length;++_n178)this._revertTemplateFromNode(t.childNodes[_n178],e.children[_n178])}}}],[{key:"bind",value:function(t,e){return{to:function(n,o){return new Td({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:o})},if:function(n,o,i){return new Sd({observable:t,emitter:e,attribute:n,valueIfTrue:o,callback:i})}}}},{key:"extend",value:function(t,e){if(t._isRendered)throw new a("template-extend-render",[this,t]);!function Hd(t,e){var _t$text;if(e.attributes&&(t.attributes||(t.attributes={}),Vd(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),Vd(t.eventListeners,e.eventListeners)),e.text&&(_t$text=t.text).push.apply(_t$text,_toConsumableArray(e.text)),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new a("ui-template-extend-children-mismatch",t);var _step294,_n181=0,_iterator294=_createForOfIteratorHelper(e.children);try{for(_iterator294.s();!(_step294=_iterator294.n()).done;){var _o105=_step294.value;Hd(t.children[_n181++],_o105)}}catch(err){_iterator294.e(err)}finally{_iterator294.f()}}}(t,Rd(Od(e)))}}]),Id}();he(Id,f);var Md=function(){function Md(t){_classCallCheck(this,Md),Object.assign(this,t)}return _createClass(Md,[{key:"getValue",value:function(t){var e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}},{key:"activateAttributeListener",value:function(t,e,n){var _this89=this,o=function(){return Bd(t,e,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){_this89.emitter.stopListening(_this89.observable,"change:"+_this89.attribute,o)}}}]),Md}(),Td=function(_Md){_inherits(Td,_Md);var _super43=_createSuper(Td);function Td(){return _classCallCheck(this,Td),_super43.apply(this,arguments)}return _createClass(Td,[{key:"activateDomEventListener",value:function(t,e,n){var _this90=this,o=function(t,n){e&&!n.target.matches(e)||("function"==typeof _this90.eventNameOrFunction?_this90.eventNameOrFunction(n):_this90.observable.fire(_this90.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,o),function(){_this90.emitter.stopListening(n.node,t,o)}}}]),Td}(Md),Sd=function(_Md2){_inherits(Sd,_Md2);var _super44=_createSuper(Sd);function Sd(){return _classCallCheck(this,Sd),_super44.apply(this,arguments)}return _createClass(Sd,[{key:"getValue",value:function(t){return!Ud(_get(_getPrototypeOf(Sd.prototype),"getValue",this).call(this,t))&&(this.valueIfTrue||!0)}}]),Sd}(Md);function Nd(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Nd):t instanceof Md)}function Bd(t,e,_ref33){var o=function(t,e){return t.map((function(t){return t instanceof Md?t.getValue(e):t}))}(t,_ref33.node);Ud(o=1==t.length&&t[0]instanceof Sd?o[0]:o.reduce(Fd,""))?e.remove():e.set(o)}function zd(t){return{set:function(e){t.textContent=e},remove:function(){t.textContent=""}}}function Pd(t,e,n){return{set:function(o){t.setAttributeNS(n,e,o)},remove:function(){t.removeAttributeNS(n,e)}}}function Ld(t,e){return{set:function(n){t.style[e]=n},remove:function(){t.style[e]=null}}}function Od(t){return _o(t,(function(t){if(t&&(t instanceof Md||Wd(t)||qd(t)||Gd(t)))return t}))}function Rd(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=To(t.text)}(t),t.on&&(t.eventListeners=function(t){for(var _e205 in t)jd(t,_e205);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(var _e207 in t)t[_e207].value&&(t[_e207].value=To(t[_e207].value)),jd(t,_e207)}(t.attributes);var _e206=[];if(t.children)if(Gd(t.children))_e206.push(t.children);else{var _step293,_iterator293=_createForOfIteratorHelper(t.children);try{for(_iterator293.s();!(_step293=_iterator293.n()).done;){var _n179=_step293.value;Wd(_n179)||qd(_n179)||Kr(_n179)?_e206.push(_n179):_e206.push(new Id(_n179))}}catch(err){_iterator293.e(err)}finally{_iterator293.f()}}t.children=_e206}return t}function jd(t,e){t[e]=To(t[e])}function Fd(t,e){return Ud(e)?t:Ud(t)?e:"".concat(t," ").concat(e)}function Vd(t,e){for(var _n180 in e){var _t$_n;t[_n180]?(_t$_n=t[_n180]).push.apply(_t$_n,_toConsumableArray(e[_n180])):t[_n180]=e[_n180]}}function Ud(t){return!t&&0!==t}function qd(t){return t instanceof Dd}function Wd(t){return t instanceof Id}function Gd(t){return t instanceof yd}function Yd(t){return"class"==t||"style"==t}var Qd=function(t){return"string"==typeof t||!Mt(t)&&_t(t)&&"[object String]"==O(t)},Kd=function(_yd){_inherits(Kd,_yd);var _super45=_createSuper(Kd);function Kd(t){var _this91,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _classCallCheck(this,Kd),(_this91=_super45.call(this,e)).locale=t,_this91}return _createClass(Kd,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new Id({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var t=document.querySelector(".ck-body-wrapper");t||(t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=n&&n.xmlns,r=i?t.createElementNS(i,e):t.createElement(e);for(var _t208 in n)r.setAttribute(_t208,n[_t208]);!Qd(o)&&Do(o)||(o=[o]);var _step295,_iterator295=_createForOfIteratorHelper(o);try{for(_iterator295.s();!(_step295=_iterator295.n()).done;){var _e208=_step295.value;Qd(_e208)&&(_e208=t.createTextNode(_e208)),r.appendChild(_e208)}}catch(err){_iterator295.e(err)}finally{_iterator295.f()}return r}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){_get(_getPrototypeOf(Kd.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}]),Kd}(yd),$d=n(6574);Zr()($d.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),$d.Z.locals;var Jd=function(_Dd){_inherits(Jd,_Dd);var _super46=_createSuper(Jd);function Jd(){var _this92;_classCallCheck(this,Jd);var t=(_this92=_super46.call(this)).bindTemplate;return _this92.set("content",""),_this92.set("viewBox","0 0 20 20"),_this92.set("fillColor",""),_this92.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}}),_this92}return _createClass(Jd,[{key:"render",value:function(){var _this93=this;_get(_getPrototypeOf(Jd.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){_this93._updateXMLContent(),_this93._colorFillPaths()})),this.on("change:fillColor",(function(){_this93._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var _t209=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),_e209=_t209.getAttribute("viewBox");for(_e209&&(this.viewBox=_e209),this.element.innerHTML="";_t209.childNodes.length>0;)this.element.appendChild(_t209.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var _this94=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(t){t.style.fill=_this94.fillColor}))}}]),Jd}(Dd),Xd=n(3332);Zr()(Xd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Xd.Z.locals;var eh=function(_Dd2){_inherits(eh,_Dd2);var _super47=_createSuper(eh);function eh(t){var _this95;_classCallCheck(this,eh),(_this95=_super47.call(this,t)).set("text",""),_this95.set("position","s");var e=_this95.bindTemplate;return _this95.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",(function(t){return"ck-tooltip_"+t})),e.if("text","ck-hidden",(function(t){return!t.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]}),_this95}return eh}(Dd),nh=n(4906);Zr()(nh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),nh.Z.locals;var ih=function(_Dd3){_inherits(ih,_Dd3);var _super48=_createSuper(ih);function ih(t){var _this96;_classCallCheck(this,ih);var e=(_this96=_super48.call(this,t)).bindTemplate,n=r();return _this96.set("class"),_this96.set("labelStyle"),_this96.set("icon"),_this96.set("isEnabled",!0),_this96.set("isOn",!1),_this96.set("isVisible",!0),_this96.set("isToggleable",!1),_this96.set("keystroke"),_this96.set("label"),_this96.set("tabindex",-1),_this96.set("tooltip"),_this96.set("tooltipPosition","s"),_this96.set("type","button"),_this96.set("withText",!1),_this96.set("withKeystroke",!1),_this96.children=_this96.createCollection(),_this96.tooltipView=_this96._createTooltipView(),_this96.labelView=_this96._createLabelView(n),_this96.iconView=new Jd,_this96.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),_this96.keystrokeView=_this96._createKeystrokeView(),_this96.bind("_tooltipString").to(_assertThisInitialized(_this96),"tooltip",_assertThisInitialized(_this96),"label",_assertThisInitialized(_this96),"keystroke",_this96._getTooltipString.bind(_assertThisInitialized(_this96))),_this96.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",(function(t){return!t})),e.if("isVisible","ck-hidden",(function(t){return!t})),e.to("isOn",(function(t){return t?"ck-on":"ck-off"})),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",(function(t){return t||"button"})),tabindex:e.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_".concat(n),"aria-disabled":e.if("isEnabled",!0,(function(t){return!t})),"aria-pressed":e.to("isOn",(function(t){return!!_this96.isToggleable&&String(t)}))},children:_this96.children,on:{mousedown:e.to((function(t){t.preventDefault()})),click:e.to((function(t){_this96.isEnabled?_this96.fire("execute"):t.preventDefault()}))}}),_this96}return _createClass(ih,[{key:"render",value:function(){_get(_getPrototypeOf(ih.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var t=new eh;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}},{key:"_createLabelView",value:function(t){var e=new Dd,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_".concat(t)},children:[{text:this.bindTemplate.to("label")}]}),e}},{key:"_createKeystrokeView",value:function(){var t=new Dd;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(t){return mr(t)}))}]}),t}},{key:"_getTooltipString",value:function(t,e,n){return t?"string"==typeof t?t:(n&&(n=mr(n)),t instanceof Function?t(e,n):"".concat(e).concat(n?" (".concat(n,")"):"")):""}}]),ih}(Dd),rh=n(5332);Zr()(rh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),rh.Z.locals;var ah=function(_ih){_inherits(ah,_ih);var _super49=_createSuper(ah);function ah(t){var _this97;return _classCallCheck(this,ah),(_this97=_super49.call(this,t)).isToggleable=!0,_this97.toggleSwitchView=_this97._createToggleView(),_this97.extendTemplate({attributes:{class:"ck-switchbutton"}}),_this97}return _createClass(ah,[{key:"render",value:function(){_get(_getPrototypeOf(ah.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var t=new Dd;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}]),ah}(ih),ch=n(6781);Zr()(ch.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ch.Z.locals;var dh='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',hh=function(_ih2){_inherits(hh,_ih2);var _super50=_createSuper(hh);function hh(t){var _this98;return _classCallCheck(this,hh),(_this98=_super50.call(this,t)).arrowView=_this98._createArrowView(),_this98.extendTemplate({attributes:{"aria-haspopup":!0}}),_this98.delegate("execute").to(_assertThisInitialized(_this98),"open"),_this98}return _createClass(hh,[{key:"render",value:function(){_get(_getPrototypeOf(hh.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var t=new Jd;return t.content=dh,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}]),hh}(ih),uh=n(7686);Zr()(uh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),uh.Z.locals;var mh=function(_Dd4){_inherits(mh,_Dd4);var _super51=_createSuper(mh);function mh(t){var _this99;_classCallCheck(this,mh);var e=(_this99=_super51.call(this,t)).bindTemplate;return _this99.set("class"),_this99.set("icon"),_this99.set("isEnabled",!0),_this99.set("isOn",!1),_this99.set("isToggleable",!1),_this99.set("isVisible",!0),_this99.set("keystroke"),_this99.set("label"),_this99.set("tabindex",-1),_this99.set("tooltip"),_this99.set("tooltipPosition","s"),_this99.set("type","button"),_this99.set("withText",!1),_this99.children=_this99.createCollection(),_this99.actionView=_this99._createActionView(),_this99.arrowView=_this99._createArrowView(),_this99.keystrokes=new Ca,_this99.focusTracker=new Aa,_this99.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",(function(t){return!t})),_this99.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:_this99.children}),_this99}return _createClass(mh,[{key:"render",value:function(){var _this100=this;_get(_getPrototypeOf(mh.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(function(t,e){_this100.focusTracker.focusedElement===_this100.actionView.element&&(_this100.arrowView.focus(),e())})),this.keystrokes.set("arrowleft",(function(t,e){_this100.focusTracker.focusedElement===_this100.arrowView.element&&(_this100.actionView.focus(),e())}))}},{key:"destroy",value:function(){_get(_getPrototypeOf(mh.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var t=new ih;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}},{key:"_createArrowView",value:function(){var t=new ih,e=t.bindTemplate;return t.icon=dh,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":e.to("isOn",(function(t){return String(t)}))}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}]),mh}(Dd),ph=function(_Dd5){_inherits(ph,_Dd5);var _super52=_createSuper(ph);function ph(t){var _this101;_classCallCheck(this,ph);var e=(_this101=_super52.call(this,t)).bindTemplate;return _this101.set("isVisible",!1),_this101.set("position","se"),_this101.children=_this101.createCollection(),_this101.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(function(t){return"ck-dropdown__panel_".concat(t)})),e.if("isVisible","ck-dropdown__panel-visible")]},children:_this101.children,on:{selectstart:e.to((function(t){return t.preventDefault()}))}}),_this101}return _createClass(ph,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var _t210=this.children.last;"function"==typeof _t210.focusLast?_t210.focusLast():_t210.focus()}}}]),ph}(Dd),fh=n(5485);function bh(_ref34){var t=_ref34.element,e=_ref34.target,n=_ref34.positions,o=_ref34.limiter,i=_ref34.fitInViewport,r=_ref34.viewportOffsetConfig;R(e)&&(e=e()),R(o)&&(o=o());var c,s=function(t){return t&&t.parentNode?t.offsetParent===is.document.body?null:t.offsetParent:null}(t),a=new ma(t),l={targetRect:new ma(e),elementRect:a,positionedElementAncestor:s};if(o||i){var _t211=o&&new ma(o).getVisible(),_e210=i&&function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);var e=new ma(is.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}(r);Object.assign(l,{limiterRect:_t211,viewportRect:_e210}),c=function(t,e){var _step296,o=e.elementRect.getArea(),r=0,s=null,_iterator296=_createForOfIteratorHelper(t.map((function(t){return new Ah(t,e)})).filter((function(t){return!!t.name})));try{for(_iterator296.s();!(_step296=_iterator296.n()).done;){var _t212=_step296.value,_e211=_t212._limiterIntersectionArea,_n182=_t212._viewportIntersectionArea;if(_e211===o)return _t212;var _i101=Math.pow(_n182,2)+Math.pow(_e211,2);_i101>r&&(r=_i101,s=_t212)}}catch(err){_iterator296.e(err)}finally{_iterator296.f()}return s}(n,l)||new Ah(n[0],l)}else c=new Ah(n[0],l);return c}function wh(t){var _is$window2=is.window,e=_is$window2.scrollX,n=_is$window2.scrollY;return t.clone().moveBy(e,n)}Zr()(fh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),fh.Z.locals;var Ah=function(){function Ah(t,e){_classCallCheck(this,Ah);var n=t(e.targetRect,e.elementRect,e.viewportRect);if(n){var o=n.left,i=n.top,r=n.name,s=n.config;Object.assign(this,{name:r,config:s}),this._positioningFunctionCorrdinates={left:o,top:i},this._options=e}}return _createClass(Ah,[{key:"left",get:function(){return this._absoluteRect.left}},{key:"top",get:function(){return this._absoluteRect.top}},{key:"_limiterIntersectionArea",get:function(){var t=this._options.limiterRect;if(t){var _e212=this._options.viewportRect;if(!_e212)return t.getIntersectionArea(this._rect);var _n183=t.getIntersection(_e212);if(_n183)return _n183.getIntersectionArea(this._rect)}return 0}},{key:"_viewportIntersectionArea",get:function(){var t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}},{key:"_rect",get:function(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}},{key:"_absoluteRect",get:function(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=wh(this._rect),this._options.positionedElementAncestor&&function(t,e){var n=wh(new ma(e)),o=ua(e),i=0,r=0;i-=n.left,r-=n.top,i+=e.scrollLeft,r+=e.scrollTop,i-=o.left,r-=o.top,t.moveBy(i,r)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}]),Ah}(),Ch=function(_Dd6){_inherits(Ch,_Dd6);var _super53=_createSuper(Ch);function Ch(t,e,n){var _this102;_classCallCheck(this,Ch);var o=(_this102=_super53.call(this,t)).bindTemplate;return _this102.buttonView=e,_this102.panelView=n,_this102.set("isOpen",!1),_this102.set("isEnabled",!0),_this102.set("class"),_this102.set("id"),_this102.set("panelPosition","auto"),_this102.keystrokes=new Ca,_this102.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",(function(t){return!t}))],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),_this102}return _createClass(Ch,[{key:"render",value:function(){var _this103=this;_get(_getPrototypeOf(Ch.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",(function(){_this103.isOpen=!_this103.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(){_this103.isOpen&&("auto"===_this103.panelPosition?_this103.panelView.position=Ch._getOptimalPosition({element:_this103.panelView.element,target:_this103.buttonView.element,fitInViewport:!0,positions:_this103._panelPositions}).name:_this103.panelView.position=_this103.panelPosition)})),this.keystrokes.listenTo(this.element);var t=function(_t213,e){_this103.isOpen&&(_this103.buttonView.focus(),_this103.isOpen=!1,e())};this.keystrokes.set("arrowdown",(function(t,e){_this103.buttonView.isEnabled&&!_this103.isOpen&&(_this103.isOpen=!0,e())})),this.keystrokes.set("arrowright",(function(t,e){_this103.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var _Ch$defaultPanelPosit=Ch.defaultPanelPositions,t=_Ch$defaultPanelPosit.south,e=_Ch$defaultPanelPosit.north,n=_Ch$defaultPanelPosit.southEast,o=_Ch$defaultPanelPosit.southWest,i=_Ch$defaultPanelPosit.northEast,r=_Ch$defaultPanelPosit.northWest,s=_Ch$defaultPanelPosit.southMiddleEast,a=_Ch$defaultPanelPosit.southMiddleWest,c=_Ch$defaultPanelPosit.northMiddleEast,l=_Ch$defaultPanelPosit.northMiddleWest;return"rtl"!==this.locale.uiLanguageDirection?[n,o,s,a,t,i,r,c,l,e]:[o,n,a,s,t,r,i,l,c,e]}}]),Ch}(Dd);function _h(t){return!!(t&&t.getClientRects&&t.getClientRects().length)}Ch.defaultPanelPositions={south:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}},southEast:function(t){return{top:t.bottom,left:t.left,name:"se"}},southWest:function(t,e){return{top:t.bottom,left:t.left-e.width+t.width,name:"sw"}},southMiddleEast:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}},southMiddleWest:function(t,e){return{top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}},north:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}},northEast:function(t,e){return{top:t.top-e.height,left:t.left,name:"ne"}},northWest:function(t,e){return{top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}},northMiddleEast:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}},northMiddleWest:function(t,e){return{top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"}}},Ch._getOptimalPosition=bh;var vh=function(){function vh(t){var _this104=this;if(_classCallCheck(this,vh),Object.assign(this,t),t.actions&&t.keystrokeHandler){var _loop5=function(_e213){var n=t.actions[_e213];"string"==typeof n&&(n=[n]);var _step297,_iterator297=_createForOfIteratorHelper(n);try{for(_iterator297.s();!(_step297=_iterator297.n()).done;){var _o106=_step297.value;t.keystrokeHandler.set(_o106,(function(t,n){_this104[_e213](),n()}))}}catch(err){_iterator297.e(err)}finally{_iterator297.f()}};for(var _e213 in t.actions)_loop5(_e213)}}return _createClass(vh,[{key:"first",get:function(){return this.focusables.find(yh)||null}},{key:"last",get:function(){return this.focusables.filter(yh).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var _this105=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(e,n){var o=e.element===_this105.focusTracker.focusedElement;return o&&(t=n),o})),t)}},{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(t){t&&t.focus()}},{key:"_getFocusableItem",value:function(t){var e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];var o=(e+n+t)%n;do{var _e214=this.focusables.get(o);if(yh(_e214))return _e214;o=(o+n+t)%n}while(o!==e);return null}}]),vh}();function yh(t){return!(!t.focus||!_h(t.element))}var xh=function(_Dd7){_inherits(xh,_Dd7);var _super54=_createSuper(xh);function xh(t){var _this106;return _classCallCheck(this,xh),(_this106=_super54.call(this,t)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),_this106}return xh}(Dd),Eh=function(_Dd8){_inherits(Eh,_Dd8);var _super55=_createSuper(Eh);function Eh(t){var _this107;return _classCallCheck(this,Eh),(_this107=_super55.call(this,t)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}}),_this107}return Eh}(Dd);function Dh(t){return Array.isArray(t)?{items:t,removeItems:[]}:t?Object.assign({items:[],removeItems:[]},t):{items:[],removeItems:[]}}var Ih=n(5542);Zr()(Ih.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ih.Z.locals;var Th=function(_Dd9){_inherits(Th,_Dd9);var _super56=_createSuper(Th);function Th(t,e){var _this108;_classCallCheck(this,Th);var n=(_this108=_super56.call(this,t)).bindTemplate,o=_this108.t;_this108.options=e||{},_this108.set("ariaLabel",o("Editor toolbar")),_this108.set("maxWidth","auto"),_this108.items=_this108.createCollection(),_this108.focusTracker=new Aa,_this108.keystrokes=new Ca,_this108.set("class"),_this108.set("isCompact",!1),_this108.itemsView=new Sh(t),_this108.children=_this108.createCollection(),_this108.children.add(_this108.itemsView),_this108.focusables=_this108.createCollection();var i="rtl"===t.uiLanguageDirection;_this108._focusCycler=new vh({focusables:_this108.focusables,focusTracker:_this108.focusTracker,keystrokeHandler:_this108.keystrokes,actions:{focusPrevious:[i?"arrowright":"arrowleft","arrowup"],focusNext:[i?"arrowleft":"arrowright","arrowdown"]}});var s,r=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];return _this108.options.shouldGroupWhenFull&&_this108.options.isFloating&&r.push("ck-toolbar_floating"),_this108.setTemplate({tag:"div",attributes:{class:r,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:_this108.children,on:{mousedown:(s=_assertThisInitialized(_this108),s.bindTemplate.to((function(t){t.target===s.element&&t.preventDefault()})))}}),_this108._behavior=_this108.options.shouldGroupWhenFull?new Bh(_assertThisInitialized(_this108)):new Nh(_assertThisInitialized(_this108)),_this108}return _createClass(Th,[{key:"render",value:function(){var _this109=this;_get(_getPrototypeOf(Th.prototype),"render",this).call(this);var _step298,_iterator298=_createForOfIteratorHelper(this.items);try{for(_iterator298.s();!(_step298=_iterator298.n()).done;){var _t214=_step298.value;this.focusTracker.add(_t214.element)}}catch(err){_iterator298.e(err)}finally{_iterator298.f()}this.items.on("add",(function(t,e){_this109.focusTracker.add(e.element)})),this.items.on("remove",(function(t,e){_this109.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),_get(_getPrototypeOf(Th.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(t,e){var _this110=this,n=Dh(t),o=n.items.filter((function(t,o,i){return"|"===t||-1===n.removeItems.indexOf(t)&&("-"===t?!_this110.options.shouldGroupWhenFull||(c("toolbarview-line-break-ignored-when-grouping-items",i),!1):!!e.has(t)||(c("toolbarview-item-unavailable",{name:t}),!1))})),i=this._cleanSeparators(o).map((function(t){return"|"===t?new xh:"-"===t?new Eh:e.create(t)}));this.items.addMany(i)}},{key:"_cleanSeparators",value:function(t){var e=function(t){return"-"!==t&&"|"!==t},n=t.length,o=t.findIndex(e),i=n-t.slice().reverse().findIndex(e);return t.slice(o,i).filter((function(t,n,o){return!!e(t)||!(n>0&&o[n-1]===t)}))}}]),Th}(Dd),Sh=function(_Dd10){_inherits(Sh,_Dd10);var _super57=_createSuper(Sh);function Sh(t){var _this111;return _classCallCheck(this,Sh),(_this111=_super57.call(this,t)).children=_this111.createCollection(),_this111.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:_this111.children}),_this111}return Sh}(Dd),Nh=function(){function Nh(t){_classCallCheck(this,Nh);var e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((function(t){return t})),t.focusables.bindTo(t.items).using((function(t){return t})),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}return _createClass(Nh,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),Nh}(),Bh=function(){function Bh(t){var _this112=this;_classCallCheck(this,Bh),this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using((function(t){return t})),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(function(t,e){var _step299,n=e.index,_iterator299=_createForOfIteratorHelper(e.removed);try{for(_iterator299.s();!(_step299=_iterator299.n()).done;){var _t216=_step299.value;n>=_this112.ungroupedItems.length?_this112.groupedItems.remove(_t216):_this112.ungroupedItems.remove(_t216)}}catch(err){_iterator299.e(err)}finally{_iterator299.f()}for(var _t215=n;_t215<n+e.added.length;_t215++){var _o107=e.added[_t215-n];_t215>_this112.ungroupedItems.length?_this112.groupedItems.add(_o107,_t215-_this112.ungroupedItems.length):_this112.ungroupedItems.add(_o107,_t215)}_this112._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return _createClass(Bh,[{key:"render",value:function(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(_h(this.viewElement)){for(var e,t=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new ma(t.lastChild),o=new ma(t);if(!this.cachedPadding){var _n184=is.window.getComputedStyle(t),_o108="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(_n184[_o108])}return"ltr"===e?n.right>o.right-this.cachedPadding:n.left<o.left+this.cachedPadding}},{key:"_enableGroupingOnResize",value:function(){var t,_this113=this;this.resizeObserver=new ka(this.viewElement,(function(e){t&&t===e.contentRect.width&&!_this113.shouldUpdateGroupingOnNextResize||(_this113.shouldUpdateGroupingOnNextResize=!1,_this113._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(t){var _this114=this;t.on("change:maxWidth",(function(){_this114._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new xh),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var t=this.viewLocale,e=t.t,n=Uh(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",qh(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:wd}),n.toolbarView.items.bindTo(this.groupedItems).using((function(t){return t})),n}},{key:"_updateFocusCycleableItems",value:function(){var _this115=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(t){_this115.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}]),Bh}(),zh=n(1046);Zr()(zh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),zh.Z.locals;var Lh=function(_Dd11){_inherits(Lh,_Dd11);var _super58=_createSuper(Lh);function Lh(){var _this116;return _classCallCheck(this,Lh),(_this116=_super58.call(this)).items=_this116.createCollection(),_this116.focusTracker=new Aa,_this116.keystrokes=new Ca,_this116._focusCycler=new vh({focusables:_this116.items,focusTracker:_this116.focusTracker,keystrokeHandler:_this116.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),_this116.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:_this116.items}),_this116}return _createClass(Lh,[{key:"render",value:function(){var _this117=this;_get(_getPrototypeOf(Lh.prototype),"render",this).call(this);var _step300,_iterator300=_createForOfIteratorHelper(this.items);try{for(_iterator300.s();!(_step300=_iterator300.n()).done;){var _t217=_step300.value;this.focusTracker.add(_t217.element)}}catch(err){_iterator300.e(err)}finally{_iterator300.f()}this.items.on("add",(function(t,e){_this117.focusTracker.add(e.element)})),this.items.on("remove",(function(t,e){_this117.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(Lh.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),Lh}(Dd),Oh=function(_Dd12){_inherits(Oh,_Dd12);var _super59=_createSuper(Oh);function Oh(t){var _this118;return _classCallCheck(this,Oh),(_this118=_super59.call(this,t)).children=_this118.createCollection(),_this118.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:_this118.children}),_this118}return _createClass(Oh,[{key:"focus",value:function(){this.children.first.focus()}}]),Oh}(Dd),Rh=function(_Dd13){_inherits(Rh,_Dd13);var _super60=_createSuper(Rh);function Rh(t){var _this119;return _classCallCheck(this,Rh),(_this119=_super60.call(this,t)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),_this119}return Rh}(Dd),jh=n(7339);Zr()(jh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),jh.Z.locals;var Vh=n(3949);function Uh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hh,n=new e(t),o=new ph(t),i=new Ch(t,n,o);return n.bind("isEnabled").to(i),n instanceof hh?n.bind("isOn").to(i,"isOpen"):n.arrowView.bind("isOn").to(i,"isOpen"),function(t){(function(t){t.on("render",(function(){Cd({emitter:t,activator:function(){return t.isOpen},callback:function(){t.isOpen=!1},contextElements:[t.element]})}))})(t),function(t){t.on("execute",(function(e){e.source instanceof ah||(t.isOpen=!1)}))}(t),function(t){t.keystrokes.set("arrowdown",(function(e,n){t.isOpen&&(t.panelView.focus(),n())})),t.keystrokes.set("arrowup",(function(e,n){t.isOpen&&(t.panelView.focusLast(),n())}))}(t)}(i),i}function qh(t,e){var n=t.locale,o=n.t,i=t.toolbarView=new Th(n);i.set("ariaLabel",o("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map((function(t){return i.items.add(t)})),t.panelView.children.add(i),i.items.delegate("execute").to(t)}function Wh(t,e){var n=t.locale,o=t.listView=new Lh(n);o.items.bindTo(e).using((function(_ref35){var t=_ref35.type,e=_ref35.model;if("separator"===t)return new Rh(n);if("button"===t||"switchbutton"===t){var _i103,_i102,_o109=new Oh(n);return(_i103=_i102="button"===t?new ih(n):new ah(n)).bind.apply(_i103,_toConsumableArray(Object.keys(e))).to(e),_i102.delegate("execute").to(_o109),_o109.children.add(_i102),_o109}})),t.panelView.children.add(o),o.items.delegate("execute").to(t)}Zr()(Vh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Vh.Z.locals;var Gh=n(9688);Zr()(Gh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Gh.Z.locals;var Qh=function(_Dd14){_inherits(Qh,_Dd14);var _super61=_createSuper(Qh);function Qh(t){var _this120;return _classCallCheck(this,Qh),(_this120=_super61.call(this,t)).body=new Kd(t),_this120}return _createClass(Qh,[{key:"render",value:function(){_get(_getPrototypeOf(Qh.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),_get(_getPrototypeOf(Qh.prototype),"destroy",this).call(this)}}]),Qh}(Dd),Kh=n(3662);Zr()(Kh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Kh.Z.locals;var Zh=function(_Dd15){_inherits(Zh,_Dd15);var _super62=_createSuper(Zh);function Zh(t){var _this121;_classCallCheck(this,Zh),(_this121=_super62.call(this,t)).set("text"),_this121.set("for"),_this121.id="ck-editor__label_".concat(r());var e=_this121.bindTemplate;return _this121.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:_this121.id,for:e.to("for")},children:[{text:e.to("text")}]}),_this121}return Zh}(Dd),Jh=function(_Qh){_inherits(Jh,_Qh);var _super63=_createSuper(Jh);function Jh(t){var _this122;return _classCallCheck(this,Jh),(_this122=_super63.call(this,t)).top=_this122.createCollection(),_this122.main=_this122.createCollection(),_this122._voiceLabelView=_this122._createVoiceLabel(),_this122.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":_this122._voiceLabelView.id},children:[_this122._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:_this122.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:_this122.main}]}),_this122}return _createClass(Jh,[{key:"_createVoiceLabel",value:function(){var t=this.t,e=new Zh;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}]),Jh}(Qh),tu=function(_Xh){_inherits(tu,_Xh);var _super65=_createSuper(tu);function tu(t,e,n){var _this125;return _classCallCheck(this,tu),(_this125=_super65.call(this,t,e,n)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),_this125}return _createClass(tu,[{key:"render",value:function(){var _this126=this;_get(_getPrototypeOf(tu.prototype),"render",this).call(this);var t=this._editingView,e=this.t;t.change((function(n){var o=t.document.getRoot(_this126.name);n.setAttribute("aria-label",e("Rich Text Editor, %0",_this126.name),o)}))}}]),tu}(function(_Dd16){_inherits(Xh,_Dd16);var _super64=_createSuper(Xh);function Xh(t,e,n){var _this123;return _classCallCheck(this,Xh),(_this123=_super64.call(this,t)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),_this123.name=null,_this123.set("isFocused",!1),_this123._editableElement=n,_this123._hasExternalElement=!!_this123._editableElement,_this123._editingView=e,_this123}return _createClass(Xh,[{key:"render",value:function(){var _this124=this;_get(_getPrototypeOf(Xh.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return _this124._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),_get(_getPrototypeOf(Xh.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var t=this._editingView;function e(e){t.change((function(n){var o=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",o),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",o)}))}t.isRenderingInProgress?function n(o){t.once("change:isRenderingInProgress",(function(t,i,r){r?n(o):e(o)}))}(this):e(this)}}]),Xh}(Dd)),eu=n(8847);Zr()(eu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),eu.Z.locals;var ou=n(4879);Zr()(ou.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ou.Z.locals;var su=function(_ru){_inherits(su,_ru);var _super67=_createSuper(su);function su(t){var _this130;return _classCallCheck(this,su),(_this130=_super67.call(this,t)).extendTemplate({attributes:{type:"text",class:["ck-input-text"]}}),_this130}return su}(function(_Dd17){_inherits(ru,_Dd17);var _super66=_createSuper(ru);function ru(t){var _this127;_classCallCheck(this,ru),(_this127=_super66.call(this,t)).set("value"),_this127.set("id"),_this127.set("placeholder"),_this127.set("isReadOnly",!1),_this127.set("hasError",!1),_this127.set("ariaDescribedById"),_this127.focusTracker=new Aa,_this127.bind("isFocused").to(_this127.focusTracker),_this127.set("isEmpty",!0),_this127.set("inputMode","text");var e=_this127.bindTemplate;return _this127.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),inputmode:e.to("inputMode"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to((function(){for(var _this128,_len20=arguments.length,t=new Array(_len20),_key20=0;_key20<_len20;_key20++)t[_key20]=arguments[_key20];(_this128=_this127).fire.apply(_this128,["input"].concat(t)),_this127._updateIsEmpty()})),change:e.to(_this127._updateIsEmpty.bind(_assertThisInitialized(_this127)))}}),_this127}return _createClass(ru,[{key:"render",value:function(){var _this129=this;_get(_getPrototypeOf(ru.prototype),"render",this).call(this),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(function(t,e,n){_this129._setDomElementValue(n),_this129._updateIsEmpty()}))}},{key:"destroy",value:function(){_get(_getPrototypeOf(ru.prototype),"destroy",this).call(this),this.focusTracker.destroy()}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}},{key:"_updateIsEmpty",value:function(){this.isEmpty=!this.element.value}},{key:"_setDomElementValue",value:function(t){this.element.value=t||0===t?t:""}}]),ru}(Dd)),au=n(2577);Zr()(au.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),au.Z.locals;var lu=function(_Dd18){_inherits(lu,_Dd18);var _super68=_createSuper(lu);function lu(t,e){var _this131;_classCallCheck(this,lu),_this131=_super68.call(this,t);var n="ck-labeled-field-view-".concat(r()),o="ck-labeled-field-view-status-".concat(r());_this131.fieldView=e(_assertThisInitialized(_this131),n,o),_this131.set("label"),_this131.set("isEnabled",!0),_this131.set("isEmpty",!0),_this131.set("isFocused",!1),_this131.set("errorText",null),_this131.set("infoText",null),_this131.set("class"),_this131.set("placeholder"),_this131.labelView=_this131._createLabelView(n),_this131.statusView=_this131._createStatusView(o),_this131.bind("_statusText").to(_assertThisInitialized(_this131),"errorText",_assertThisInitialized(_this131),"infoText",(function(t,e){return t||e}));var i=_this131.bindTemplate;return _this131.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",(function(t){return!t})),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[_this131.fieldView,_this131.labelView]},_this131.statusView]}),_this131}return _createClass(lu,[{key:"_createLabelView",value:function(t){var e=new Zh(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}},{key:"_createStatusView",value:function(t){var e=new Dd(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(function(t){return!t}))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}},{key:"focus",value:function(){this.fieldView.focus()}}]),lu}(Dd);function du(t,e,n){var o=new su(t.locale);return o.set({id:e,ariaDescribedById:n}),o.bind("isReadOnly").to(t,"isEnabled",(function(t){return!t})),o.bind("hasError").to(t,"errorText",(function(t){return!!t})),o.on("input",(function(){t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(o),o}var hu=function(_Lo2){_inherits(hu,_Lo2);var _super69=_createSuper(hu);function hu(){return _classCallCheck(this,hu),_super69.apply(this,arguments)}return _createClass(hu,[{key:"init",value:function(){this.on("show:warning",(function(t,e){window.alert(e.message)}),{priority:"lowest"})}},{key:"showSuccess",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}},{key:"showInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}},{key:"showWarning",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}},{key:"_showNotification",value:function(t){var e="show:".concat(t.type)+(t.namespace?":".concat(t.namespace):"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),hu}(Lo),uu=function uu(t,e){_classCallCheck(this,uu),e&&Jt(this,e),t&&this.set(t)};function gu(t){return function(e){return e+t}}he(uu,re);var mu=n(8793);Zr()(mu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),mu.Z.locals;var fu=gu("px"),ku=is.document.body,bu=function(_Dd19){_inherits(bu,_Dd19);var _super70=_createSuper(bu);function bu(t){var _this132;_classCallCheck(this,bu);var e=(_this132=_super70.call(this,t)).bindTemplate;return _this132.set("top",0),_this132.set("left",0),_this132.set("position","arrow_nw"),_this132.set("isVisible",!1),_this132.set("withArrow",!0),_this132.set("class"),_this132.content=_this132.createCollection(),_this132.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(function(t){return"ck-balloon-panel_".concat(t)})),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",fu),left:e.to("left",fu)}},children:_this132.content}),_this132}return _createClass(bu,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(t){this.show();var e=bu.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:ku,fitInViewport:!0},t),o=bu._getOptimalPosition(n),i=parseInt(o.left),r=parseInt(o.top),s=o.name,_o$config=o.config,_a$withArrow=(void 0===_o$config?{}:_o$config).withArrow,c=void 0===_a$withArrow||_a$withArrow;Object.assign(this,{top:r,left:i,position:s,withArrow:c})}},{key:"pin",value:function(t){var _this133=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){_this133.isVisible?_this133._startPinning(t):_this133._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(t){var _this134=this;this.attachTo(t);var e=wu(t.target),n=t.limiter?wu(t.limiter):ku;this.listenTo(is.document,"scroll",(function(o,i){var r=i.target,s=e&&r.contains(e),a=n&&r.contains(n);!s&&!a&&e&&n||_this134.attachTo(t)}),{useCapture:!0}),this.listenTo(is.window,"resize",(function(){_this134.attachTo(t)}))}},{key:"_stopPinning",value:function(){this.stopListening(is.document,"scroll"),this.stopListening(is.window,"resize")}}]),bu}(Dd);function wu(t){return vo(t)?t:ha(t)?t.commonAncestorContainer:"function"==typeof t?wu(t()):null}bu.arrowHorizontalOffset=25,bu.arrowVerticalOffset=10,bu.stickyVerticalOffset=20,bu._getOptimalPosition=bh,bu.defaultPositions=function(){var _ref36=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref36$horizontalOffs=_ref36.horizontalOffset,t=void 0===_ref36$horizontalOffs?bu.arrowHorizontalOffset:_ref36$horizontalOffs,_ref36$verticalOffset=_ref36.verticalOffset,e=void 0===_ref36$verticalOffset?bu.arrowVerticalOffset:_ref36$verticalOffset,_ref36$stickyVertical=_ref36.stickyVerticalOffset,n=void 0===_ref36$stickyVertical?bu.stickyVerticalOffset:_ref36$stickyVertical,o=_ref36.config;return{northWestArrowSouthWest:function(e,n){return _objectSpread({top:i(e,n),left:e.left-t,name:"arrow_sw"},o&&{config:o})},northWestArrowSouthMiddleWest:function(e,n){return _objectSpread({top:i(e,n),left:e.left-.25*n.width-t,name:"arrow_smw"},o&&{config:o})},northWestArrowSouth:function(t,e){return _objectSpread({top:i(t,e),left:t.left-e.width/2,name:"arrow_s"},o&&{config:o})},northWestArrowSouthMiddleEast:function(e,n){return _objectSpread({top:i(e,n),left:e.left-.75*n.width+t,name:"arrow_sme"},o&&{config:o})},northWestArrowSouthEast:function(e,n){return _objectSpread({top:i(e,n),left:e.left-n.width+t,name:"arrow_se"},o&&{config:o})},northArrowSouthWest:function(e,n){return _objectSpread({top:i(e,n),left:e.left+e.width/2-t,name:"arrow_sw"},o&&{config:o})},northArrowSouthMiddleWest:function(e,n){return _objectSpread({top:i(e,n),left:e.left+e.width/2-.25*n.width-t,name:"arrow_smw"},o&&{config:o})},northArrowSouth:function(t,e){return _objectSpread({top:i(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"},o&&{config:o})},northArrowSouthMiddleEast:function(e,n){return _objectSpread({top:i(e,n),left:e.left+e.width/2-.75*n.width+t,name:"arrow_sme"},o&&{config:o})},northArrowSouthEast:function(e,n){return _objectSpread({top:i(e,n),left:e.left+e.width/2-n.width+t,name:"arrow_se"},o&&{config:o})},northEastArrowSouthWest:function(e,n){return _objectSpread({top:i(e,n),left:e.right-t,name:"arrow_sw"},o&&{config:o})},northEastArrowSouthMiddleWest:function(e,n){return _objectSpread({top:i(e,n),left:e.right-.25*n.width-t,name:"arrow_smw"},o&&{config:o})},northEastArrowSouth:function(t,e){return _objectSpread({top:i(t,e),left:t.right-e.width/2,name:"arrow_s"},o&&{config:o})},northEastArrowSouthMiddleEast:function(e,n){return _objectSpread({top:i(e,n),left:e.right-.75*n.width+t,name:"arrow_sme"},o&&{config:o})},northEastArrowSouthEast:function(e,n){return _objectSpread({top:i(e,n),left:e.right-n.width+t,name:"arrow_se"},o&&{config:o})},southWestArrowNorthWest:function(e,n){return _objectSpread({top:r(e),left:e.left-t,name:"arrow_nw"},o&&{config:o})},southWestArrowNorthMiddleWest:function(e,n){return _objectSpread({top:r(e),left:e.left-.25*n.width-t,name:"arrow_nmw"},o&&{config:o})},southWestArrowNorth:function(t,e){return _objectSpread({top:r(t),left:t.left-e.width/2,name:"arrow_n"},o&&{config:o})},southWestArrowNorthMiddleEast:function(e,n){return _objectSpread({top:r(e),left:e.left-.75*n.width+t,name:"arrow_nme"},o&&{config:o})},southWestArrowNorthEast:function(e,n){return _objectSpread({top:r(e),left:e.left-n.width+t,name:"arrow_ne"},o&&{config:o})},southArrowNorthWest:function(e,n){return _objectSpread({top:r(e),left:e.left+e.width/2-t,name:"arrow_nw"},o&&{config:o})},southArrowNorthMiddleWest:function(e,n){return _objectSpread({top:r(e),left:e.left+e.width/2-.25*n.width-t,name:"arrow_nmw"},o&&{config:o})},southArrowNorth:function(t,e){return _objectSpread({top:r(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"},o&&{config:o})},southArrowNorthMiddleEast:function(e,n){return _objectSpread({top:r(e),left:e.left+e.width/2-.75*n.width+t,name:"arrow_nme"},o&&{config:o})},southArrowNorthEast:function(e,n){return _objectSpread({top:r(e),left:e.left+e.width/2-n.width+t,name:"arrow_ne"},o&&{config:o})},southEastArrowNorthWest:function(e,n){return _objectSpread({top:r(e),left:e.right-t,name:"arrow_nw"},o&&{config:o})},southEastArrowNorthMiddleWest:function(e,n){return _objectSpread({top:r(e),left:e.right-.25*n.width-t,name:"arrow_nmw"},o&&{config:o})},southEastArrowNorth:function(t,e){return _objectSpread({top:r(t),left:t.right-e.width/2,name:"arrow_n"},o&&{config:o})},southEastArrowNorthMiddleEast:function(e,n){return _objectSpread({top:r(e),left:e.right-.75*n.width+t,name:"arrow_nme"},o&&{config:o})},southEastArrowNorthEast:function(e,n){return _objectSpread({top:r(e),left:e.right-n.width+t,name:"arrow_ne"},o&&{config:o})},viewportStickyNorth:function(t,e,i){return t.getIntersection(i)?{top:i.top+n,left:t.left+t.width/2-e.width/2,name:"arrowless",config:_objectSpread({withArrow:!1},o)}:null}};function i(t,n){return t.top-n.height-e}function r(t){return t.bottom+e}}();var Au=n(4650);Zr()(Au.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Au.Z.locals;var _u=n(7676);Zr()(_u.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_u.Z.locals;var yu=gu("px"),xu=function(_ue){_inherits(xu,_ue);var _super71=_createSuper(xu);function xu(t){var _this135;return _classCallCheck(this,xu),(_this135=_super71.call(this,t)).positionLimiter=function(){var t=_this135.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},_this135.set("visibleView",null),_this135.view=new bu(t.locale),t.ui.view.body.add(_this135.view),t.ui.focusTracker.add(_this135.view.element),_this135._viewToStack=new Map,_this135._idToStack=new Map,_this135.set("_numberOfStacks",0),_this135.set("_singleViewMode",!1),_this135._rotatorView=_this135._createRotatorView(),_this135._fakePanelsView=_this135._createFakePanelsView(),_this135}return _createClass(xu,[{key:"destroy",value:function(){_get(_getPrototypeOf(xu.prototype),"destroy",this).call(this),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}},{key:"hasView",value:function(t){return Array.from(this._viewToStack.keys()).includes(t)}},{key:"add",value:function(t){if(this.hasView(t.view))throw new a("contextualballoon-add-view-exist",[this,t]);var e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));var n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}},{key:"remove",value:function(t){if(!this.hasView(t))throw new a("contextualballoon-remove-view-not-exist",[this,t]);var e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}},{key:"updatePosition",value:function(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(t){this.visibleStack=t;var e=this._idToStack.get(t);if(!e)throw new a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find((function(e){return e[1]===t}))[0]}},{key:"_showNextStack",value:function(){var t=Array.from(this._idToStack.values()),e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}},{key:"_showPrevStack",value:function(){var t=Array.from(this._idToStack.values()),e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}},{key:"_createRotatorView",value:function(){var _this136=this,t=new Eu(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(t,e){return!e&&t>1})),t.on("change:isNavigationVisible",(function(){return _this136.updatePosition()}),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,n){if(n<2)return"";var o=Array.from(_this136._idToStack.values()).indexOf(_this136._visibleStack)+1;return e("%0 of %1",[o,n])})),t.buttonNextView.on("execute",(function(){t.focusTracker.isFocused&&_this136.editor.editing.view.focus(),_this136._showNextStack()})),t.buttonPrevView.on("execute",(function(){t.focusTracker.isFocused&&_this136.editor.editing.view.focus(),_this136._showPrevStack()})),t}},{key:"_createFakePanelsView",value:function(){var t=new Du(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(t,e){return!e&&t>=2?Math.min(t-1,2):0})),t.listenTo(this.view,"change:top",(function(){return t.updatePosition()})),t.listenTo(this.view,"change:left",(function(){return t.updatePosition()})),this.editor.ui.view.body.add(t),t}},{key:"_showView",value:function(_ref37){var t=_ref37.view,_ref37$balloonClassNa=_ref37.balloonClassName,e=void 0===_ref37$balloonClassNa?"":_ref37$balloonClassNa,_ref37$withArrow=_ref37.withArrow,n=void 0===_ref37$withArrow||_ref37$withArrow,_ref37$singleViewMode=_ref37.singleViewMode,o=void 0!==_ref37$singleViewMode&&_ref37$singleViewMode;this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}],[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),xu}(ue),Eu=function(_Dd20){_inherits(Eu,_Dd20);var _super72=_createSuper(Eu);function Eu(t){var _this137;_classCallCheck(this,Eu),_this137=_super72.call(this,t);var e=t.t,n=_this137.bindTemplate;return _this137.set("isNavigationVisible",!0),_this137.focusTracker=new Aa,_this137.buttonPrevView=_this137._createButtonView(e("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),_this137.buttonNextView=_this137._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),_this137.content=_this137.createCollection(),_this137.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(function(t){return t?"":"ck-hidden"}))]},children:[_this137.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},_this137.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:_this137.content}]}),_this137}return _createClass(Eu,[{key:"render",value:function(){_get(_getPrototypeOf(Eu.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(Eu.prototype),"destroy",this).call(this),this.focusTracker.destroy()}},{key:"showView",value:function(t){this.hideView(),this.content.add(t)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(t,e){var n=new ih(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}]),Eu}(Dd),Du=function(_Dd21){_inherits(Du,_Dd21);var _super73=_createSuper(Du);function Du(t,e){var _this138;_classCallCheck(this,Du);var n=(_this138=_super73.call(this,t)).bindTemplate;return _this138.set("top",0),_this138.set("left",0),_this138.set("height",0),_this138.set("width",0),_this138.set("numberOfPanels",0),_this138.content=_this138.createCollection(),_this138._balloonPanelView=e,_this138.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(function(t){return t?"":"ck-hidden"}))],style:{top:n.to("top",yu),left:n.to("left",yu),width:n.to("width",yu),height:n.to("height",yu)}},children:_this138.content}),_this138.on("change:numberOfPanels",(function(t,e,n,o){n>o?_this138._addPanels(n-o):_this138._removePanels(o-n),_this138.updatePosition()})),_this138}return _createClass(Du,[{key:"_addPanels",value:function(t){for(;t--;){var _t218=new Dd;_t218.setTemplate({tag:"div"}),this.content.add(_t218),this.registerChild(_t218)}}},{key:"_removePanels",value:function(t){for(;t--;){var _t219=this.content.last;this.content.remove(_t219),this.deregisterChild(_t219),_t219.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var _this$_balloonPanelVi=this._balloonPanelView,_t220=_this$_balloonPanelVi.top,_e215=_this$_balloonPanelVi.left,_ma=new ma(this._balloonPanelView.element),_n185=_ma.width,_o110=_ma.height;Object.assign(this,{top:_t220,left:_e215,width:_n185,height:_o110})}}}]),Du}(Dd),Iu=n(5868);Zr()(Iu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Iu.Z.locals;var Tu=gu("px"),Su=function(_Dd22){_inherits(Su,_Dd22);var _super74=_createSuper(Su);function Su(t){var _this139;_classCallCheck(this,Su);var e=(_this139=_super74.call(this,t)).bindTemplate;return _this139.set("isActive",!1),_this139.set("isSticky",!1),_this139.set("limiterElement",null),_this139.set("limiterBottomOffset",50),_this139.set("viewportTopOffset",0),_this139.set("_marginLeft",null),_this139.set("_isStickyToTheLimiter",!1),_this139.set("_hasViewportTopOffset",!1),_this139.content=_this139.createCollection(),_this139._contentPanelPlaceholder=new Id({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",(function(t){return t?"block":"none"})),height:e.to("isSticky",(function(t){return t?Tu(_this139._panelRect.height):null}))}}}).render(),_this139._contentPanel=new Id({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",(function(t){return t?Tu(_this139._contentPanelPlaceholder.getBoundingClientRect().width):null})),top:e.to("_hasViewportTopOffset",(function(t){return t?Tu(_this139.viewportTopOffset):null})),bottom:e.to("_isStickyToTheLimiter",(function(t){return t?Tu(_this139.limiterBottomOffset):null})),marginLeft:e.to("_marginLeft")}},children:_this139.content}).render(),_this139.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[_this139._contentPanelPlaceholder,_this139._contentPanel]}),_this139}return _createClass(Su,[{key:"render",value:function(){var _this140=this;_get(_getPrototypeOf(Su.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(is.window,"scroll",(function(){_this140._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(function(){_this140._checkIfShouldBeSticky()}))}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Tu(-is.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),Su}(Dd);gu("px");var Nu=n(9695);Zr()(Nu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Nu.Z.locals,gu("px"),gu("px");var zu=n(4717);Zr()(zu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),zu.Z.locals;var Lu=new WeakMap;function Ou(t){var e=t.view,n=t.element,o=t.text,_t$isDirectHost=t.isDirectHost,i=void 0===_t$isDirectHost||_t$isDirectHost,_t$keepOnFocus=t.keepOnFocus,r=void 0!==_t$keepOnFocus&&_t$keepOnFocus,s=e.document;Lu.has(s)||(Lu.set(s,new Map),s.registerPostFixer((function(t){return ju(s,t)}))),Lu.get(s).set(n,{text:o,isDirectHost:i,keepOnFocus:r,hostElement:i?n:null}),e.change((function(t){return ju(s,t)}))}function ju(t,e){var _step301,n=Lu.get(t),o=[],i=!1,_iterator301=_createForOfIteratorHelper(n);try{for(_iterator301.s();!(_step301=_iterator301.n()).done;){var _step301$value=_slicedToArray(_step301.value,2),_t221=_step301$value[0],_r37=_step301$value[1];_r37.isDirectHost&&(o.push(_t221),Fu(e,_t221,_r37)&&(i=!0))}}catch(err){_iterator301.e(err)}finally{_iterator301.f()}var _step302,_iterator302=_createForOfIteratorHelper(n);try{for(_iterator302.s();!(_step302=_iterator302.n()).done;){var _step302$value=_slicedToArray(_step302.value,2),_t222=_step302$value[0],_r38=_step302$value[1];if(!_r38.isDirectHost){var _n186=Vu(_t222);_n186&&(o.includes(_n186)||(_r38.hostElement=_n186,Fu(e,_t222,_r38)&&(i=!0)))}}}catch(err){_iterator302.e(err)}finally{_iterator302.f()}return i}function Fu(t,e,n){var o=n.text,i=n.isDirectHost,r=n.hostElement,s=!1;return r.getAttribute("data-placeholder")!==o&&(t.setAttribute("data-placeholder",o,r),s=!0),(i||1==e.childCount)&&function(t,e){if(!t.isAttached())return!1;if(Array.from(t.getChildren()).some((function(t){return!t.is("uiElement")})))return!1;if(e)return!0;var o=t.document;if(!o.isFocused)return!0;var i=o.selection.anchor;return i&&i.parent!==t}(r,n.keepOnFocus)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,r)&&(s=!0):function(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}(t,r)&&(s=!0),s}function Vu(t){if(t.childCount){var _e216=t.getChild(0);if(_e216.is("element")&&!_e216.is("uiElement"))return _e216}return null}var Hu=new Map;function Uu(t,e,n){var o=Hu.get(t);o||(o=new Map,Hu.set(t,o)),o.set(e,n)}function qu(t){return[t]}function Wu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(t,e){var n=Hu.get(t);return n&&n.has(e)?n.get(e):qu}(t.constructor,e.constructor);try{return o(t=t.clone(),e,n)}catch(t){throw t}}function Gu(t,e,n){t=t.slice(),e=e.slice();var o=new Yu(n.document,n.useRelations,n.forceWeakRemove);o.setOriginalOperations(t),o.setOriginalOperations(e);var i=o.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:i};var _step303,r=new WeakMap,_iterator303=_createForOfIteratorHelper(t);try{for(_iterator303.s();!(_step303=_iterator303.n()).done;){var _e218=_step303.value;r.set(_e218,0)}}catch(err){_iterator303.e(err)}finally{_iterator303.f()}for(var s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},a=0;a<t.length;){var _t223,_e217,_n187=t[a],_i104=r.get(_n187);if(_i104!=e.length){var _s24=e[_i104],_c6=Wu(_n187,_s24,o.getContext(_n187,_s24,!0)),_l2=Wu(_s24,_n187,o.getContext(_s24,_n187,!1));o.updateRelation(_n187,_s24),o.setOriginalOperations(_c6,_n187),o.setOriginalOperations(_l2,_s24);var _step304,_iterator304=_createForOfIteratorHelper(_c6);try{for(_iterator304.s();!(_step304=_iterator304.n()).done;){var _t224=_step304.value;r.set(_t224,_i104+_l2.length)}}catch(err){_iterator304.e(err)}finally{_iterator304.f()}(_t223=t).splice.apply(_t223,[a,1].concat(_toConsumableArray(_c6))),(_e217=e).splice.apply(_e217,[_i104,1].concat(_toConsumableArray(_l2)))}else a++}if(n.padWithNoOps){var _n188=t.length-s.originalOperationsACount,_o111=e.length-s.originalOperationsBCount;Ku(t,_o111-_n188),Ku(e,_n188-_o111)}return Qu(t,s.nextBaseVersionB),Qu(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:i}}var Yu=function(){function Yu(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,Yu),this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}return _createClass(Yu,[{key:"setOriginalOperations",value:function(t){var _step305,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e?this.originalOperations.get(e):null,_iterator305=_createForOfIteratorHelper(t);try{for(_iterator305.s();!(_step305=_iterator305.n()).done;){var _e219=_step305.value;this.originalOperations.set(_e219,n||_e219)}}catch(err){_iterator305.e(err)}finally{_iterator305.f()}}},{key:"updateRelation",value:function(t,e){switch(t.constructor){case pl:switch(e.constructor){case Al:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case pl:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case Cl:switch(e.constructor){case Al:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case pl:if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{var _n189=Wa._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&_n189.containsPosition(t.splitPosition)){var _o112=_n189.end.offset-t.splitPosition.offset,_i105=t.splitPosition.offset-_n189.start.offset;this._setRelation(t,e,{howMany:_o112,offset:_i105})}}}break;case Al:switch(e.constructor){case Al:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case Cl:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case kl:var _n190=t.newRange;if(!_n190)return;switch(e.constructor){case pl:var _o113=Wa._createFromPositionAndShift(e.sourcePosition,e.howMany),_i106=_o113.containsPosition(_n190.start)||_o113.start.isEqual(_n190.start),_r39=_o113.containsPosition(_n190.end)||_o113.end.isEqual(_n190.end);!_i106&&!_r39||_o113.containsRange(_n190)||this._setRelation(t,e,{side:_i106?"left":"right",path:_i106?_n190.start.path.slice():_n190.end.path.slice()});break;case Al:var _o114=_n190.start.isEqual(e.targetPosition),_i107=_n190.start.isEqual(e.deletionPosition),_r40=_n190.end.isEqual(e.deletionPosition),_s25=_n190.end.isEqual(e.sourcePosition);(_o114||_i107||_r40||_s25)&&this._setRelation(t,e,{wasInLeftElement:_o114,wasStartBeforeMergedElement:_i107,wasEndBeforeMergedElement:_r40,wasInRightElement:_s25})}}}},{key:"getContext",value:function(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(t){var e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}},{key:"_getRelation",value:function(t,e){var n=this.originalOperations.get(e),o=this._history.getUndoneOperation(n);if(!o)return null;var i=this.originalOperations.get(t),r=this._relations.get(i);return r&&r.get(o)||null}},{key:"_setRelation",value:function(t,e,n){var o=this.originalOperations.get(t),i=this.originalOperations.get(e),r=this._relations.get(o);r||(r=new Map,this._relations.set(o,r)),r.set(i,n)}}]),Yu}();function Qu(t,e){var _step306,_iterator306=_createForOfIteratorHelper(t);try{for(_iterator306.s();!(_step306=_iterator306.n()).done;){_step306.value.baseVersion=e++}}catch(err){_iterator306.e(err)}finally{_iterator306.f()}}function Ku(t,e){for(var _n192=0;_n192<e;_n192++)t.push(new Vl(0))}function $u(t,e,n){var o=t.nodes.getNode(0).getAttribute(e);if(o==n)return null;var i=new Wa(t.position,t.position.getShiftedBy(t.howMany));return new gl(i,e,o,n,0)}function Zu(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Ju(t,e){for(var n=[],_o115=0;_o115<t.length;_o115++){var _i108=t[_o115],_r41=new pl(_i108.start,_i108.end.offset-_i108.start.offset,e,0);n.push(_r41);for(var _e220=_o115+1;_e220<t.length;_e220++)t[_e220]=t[_e220]._getTransformedByMove(_r41.sourcePosition,_r41.targetPosition,_r41.howMany)[0];e=e._getTransformedByMove(_r41.sourcePosition,_r41.targetPosition,_r41.howMany)}return n}Uu(gl,gl,(function(t,e,n){if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){var _o116=t.range.getDifference(e.range).map((function(e){return new gl(e,t.key,t.oldValue,t.newValue,0)})),_i109=t.range.getIntersection(e.range);return _i109&&n.aIsStrong&&_o116.push(new gl(_i109,e.key,e.newValue,t.newValue,0)),0==_o116.length?[new Vl(0)]:_o116}return[t]})),Uu(gl,fl,(function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var _n193=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map((function(e){return new gl(e,t.key,t.oldValue,t.newValue,t.baseVersion)}));if(e.shouldReceiveAttributes){var _o117=$u(e,t.key,t.oldValue);_o117&&_n193.unshift(_o117)}return _n193}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),Uu(gl,Al,(function(t,e){var n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(Wa._createFromPositionAndShift(e.graveyardPosition,1));var o=t.range._getTransformedByMergeOperation(e);return o.isCollapsed||n.push(o),n.map((function(e){return new gl(e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),Uu(gl,pl,(function(t,e){return function(t,e){var n=Wa._createFromPositionAndShift(e.sourcePosition,e.howMany),o=null,i=[];n.containsRange(t,!0)?o=t:t.start.hasSameParentAs(n.start)?(i=t.getDifference(n),o=t.getIntersection(n)):i=[t];var _step307,r=[],_iterator307=_createForOfIteratorHelper(i);try{for(_iterator307.s();!(_step307=_iterator307.n()).done;){var _t225=_step307.value;_t225=_t225._getTransformedByDeletion(e.sourcePosition,e.howMany);var _n194=e.getMovedRangeStart(),_o118=_t225.start.hasSameParentAs(_n194);_t225=_t225._getTransformedByInsertion(_n194,e.howMany,_o118),r.push.apply(r,_toConsumableArray(_t225))}}catch(err){_iterator307.e(err)}finally{_iterator307.f()}return o&&r.push(o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}(t.range,e).map((function(e){return new gl(e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),Uu(gl,Cl,(function(t,e){if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){var _n195=t.clone();return _n195.range=new Wa(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,_n195]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),Uu(fl,gl,(function(t,e){var n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){var _o119=$u(t,e.key,e.newValue);_o119&&n.push(_o119)}return n})),Uu(fl,fl,(function(t,e,n){return t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]})),Uu(fl,pl,(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),Uu(fl,Cl,(function(t,e){return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Uu(fl,Al,(function(t,e){return t.position=t.position._getTransformedByMergeOperation(e),[t]})),Uu(kl,fl,(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]})),Uu(kl,kl,(function(t,e,n){if(t.name==e.name){if(!n.aIsStrong)return[new Vl(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),Uu(kl,Al,(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]})),Uu(kl,pl,(function(t,e,n){if(t.oldRange&&(t.oldRange=Wa._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){var _o120=Wa._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=_o120.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=_o120.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=Wa._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),Uu(kl,Cl,(function(t,e,n){if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){var _o121=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Va._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=Va._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=Va._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=Va._createAt(e.insertionPosition):t.newRange.end=_o121.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),Uu(Al,fl,(function(t,e){return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]})),Uu(Al,Al,(function(t,e,n){if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){var _n196=e.graveyardPosition.path.slice();return _n196.push(0),t.sourcePosition=new Va(e.graveyardPosition.root,_n196),t.howMany=0,[t]}return[new Vl(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var _o122="$graveyard"==t.targetPosition.root.rootName,_i110="$graveyard"==e.targetPosition.root.rootName;if(_i110&&!_o122||!(_o122&&!_i110)&&n.aIsStrong){var _n197=e.targetPosition._getTransformedByMergeOperation(e),_o123=t.targetPosition._getTransformedByMergeOperation(e);return[new pl(_n197,t.howMany,_o123,0)]}return[new Vl(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Uu(Al,pl,(function(t,e,n){var o=Wa._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.sourcePosition)?[new Vl(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),Uu(Al,Cl,(function(t,e,n){if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){var _o124=0!=e.howMany,_i111=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(_o124||_i111||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),Uu(pl,fl,(function(t,e){var n=Wa._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),Uu(pl,pl,(function(t,e,n){var r,o=Wa._createFromPositionAndShift(t.sourcePosition,t.howMany),i=Wa._createFromPositionAndShift(e.sourcePosition,e.howMany),s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Zu(t,e)&&Zu(e,t))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ju([o],r);if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ju([o],r);var c=Oo(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ju([o],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;var _step308,l=[],_iterator308=_createForOfIteratorHelper(o.getDifference(i));try{for(_iterator308.s();!(_step308=_iterator308.n()).done;){var _t226=_step308.value;_t226.start=_t226.start._getTransformedByDeletion(e.sourcePosition,e.howMany),_t226.end=_t226.end._getTransformedByDeletion(e.sourcePosition,e.howMany);var _n198="same"==Oo(_t226.start.getParentPath(),e.getMovedRangeStart().getParentPath()),_o125=_t226._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,_n198);l.push.apply(l,_toConsumableArray(_o125))}}catch(err){_iterator308.e(err)}finally{_iterator308.f()}var h=o.getIntersection(i);return null!==h&&s&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(h):1==l.length?i.start.isBefore(o.start)||i.start.isEqual(o.start)?l.unshift(h):l.push(h):l.splice(1,0,h)),0===l.length?[new Vl(t.baseVersion)]:Ju(l,r)})),Uu(pl,Cl,(function(t,e,n){var o=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(o=t.targetPosition._getTransformedBySplitOperation(e));var i=Wa._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=o,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){var _t227=new Wa(e.splitPosition,i.end);return _t227=_t227._getTransformedBySplitOperation(e),Ju([new Wa(i.start,e.splitPosition),_t227],o)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(o=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(o=t.targetPosition);var r=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){var _o126=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);t.howMany>1&&_o126&&!n.aWasUndone&&r.push(Wa._createFromPositionAndShift(e.insertionPosition,1))}return Ju(r,o)})),Uu(pl,Al,(function(t,e,n){var o=Wa._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Vl(0)]}else if(!n.aWasUndone){var _n199=[],_o127=e.graveyardPosition.clone(),_i112=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(_n199.push(new pl(t.sourcePosition,t.howMany-1,t.targetPosition,0)),_o127=_o127._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),_i112=_i112._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));var _r43=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),_s26=new pl(_o127,1,_r43,0),_a14=_s26.getMovedRangeStart().path.slice();_a14.push(0);var _c7=new Va(_s26.targetPosition.root,_a14);_i112=_i112._getTransformedByMove(_o127,_r43,1);var _l3=new pl(_i112,e.howMany,_c7,0);return _n199.push(_s26),_n199.push(_l3),_n199}var i=Wa._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),Uu(bl,fl,(function(t,e){return t.position=t.position._getTransformedByInsertOperation(e),[t]})),Uu(bl,Al,(function(t,e){return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])})),Uu(bl,pl,(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),Uu(bl,bl,(function(t,e,n){if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Vl(0)];t.oldName=e.newName}return[t]})),Uu(bl,Cl,(function(t,e){if("same"==Oo(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){var _e221=new bl(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,_e221]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Uu(wl,wl,(function(t,e,n){if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Vl(0)];t.oldValue=e.newValue}return[t]})),Uu(Cl,fl,(function(t,e){return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]})),Uu(Cl,Al,(function(t,e,n){if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){var _n200=e.graveyardPosition.path.slice();_n200.push(0);var _o128=new Va(e.graveyardPosition.root,_n200),_i113=Cl.getInsertionPosition(new Va(e.graveyardPosition.root,_n200)),_r44=new Cl(_o128,0,_i113,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Cl.getInsertionPosition(t.splitPosition),t.graveyardPosition=_r44.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[_r44,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Cl.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Uu(Cl,pl,(function(t,e,n){var o=Wa._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){var _i114=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&_i114){var _n201=t.splitPosition._getTransformedByMoveOperation(e),_o129=t.graveyardPosition._getTransformedByMoveOperation(e),_i115=_o129.path.slice();_i115.push(0);var _r45=new Va(_o129.root,_i115);return[new pl(_n201,t.howMany,_r45,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}var i=t.splitPosition.isEqual(e.targetPosition);if(i&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Cl.getInsertionPosition(t.splitPosition),[t];if(i&&n.abRelation&&n.abRelation.howMany){var _n$abRelation=n.abRelation,_e222=_n$abRelation.howMany,_o130=_n$abRelation.offset;return t.howMany+=_e222,t.splitPosition=t.splitPosition.getShiftedBy(_o130),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.splitPosition)){var _n202=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=_n202,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Cl.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=Cl.getInsertionPosition(t.splitPosition),[t]})),Uu(Cl,Cl,(function(t,e,n){if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Vl(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Vl(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){var _o131="$graveyard"==t.splitPosition.root.rootName,_i116="$graveyard"==e.splitPosition.root.rootName;if(_i116&&!_o131||!(_o131&&!_i116)&&n.aIsStrong){var _n203=[];return e.howMany&&_n203.push(new pl(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&_n203.push(new pl(t.splitPosition,t.howMany,t.moveTargetPosition,0)),_n203}return[new Vl(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){var _n204=e.insertionPosition.path.slice();_n204.push(0);var _o132=new Va(e.insertionPosition.root,_n204);return[t,new pl(t.insertionPosition,1,_o132,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Cl.getInsertionPosition(t.splitPosition),[t]}));var Xu=function(_qs5){_inherits(Xu,_qs5);var _super75=_createSuper(Xu);function Xu(t){var _this141;return _classCallCheck(this,Xu),(_this141=_super75.call(this,t)).domEventType="click",_this141}return _createClass(Xu,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),Xu}(qs),tg=function(_qs6){_inherits(tg,_qs6);var _super76=_createSuper(tg);function tg(t){var _this142;return _classCallCheck(this,tg),(_this142=_super76.call(this,t)).domEventType=["mousedown","mouseup","mouseover","mouseout"],_this142}return _createClass(tg,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),tg}(qs),eg=function(){function eg(t){_classCallCheck(this,eg),this.document=t}return _createClass(eg,[{key:"createDocumentFragment",value:function(t){return new Cr(this.document,t)}},{key:"createElement",value:function(t,e,n){return new Ti(this.document,t,e,n)}},{key:"createText",value:function(t){return new Fo(this.document,t)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t._clone(e)}},{key:"appendChild",value:function(t,e){return e._appendChild(t)}},{key:"insertChild",value:function(t,e,n){return n._insertChild(t,e)}},{key:"removeChildren",value:function(t,e,n){return n._removeChildren(t,e)}},{key:"remove",value:function(t){var e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}},{key:"replace",value:function(t,e){var n=t.parent;if(n){var _o133=n.getChildIndex(t);return this.removeChildren(_o133,1,n),this.insertChild(_o133,e,n),!0}return!1}},{key:"unwrapElement",value:function(t){var e=t.parent;if(e){var _n205=e.getChildIndex(t);this.remove(t),this.insertChild(_n205,t.getChildren(),e)}}},{key:"rename",value:function(t,e){var n=new Ti(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){ye(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"createPositionAt",value:function(t,e){return Ri._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return Ri._createAfter(t)}},{key:"createPositionBefore",value:function(t){return Ri._createBefore(t)}},{key:"createRange",value:function(t,e){return new ji(t,e)}},{key:"createRangeOn",value:function(t){return ji._createOn(t)}},{key:"createRangeIn",value:function(t){return ji._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Hi(t,e,n)}}]),eg}();new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);var ng=function(_md){_inherits(ng,_md);var _super77=_createSuper(ng);function ng(t,e){var _this143;return _classCallCheck(this,ng),(_this143=_super77.call(this,t)).view=e,_this143._toolbarConfig=Dh(t.config.get("toolbar")),_this143._elementReplacer=new da,_this143}return _createClass(ng,[{key:"element",get:function(){return this.view.element}},{key:"init",value:function(t){var e=this.editor,n=this.view,o=e.editing.view,i=n.editable,r=o.document.getRoot();i.name=r.rootName,n.render();var s=i.element;this.setEditableElement(i.name,s),this.focusTracker.add(s),n.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(s),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),_get(_getPrototypeOf(ng.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(function(_ref38){return _ref38.top})),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function(_ref39){var t=_ref39.origin,e=_ref39.originKeystrokeHandler,n=_ref39.originFocusTracker,o=_ref39.toolbar,i=_ref39.beforeFocus,r=_ref39.afterBlur;n.add(o.element),e.set("Alt+F10",(function(t,e){n.isFocused&&!o.focusTracker.isFocused&&(i&&i(),o.focus(),e())})),o.keystrokes.set("Esc",(function(e,n){o.focusTracker.isFocused&&(t.focus(),r&&r(),n())}))}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}},{key:"_initPlaceholder",value:function(){var t=this.editor,e=t.editing.view,n=e.document.getRoot(),o=t.sourceElement,i=t.config.get("placeholder")||o&&"textarea"===o.tagName.toLowerCase()&&o.getAttribute("placeholder");i&&Ou({view:e,element:n,text:i,isDirectHost:!1,keepOnFocus:!0})}}]),ng}(md),og=n(3143);Zr()(og.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),og.Z.locals;var rg=function(_Jh){_inherits(rg,_Jh);var _super78=_createSuper(rg);function rg(t,e){var _this144,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,rg),(_this144=_super78.call(this,t)).stickyPanel=new Su(t),_this144.toolbar=new Th(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),_this144.editable=new tu(t,e),_this144}return _createClass(rg,[{key:"render",value:function(){_get(_getPrototypeOf(rg.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),rg}(Jh),sg=function(_hd){_inherits(sg,_hd);var _super79=_createSuper(sg);function sg(t,e){var _this145;_classCallCheck(this,sg),_this145=_super79.call(this,e),vo(t)&&(_this145.sourceElement=t),_this145.model.document.createRoot();var n=!_this145.config.get("toolbar.shouldNotGroupWhenFull"),o=new rg(_this145.locale,_this145.editing.view,{shouldToolbarGroupWhenFull:n});return _this145.ui=new ng(_assertThisInitialized(_this145),o),function(t){if(!R(t.updateSourceElement))throw new a("attachtoform-missing-elementapi-interface",t);var e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){var _n206,_o134=e.form,_i117=function(){return t.updateSourceElement()};R(_o134.submit)&&(_n206=_o134.submit,_o134.submit=function(){_i117(),_n206.apply(_o134)}),_o134.addEventListener("submit",_i117),t.on("destroy",(function(){_o134.removeEventListener("submit",_i117),_n206&&(_o134.submit=_n206)}))}}(_assertThisInitialized(_this145)),_this145}return _createClass(sg,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),_get(_getPrototypeOf(sg.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(t){var _this146=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var o=new _this146(t,e);n(o.initPlugins().then((function(){return o.ui.init(vo(t)?t:null)})).then((function(){if(!vo(t)&&e.initialData)throw new a("editor-create-initial-data",null);var n=void 0!==e.initialData?e.initialData:function(t){return vo(t)?(e=t)instanceof HTMLTextAreaElement?e.value:e.innerHTML:t;var e}(t);return o.data.init(n)})).then((function(){return o.fire("ready")})).then((function(){return o})))}))}}]),sg}(hd);he(sg,fd),he(sg,kd);var ag=function(){function ag(t){_classCallCheck(this,ag),this.files=function(t){var e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e.length?e:n.filter((function(t){return"file"===t.kind})).map((function(t){return t.getAsFile()}))}(t),this._native=t}return _createClass(ag,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(t){return this._native.getData(t)}},{key:"setData",value:function(t,e){this._native.setData(t,e)}},{key:"effectAllowed",get:function(){return this._native.effectAllowed},set:function(t){this._native.effectAllowed=t}},{key:"dropEffect",get:function(){return this._native.dropEffect},set:function(t){this._native.dropEffect=t}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}]),ag}(),cg=function(_qs7){_inherits(cg,_qs7);var _super80=_createSuper(cg);function cg(t){var _this147;_classCallCheck(this,cg);var n=(_this147=_super80.call(this,t)).document;function o(t){return function(o,i){i.preventDefault();var r=i.dropRange?[i.dropRange]:null,s=new e(n,t);n.fire(s,{dataTransfer:i.dataTransfer,method:o.name,targetRanges:r,target:i.target}),s.stop.called&&i.stopPropagation()}}return _this147.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],_this147.listenTo(n,"paste",o("clipboardInput"),{priority:"low"}),_this147.listenTo(n,"drop",o("clipboardInput"),{priority:"low"}),_this147.listenTo(n,"dragover",o("dragging"),{priority:"low"}),_this147}return _createClass(cg,[{key:"onDomEvent",value:function(t){var e={dataTransfer:new ag(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"!=t.type&&"dragover"!=t.type||(e.dropRange=function(t,e){var r,n=e.target.ownerDocument,o=e.clientX,i=e.clientY;return n.caretRangeFromPoint&&n.caretRangeFromPoint(o,i)?r=n.caretRangeFromPoint(o,i):e.rangeParent&&((r=n.createRange()).setStart(e.rangeParent,e.rangeOffset),r.collapse(!0)),r?t.domConverter.domRangeToView(r):null}(this.view,t)),this.fire(t.type,t,e)}}]),cg}(qs),lg=["figcaption","li"];var hg=function(_ue2){_inherits(hg,_ue2);var _super81=_createSuper(hg);function hg(){return _classCallCheck(this,hg),_super81.apply(this,arguments)}return _createClass(hg,[{key:"init",value:function(){this.editor.editing.view.addObserver(cg),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var _this148=this,t=this.editor,n=t.model,o=t.editing.view,i=o.document;this.listenTo(i,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",(function(t,n){var s,i=n.dataTransfer,r=n.content||"";r||(i.getData("text/html")?r=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(t,e){return 1==e.length?" ":e})).replace(/<!--[\s\S]*?-->/g,"")}(i.getData("text/html")):i.getData("text/plain")&&(((s=(s=i.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||s.includes("<br>"))&&(s="<p>".concat(s,"</p>")),r=s),r=_this148.editor.data.htmlProcessor.toView(r));var a=new e(_this148,"inputTransformation");_this148.fire(a,{content:r,dataTransfer:i,targetRanges:n.targetRanges,method:n.method}),a.stop.called&&t.stop(),o.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(t,e){if(!e.content.isEmpty){var o=_this148.editor.data.toModel(e.content,"$clipboardHolder");0!=o.childCount&&(t.stop(),n.change((function(){_this148.fire("contentInsertion",{content:o,method:e.method,dataTransfer:e.dataTransfer,targetRanges:e.targetRanges})})))}}),{priority:"low"}),this.listenTo(this,"contentInsertion",(function(t,e){e.resultRange=n.insertContent(e.content)}),{priority:"low"})}},{key:"_setupCopyCut",value:function(){var _this149=this,t=this.editor,e=t.model.document,n=t.editing.view.document;function o(o,i){var r=i.dataTransfer;i.preventDefault();var s=t.data.toView(t.model.getSelectedContent(e.selection));n.fire("clipboardOutput",{dataTransfer:r,content:s,method:o.name})}this.listenTo(n,"copy",o,{priority:"low"}),this.listenTo(n,"cut",(function(e,n){t.isReadOnly?n.preventDefault():o(e,n)}),{priority:"low"}),this.listenTo(n,"clipboardOutput",(function(n,o){o.content.isEmpty||(o.dataTransfer.setData("text/html",_this149.editor.data.htmlProcessor.toData(o.content)),o.dataTransfer.setData("text/plain",function dg(t){var e="";if(t.is("$text")||t.is("$textProxy"))e=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))e=t.getAttribute("alt");else if(t.is("element","br"))e="\n";else{var _step309,_n207=null,_iterator309=_createForOfIteratorHelper(t.getChildren());try{for(_iterator309.s();!(_step309=_iterator309.n()).done;){var _o135=_step309.value,_t228=dg(_o135);_n207&&(_n207.is("containerElement")||_o135.is("containerElement"))&&(lg.includes(_n207.name)||lg.includes(_o135.name)?e+="\n":e+="\n\n"),e+=_t228,_n207=_o135}}catch(err){_iterator309.e(err)}finally{_iterator309.f()}}return e}(o.content))),"cut"==o.method&&t.model.deleteContent(e.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ClipboardPipeline"}}]),hg}(ue);function ug(t,e){var _iterator310,_step310,_n208;return regeneratorRuntime.wrap((function(_context37){for(;;)switch(_context37.prev=_context37.next){case 0:_iterator310=_createForOfIteratorHelper(e),_context37.prev=1,_iterator310.s();case 3:if((_step310=_iterator310.n()).done){_context37.next=11;break}if(_n208=_step310.value,_context37.t0=_n208&&t.getAttributeProperties(_n208[0]).copyOnEnter,!_context37.t0){_context37.next=9;break}return _context37.next=9,_n208;case 9:_context37.next=3;break;case 11:_context37.next=16;break;case 13:_context37.prev=13,_context37.t1=_context37.catch(1),_iterator310.e(_context37.t1);case 16:return _context37.prev=16,_iterator310.f(),_context37.finish(16);case 19:case"end":return _context37.stop()}}),_marked3,null,[[1,13,16,19]])}var gg=function(_me2){_inherits(gg,_me2);var _super82=_createSuper(gg);function gg(){return _classCallCheck(this,gg),_super82.apply(this,arguments)}return _createClass(gg,[{key:"execute",value:function(){var _this150=this,t=this.editor.model,e=t.document;t.change((function(n){!function(t,e,n,o){var i=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(o.isLimit(s)||o.isLimit(a))i||s!=a||t.deleteContent(n);else if(i){var _t229=ug(e.model.schema,n.getAttributes());mg(e,r.start),e.setSelectionAttribute(_t229)}else{var _o136=!(r.start.isAtStart&&r.end.isAtEnd),_i118=s==a;t.deleteContent(n,{leaveUnmerged:_o136}),_o136&&(_i118?mg(e,n.focus):e.setSelection(a,0))}}(_this150.editor.model,n,e.selection,t.schema),_this150.fire("afterExecute",{writer:n})}))}}]),gg}(me);function mg(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}var pg=function(_As6){_inherits(pg,_As6);var _super83=_createSuper(pg);function pg(t){var _this151;_classCallCheck(this,pg);var e=(_this151=_super83.call(this,t)).document;return e.on("keydown",(function(t,n){if(_this151.isEnabled&&n.keyCode==dr.enter){var _o137=new qi(e,"enter",e.selection.getFirstRange());e.fire(_o137,new Us(e,n.domEvent,{isSoft:n.shiftKey})),_o137.stop.called&&t.stop()}})),_this151}return _createClass(pg,[{key:"observe",value:function(){}}]),pg}(As),fg=function(_ue3){_inherits(fg,_ue3);var _super84=_createSuper(fg);function fg(){return _classCallCheck(this,fg),_super84.apply(this,arguments)}return _createClass(fg,[{key:"init",value:function(){var t=this.editor,e=t.editing.view,n=e.document;e.addObserver(pg),t.commands.add("enter",new gg(t)),this.listenTo(n,"enter",(function(n,o){o.preventDefault(),o.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),fg}(ue),kg=function(){function kg(t){var _this152=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;_classCallCheck(this,kg),this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=function(t,e){e.isLocal&&e.isUndoable&&e!==_this152._batch&&_this152._reset(!0)},this._selectionChangeCallback=function(){_this152._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return _createClass(kg,[{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}},{key:"input",value:function(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}]),kg}(),bg=function(_me3){_inherits(bg,_me3);var _super85=_createSuper(bg);function bg(t,e){var _this153;return _classCallCheck(this,bg),(_this153=_super85.call(this,t)).direction=e,_this153._buffer=new kg(t.model,t.config.get("typing.undoStep")),_this153}return _createClass(bg,[{key:"buffer",get:function(){return this._buffer}},{key:"execute",value:function(){var _this154=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,(function(o){_this154._buffer.lock();var i=o.createSelection(t.selection||n.selection),r=t.sequence||1,s=i.isCollapsed;if(i.isCollapsed&&e.modifySelection(i,{direction:_this154.direction,unit:t.unit}),_this154._shouldEntireContentBeReplacedWithParagraph(r))_this154._replaceEntireContentWithParagraph(o);else if(_this154._shouldReplaceFirstBlockWithParagraph(i,r))_this154.editor.execute("paragraph",{selection:i});else if(!i.isCollapsed){var a=0;i.getFirstRange().getMinimalFlatRanges().forEach((function(t){a+=Vi(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(i,{doNotResetEntireContent:s,direction:_this154.direction}),_this154._buffer.input(a),o.setSelection(i),_this154._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(t){if(t>1)return!1;var e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(o))return!1;if(!e.schema.checkChild(o,"paragraph"))return!1;var i=o.getChild(0);return!i||"paragraph"!==i.name}},{key:"_replaceEntireContentWithParagraph",value:function(t){var e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n),i=t.createElement("paragraph");t.remove(t.createRangeIn(o)),t.insert(i,o),t.setSelection(i,0)}},{key:"_shouldReplaceFirstBlockWithParagraph",value:function(t,e){var n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;var o=t.getFirstPosition(),i=n.schema.getLimitElement(o),r=i.getChild(0);return o.parent==r&&!!t.containsEntireContent(r)&&!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=r.name}}]),bg}(me);function wg(t){if(t.newChildren.length-t.oldChildren.length==1){var e=function(t,e){var o,n=[],i=0;return t.forEach((function(t){"equal"==t?(r(),i++):"insert"==t?(s("insert")?o.values.push(e[i]):(r(),o={type:"insert",index:i,values:[e[i]]}),i++):s("delete")?o.howMany++:(r(),o={type:"delete",index:i,howMany:1})})),r(),n;function r(){o&&(n.push(o),o=null)}function s(t){return o&&o.type==t}}(Wr(t.oldChildren,t.newChildren,Ag),t.newChildren);if(!(e.length>1)){var n=e[0];return n.values[0]&&n.values[0].is("$text")?n:void 0}}}function Ag(t,e){return t&&t.is("$text")&&e&&e.is("$text")?t.data===e.data:t===e}function Cg(t,e){var n=e.selection,o=t.shiftKey&&t.keyCode===dr.delete,i=!n.isCollapsed;return o&&i}var _g=function(_As7){_inherits(_g,_As7);var _super86=_createSuper(_g);function _g(t){var _this155;_classCallCheck(this,_g),_this155=_super86.call(this,t);var e=t.document,n=0;function o(t,n,o){var i=new qi(e,"delete",e.selection.getFirstRange());e.fire(i,new Us(e,n,o)),i.stop.called&&t.stop()}return e.on("keyup",(function(t,e){e.keyCode!=dr.delete&&e.keyCode!=dr.backspace||(n=0)})),e.on("keydown",(function(t,i){if(!sr.isWindows||!Cg(i,e)){var r={};if(i.keyCode==dr.delete)r.direction="forward",r.unit="character";else{if(i.keyCode!=dr.backspace)return;r.direction="backward",r.unit="codePoint"}var s=sr.isMac?i.altKey:i.ctrlKey;r.unit=s?"word":r.unit,r.sequence=++n,o(t,i.domEvent,r)}})),sr.isAndroid&&e.on("beforeinput",(function(e,n){if("deleteContentBackward"==n.domEvent.inputType){var i={unit:"codepoint",direction:"backward",sequence:1},r=n.domTarget.ownerDocument.defaultView.getSelection();r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(i.selectionToRemove=t.domConverter.domSelectionToView(r)),o(e,n.domEvent,i)}})),_this155}return _createClass(_g,[{key:"observe",value:function(){}}]),_g}(As),vg=function(_ue4){_inherits(vg,_ue4);var _super87=_createSuper(vg);function vg(){return _classCallCheck(this,vg),_super87.apply(this,arguments)}return _createClass(vg,[{key:"init",value:function(){var _this156=this,t=this.editor,e=t.editing.view,n=e.document,o=t.model.document;e.addObserver(_g),this._undoOnBackspace=!1;var i=new bg(t,"forward");if(t.commands.add("deleteForward",i),t.commands.add("forwardDelete",i),t.commands.add("delete",new bg(t,"backward")),this.listenTo(n,"delete",(function(n,o){var i={unit:o.unit,sequence:o.sequence};if(o.selectionToRemove){var _step311,_e223=t.model.createSelection(),_n209=[],_iterator311=_createForOfIteratorHelper(o.selectionToRemove.getRanges());try{for(_iterator311.s();!(_step311=_iterator311.n()).done;){var _e224=_step311.value;_n209.push(t.editing.mapper.toModelRange(_e224))}}catch(err){_iterator311.e(err)}finally{_iterator311.f()}_e223.setTo(_n209),i.selection=_e223}t.execute("forward"==o.direction?"deleteForward":"delete",i),o.preventDefault(),e.scrollToTheSelection()}),{priority:"low"}),sr.isAndroid){var _t230=null;this.listenTo(n,"delete",(function(e,n){var o=n.domTarget.ownerDocument.defaultView.getSelection();_t230={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",(function(e,n){if(_t230){var _e225=n.domTarget.ownerDocument.defaultView.getSelection();_e225.collapse(_t230.anchorNode,_t230.anchorOffset),_e225.extend(_t230.focusNode,_t230.focusOffset),_t230=null}}))}this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(function(e,n){_this156._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(_this156._undoOnBackspace=!1,t.execute("undo"),n.preventDefault(),e.stop())}),{context:"$capture"}),this.listenTo(o,"change",(function(){_this156._undoOnBackspace=!1})))}},{key:"requestUndoOnBackspace",value:function(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}],[{key:"pluginName",get:function(){return"Delete"}}]),vg}(ue),yg=function(){function yg(){_classCallCheck(this,yg),this._stack=[]}return _createClass(yg,[{key:"add",value:function(t,e){var n=this._stack,o=n[0];this._insertDescriptor(t);var i=n[0];o===i||xg(o,i)||this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:e})}},{key:"remove",value:function(t,e){var n=this._stack,o=n[0];this._removeDescriptor(t);var i=n[0];o===i||xg(o,i)||this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:e})}},{key:"_insertDescriptor",value:function(t){var e=this._stack,n=e.findIndex((function(e){return e.id===t.id}));if(!xg(t,e[n])){n>-1&&e.splice(n,1);for(var o=0;e[o]&&Eg(e[o],t);)o++;e.splice(o,0,t)}}},{key:"_removeDescriptor",value:function(t){var e=this._stack,n=e.findIndex((function(e){return e.id===t}));n>-1&&e.splice(n,1)}}]),yg}();function xg(t,e){return t&&e&&t.priority==e.priority&&Dg(t.classes)==Dg(e.classes)}function Eg(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&Dg(t.classes)>Dg(e.classes)}function Dg(t){return Array.isArray(t)?t.sort().join(","):t}he(yg,f);var Ig='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Mg="ck-widget_selected";function Tg(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function Sg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.is("containerElement"))throw new a("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Rg,n.label&&function(t,e,n){n.setCustomProperty("widgetLabel",e,t)}(t,n.label,e),n.hasSelectionHandle&&function(t,e){var n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){var e=this.toDomElement(t),n=new Jd;return n.set("content",Ig),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),zg(t,e),t}function Ng(t,e,n){if(e.classes&&n.addClass(To(e.classes),t),e.attributes)for(var _o138 in e.attributes)n.setAttribute(_o138,e.attributes[_o138],t)}function Bg(t,e,n){if(e.classes&&n.removeClass(To(e.classes),t),e.attributes)for(var _o139 in e.attributes)n.removeAttribute(_o139,t)}function zg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ng,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bg,i=new yg;i.on("change:top",(function(e,i){i.oldDescriptor&&o(t,i.oldDescriptor,i.writer),i.newDescriptor&&n(t,i.newDescriptor,i.writer)})),e.setCustomProperty("addHighlight",(function(t,e,n){return i.add(e,n)}),t),e.setCustomProperty("removeHighlight",(function(t,e,n){return i.remove(e,n)}),t)}function Pg(t){var e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function Lg(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(function(n,o,i){e.setAttribute("contenteditable",i?"false":"true",t)})),t.on("change:isFocused",(function(n,o,i){i?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)})),zg(t,e),t}function Og(t,e){var n=t.getSelectedElement();if(n){var _o140=Vg(t);if(_o140)return e.createRange(e.createPositionAt(n,_o140));if(e.schema.isObject(n)&&!e.schema.isInline(n))return e.createRangeOn(n)}var o=t.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return e.createRange(e.createPositionAt(o,0));var _n210=e.createPositionAfter(o);return t.focus.isTouching(_n210)?e.createRange(_n210):e.createRange(e.createPositionBefore(o))}return e.createRange(t.focus)}function Rg(){return null}var jg="widget-type-around";function Fg(t,e,n){return t&&Tg(t)&&!n.isInline(e)}function Vg(t){return t.getAttribute(jg)}for(var Hg=[ur("arrowUp"),ur("arrowRight"),ur("arrowDown"),ur("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],_t231=112;_t231<=135;_t231++)Hg.push(_t231);function Ug(t){return!(!t.ctrlKey&&!t.metaKey)||Hg.includes(t.keyCode)}var qg=n(4921);Zr()(qg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),qg.Z.locals;var Gg=["before","after"],Yg=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Qg="ck-widget__type-around_disabled",Kg=function(_ue5){_inherits(Kg,_ue5);var _super88=_createSuper(Kg);function Kg(t){var _this157;return _classCallCheck(this,Kg),(_this157=_super88.call(this,t))._currentFakeCaretModelElement=null,_this157}return _createClass(Kg,[{key:"init",value:function(){var t=this.editor,e=t.editing.view;this.on("change:isEnabled",(function(n,o,i){e.change((function(t){var _step312,_iterator312=_createForOfIteratorHelper(e.document.roots);try{for(_iterator312.s();!(_step312=_iterator312.n()).done;){var _n211=_step312.value;i?t.removeClass(Qg,_n211):t.addClass(Qg,_n211)}}catch(err){_iterator312.e(err)}finally{_iterator312.f()}})),i||t.model.change((function(t){t.removeSelectionAttribute(jg)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(t,e){var n=this.editor,o=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(t,e)}),o.focus(),o.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(t,e,n,o){var _this158=this;this.listenTo(t,e,(function(){_this158.isEnabled&&n.apply(void 0,arguments)}),o)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var t=this.editor.model.document.selection,e=Vg(t);if(!e)return!1;var n=t.getSelectedElement();return this._insertParagraph(n,e),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var t=this.editor,e=t.model.schema,n=t.locale.t,o={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(function(t,n,i){var r=i.mapper.toViewElement(n.item);Fg(r,n.item,e)&&function(t,e,n){var o=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){var n=this.toDomElement(t);return function(t,e){var _step313,_iterator313=_createForOfIteratorHelper(Gg);try{for(_iterator313.s();!(_step313=_iterator313.n()).done;){var _n212=_step313.value,_o141=new Id({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(_n212)],title:e[_n212]},children:[t.ownerDocument.importNode(Yg,!0)]});t.appendChild(_o141.render())}}catch(err){_iterator313.e(err)}finally{_iterator313.f()}}(n,e),function(t){var e=new Id({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(n),n}));t.insert(t.createPositionAt(n,"end"),o)}(i.writer,o,r)}),{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var _this159=this,t=this.editor,e=t.model,n=e.document.selection,o=e.schema,i=t.editing.view;function r(t){return"ck-widget_type-around_show-fake-caret_".concat(t)}this._listenToIfEnabled(i.document,"arrowKey",(function(t,e){_this159._handleArrowKeyPress(t,e)}),{context:[Tg,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(function(e,n){n.directChange&&t.model.change((function(t){t.removeSelectionAttribute(jg)}))})),this._listenToIfEnabled(e.document,"change:data",(function(){var e=n.getSelectedElement();e&&Fg(t.editing.mapper.toViewElement(e),e,o)||t.model.change((function(t){t.removeSelectionAttribute(jg)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(function(t,e,n){var i=n.writer;if(_this159._currentFakeCaretModelElement){var _t232=n.mapper.toViewElement(_this159._currentFakeCaretModelElement);_t232&&(i.removeClass(Gg.map(r),_t232),_this159._currentFakeCaretModelElement=null)}var s=e.selection.getSelectedElement();if(s){var a=n.mapper.toViewElement(s);if(Fg(a,s,o)){var c=Vg(e.selection);c&&(i.addClass(r(c),a),_this159._currentFakeCaretModelElement=s)}}})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(function(e,n,o){o||t.model.change((function(t){t.removeSelectionAttribute(jg)}))}))}},{key:"_handleArrowKeyPress",value:function(t,e){var l,n=this.editor,o=n.model,i=o.document.selection,r=o.schema,s=n.editing.view,a=function(t,e){var n=pr(t,e);return"down"===n||"right"===n}(e.keyCode,n.locale.contentLanguageDirection),c=s.document.selection.getSelectedElement();Fg(c,n.editing.mapper.toModelElement(c),r)?l=this._handleArrowKeyPressOnSelectedWidget(a):i.isCollapsed?l=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):e.shiftKey||(l=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),l&&(e.preventDefault(),t.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(t){var e=this.editor.model,n=Vg(e.document.selection);return e.change((function(e){return n?n!==(t?"after":"before")&&(e.removeSelectionAttribute(jg),!0):(e.setSelectionAttribute(jg,t?"after":"before"),!0)}))}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(t){var e=this.editor,n=e.model,o=n.schema,i=e.plugins.get("Widget"),r=i._getObjectElementNextToSelection(t);return!!Fg(e.editing.mapper.toViewElement(r),r,o)&&(n.change((function(e){i._setSelectionOverElement(r),e.setSelectionAttribute(jg,t?"before":"after")})),!0)}},{key:"_handleArrowKeyPressWhenNonCollapsedSelection",value:function(t){var e=this.editor,n=e.model,o=n.schema,i=e.editing.mapper,r=n.document.selection,s=t?r.getLastPosition().nodeBefore:r.getFirstPosition().nodeAfter;return!!Fg(i.toViewElement(s),s,o)&&(n.change((function(e){e.setSelection(s,"on"),e.setSelectionAttribute(jg,t?"after":"before")})),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var _this160=this,t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(function(n,o){var i=o.domTarget.closest(".ck-widget__type-around__button");if(i){var r=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(i),s=function(t,e){var n=t.closest(".ck-widget");return e.mapDomToView(n)}(i,e.domConverter),a=t.editing.mapper.toModelElement(s);_this160._insertParagraph(a,r),o.preventDefault(),n.stop()}}))}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var _this161=this,t=this.editor,e=t.model.document.selection,n=t.editing.view;this._listenToIfEnabled(n.document,"enter",(function(n,o){if("atTarget"==n.eventPhase){var a,i=e.getSelectedElement(),r=t.editing.mapper.toViewElement(i),s=t.model.schema;_this161._insertParagraphAccordingToFakeCaretPosition()?a=!0:Fg(r,i,s)&&(_this161._insertParagraph(i,o.isSoft?"before":"after"),a=!0),a&&(o.preventDefault(),n.stop())}}),{context:Tg})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var _this162=this,t=this.editor.editing.view,e=[dr.enter,dr.delete,dr.backspace];this._listenToIfEnabled(t.document,"keydown",(function(t,n){e.includes(n.keyCode)||Ug(n)||_this162._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var t=this.editor,e=t.editing.view,n=t.model,o=n.schema;this._listenToIfEnabled(e.document,"delete",(function(e,i){if("atTarget"==e.eventPhase){var r=Vg(n.document.selection);if(r){var s=i.direction,a=n.document.selection.getSelectedElement(),c="forward"==s;if("before"===r===c)t.execute("delete",{selection:n.createSelection(a,"on")});else{var _e226=o.getNearestSelectionRange(n.createPositionAt(a,r),s);if(_e226)if(_e226.isCollapsed){var _i119=n.createSelection(_e226.start);if(n.modifySelection(_i119,{direction:s}),_i119.focus.isEqual(_e226.start)){var _t233=function(t,e){var _step314,n=e,_iterator314=_createForOfIteratorHelper(e.getAncestors({parentFirst:!0}));try{for(_iterator314.s();!(_step314=_iterator314.n()).done;){var _o142=_step314.value;if(_o142.childCount>1||t.isLimit(_o142))break;n=_o142}}catch(err){_iterator314.e(err)}finally{_iterator314.f()}return n}(o,_e226.start.parent);n.deleteContent(n.createSelection(_t233,"on"),{doNotAutoparagraph:!0})}else n.change((function(n){n.setSelection(_e226),t.execute(c?"deleteForward":"delete")}))}else n.change((function(n){n.setSelection(_e226),t.execute(c?"deleteForward":"delete")}))}i.preventDefault(),e.stop()}}}),{context:Tg})}},{key:"_enableInsertContentIntegration",value:function(){var t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",(function(t,_ref40){var _ref41=_slicedToArray(_ref40,2),o=_ref41[0],i=_ref41[1];if(!i||i.is("documentSelection")){var r=Vg(n);return r?(t.stop(),e.change((function(t){var i=n.getSelectedElement(),s=e.createPositionAt(i,r),a=t.createSelection(s),c=e.insertContent(o,a);return t.setSelection(a),c}))):void 0}}),{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",(function(t,_ref42){var n=_slicedToArray(_ref42,1)[0];n&&!n.is("documentSelection")||Vg(e)&&t.stop()}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[fg,vg]}}]),Kg}(ue);function Zg(t,e,n){var _step316,o=t.schema,r="forward"==n?"elementStart":"elementEnd",_iterator316=_createForOfIteratorHelper(t.createRangeIn(e.root).getWalker({startPosition:e,direction:n}));try{for(_iterator316.s();!(_step316=_iterator316.n()).done;){var _step316$value=_step316.value,_t238=_step316$value.previousPosition,_s27=_step316$value.item,_a15=_step316$value.type;if(o.isLimit(_s27)&&!o.isInline(_s27))return _t238;if(_a15==r&&o.isBlock(_s27))return null}}catch(err){_iterator316.e(err)}finally{_iterator316.f()}return null}function Jg(t,e,n){var o="backward"==n?e.end:e.start;if(t.checkChild(o,"$text"))return o;var _step317,_iterator317=_createForOfIteratorHelper(e.getWalker({direction:n}));try{for(_iterator317.s();!(_step317=_iterator317.n()).done;){var _o144=_step317.value.nextPosition;if(t.checkChild(_o144,"$text"))return _o144}}catch(err){_iterator317.e(err)}finally{_iterator317.f()}return null}var Xg=n(3488);Zr()(Xg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Xg.Z.locals;var em=function(_ue6){_inherits(em,_ue6);var _super89=_createSuper(em);function em(){return _classCallCheck(this,em),_super89.apply(this,arguments)}return _createClass(em,[{key:"init",value:function(){var _this163=this,t=this.editor,e=t.editing.view,n=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(e,n,o){var i=o.writer,r=n.selection;if(!r.isCollapsed){var s=r.getSelectedElement();if(s){var a=t.editing.mapper.toViewElement(s);Tg(a)&&o.consumable.consume(r,"selection")&&i.setSelection(i.createRangeOn(a),{fake:!0,label:Pg(a)})}}})),this.editor.editing.downcastDispatcher.on("selection",(function(t,e,n){_this163._clearPreviouslySelectedWidgets(n.writer);var _step318,o=n.writer,r=null,_iterator318=_createForOfIteratorHelper(o.document.selection.getRanges());try{for(_iterator318.s();!(_step318=_iterator318.n()).done;){var _step319,_iterator319=_createForOfIteratorHelper(_step318.value);try{for(_iterator319.s();!(_step319=_iterator319.n()).done;){var _t240=_step319.value.item;Tg(_t240)&&!nm(_t240,r)&&(o.addClass(Mg,_t240),_this163._previouslySelected.add(_t240),r=_t240)}}catch(err){_iterator319.e(err)}finally{_iterator319.f()}}}catch(err){_iterator318.e(err)}finally{_iterator318.f()}}),{priority:"low"}),e.addObserver(tg),this.listenTo(n,"mousedown",(function(){return _this163._onMousedown.apply(_this163,arguments)})),this.listenTo(n,"arrowKey",(function(){_this163._handleSelectionChangeOnArrowKeyPress.apply(_this163,arguments)}),{context:[Tg,"$text"]}),this.listenTo(n,"arrowKey",(function(){_this163._preventDefaultOnArrowKeyPress.apply(_this163,arguments)}),{context:"$root"}),this.listenTo(n,"arrowKey",function(t){var e=t.model;return function(n,o){var i=o.keyCode==dr.arrowup,r=o.keyCode==dr.arrowdown,s=o.shiftKey,a=e.document.selection;if(i||r){var c=r;if(!s||!function(t,e){return!t.isCollapsed&&t.isBackward==e}(a,c)){var l=function(t,e,n){var o=t.model;if(n){var _t234=e.isCollapsed?e.focus:e.getLastPosition(),_n213=Zg(o,_t234,"forward");if(!_n213)return null;var _i120=o.createRange(_t234,_n213),_r47=Jg(o.schema,_i120,"backward");return _r47?o.createRange(_t234,_r47):null}var _t235=e.isCollapsed?e.focus:e.getFirstPosition(),_n214=Zg(o,_t235,"backward");if(!_n214)return null;var _i121=o.createRange(_n214,_t235),_r48=Jg(o.schema,_i121,"forward");return _r48?o.createRange(_r48,_t235):null}(t,a,c);if(l){if(l.isCollapsed){if(a.isCollapsed)return;if(s)return}(l.isCollapsed||function(t,e,n){var o=t.model,i=t.view.domConverter;if(n){var _t236=o.createSelection(e.start);o.modifySelection(_t236),_t236.focus.isAtEnd||e.start.isEqual(_t236.focus)||(e=o.createRange(_t236.focus,e.end))}var c,_step315,r=t.mapper.toViewRange(e),s=i.viewRangeToDom(r),_iterator315=_createForOfIteratorHelper(ma.getDomRangeRects(s));try{for(_iterator315.s();!(_step315=_iterator315.n()).done;){var _t237=_step315.value;if(void 0!==c){if(Math.round(_t237.top)>=c)return!1;c=Math.max(c,Math.round(_t237.bottom))}else c=Math.round(_t237.bottom)}}catch(err){_iterator315.e(err)}finally{_iterator315.f()}return!0}(t,l,c))&&(e.change((function(t){var n=c?l.end:l.start;if(s){var _o143=e.createSelection(a.anchor);_o143.setFocus(n),t.setSelection(_o143)}else t.setSelection(n)})),n.stop(),o.preventDefault(),o.stopPropagation())}}}}}(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(function(t,e){_this163._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())}),{context:"$root"})}},{key:"_onMousedown",value:function(t,e){var n=this.editor,o=n.editing.view,i=o.document,r=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(Tg(t))return!1;t=t.parent}return!1}(r)){if((sr.isSafari||sr.isGecko)&&e.domEvent.detail>=3){var _t241=n.editing.mapper,_o145=r.is("attributeElement")?r.findAncestor((function(t){return!t.is("attributeElement")})):r,_i122=_t241.toModelElement(_o145);e.preventDefault(),this.editor.model.change((function(t){t.setSelection(_i122,"in")}))}}else if(Tg(r)||(r=r.findAncestor(Tg))){sr.isAndroid&&e.preventDefault(),i.isFocused||o.focus();var s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(t,e){var n=e.keyCode,o=this.editor.model,i=o.schema,r=o.document.selection,s=r.getSelectedElement(),a=pr(n,this.editor.locale.contentLanguageDirection),c="down"==a||"right"==a,l="up"==a||"down"==a;if(s&&i.isObject(s)){var _n215=c?r.getLastPosition():r.getFirstPosition(),_s28=i.getNearestSelectionRange(_n215,c?"forward":"backward");_s28&&(o.change((function(t){t.setSelection(_s28)})),e.preventDefault(),t.stop())}else if(r.isCollapsed||e.shiftKey){if(r.isCollapsed){var d=this._getObjectElementNextToSelection(c);if(d&&i.isObject(d)){if(i.isInline(d)&&l)return;this._setSelectionOverElement(d),e.preventDefault(),t.stop()}}}else{var _n216=r.getFirstPosition(),_s29=r.getLastPosition(),_a16=_n216.nodeAfter,_l4=_s29.nodeBefore;(_a16&&i.isObject(_a16)||_l4&&i.isObject(_l4))&&(o.change((function(t){t.setSelection(c?_s29:_n216)})),e.preventDefault(),t.stop())}}},{key:"_preventDefaultOnArrowKeyPress",value:function(t,e){var n=this.editor.model,o=n.schema,i=n.document.selection.getSelectedElement();i&&o.isObject(i)&&(e.preventDefault(),t.stop())}},{key:"_handleDelete",value:function(t){var _this164=this;if(!this.editor.isReadOnly){var e=this.editor.model.document.selection;if(e.isCollapsed){var n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change((function(t){for(var o=e.anchor.parent;o.isEmpty;){var _e228=o;o=_e228.parent,t.remove(_e228)}_this164._setSelectionOverElement(n)})),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change((function(e){e.setSelection(e.createRangeOn(t))}))}},{key:"_getObjectElementNextToSelection",value:function(t){var e=this.editor.model,n=e.schema,o=e.document.selection,i=e.createSelection(o);if(e.modifySelection(i,{direction:t?"forward":"backward"}),i.isEqual(o))return null;var r=t?i.focus.nodeBefore:i.focus.nodeAfter;return r&&n.isObject(r)?r:null}},{key:"_clearPreviouslySelectedWidgets",value:function(t){var _step320,_iterator320=_createForOfIteratorHelper(this._previouslySelected);try{for(_iterator320.s();!(_step320=_iterator320.n()).done;){var _e229=_step320.value;t.removeClass(Mg,_e229)}}catch(err){_iterator320.e(err)}finally{_iterator320.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[Kg,vg]}}]),em}(ue);function nm(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}var om=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return y(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),ia(t,e,{leading:o,maxWait:e,trailing:i})},im=n(903);Zr()(im.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),im.Z.locals;var sm=function(_ue7){_inherits(sm,_ue7);var _super90=_createSuper(sm);function sm(){return _classCallCheck(this,sm),_super90.apply(this,arguments)}return _createClass(sm,[{key:"init",value:function(){var _this165=this,t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=om((function(t){return _this165._updateDropMarker(t)}),40),this._removeDropMarkerDelayed=lm((function(){return _this165._removeDropMarker()}),40),this._clearDraggableAttributesDelayed=lm((function(){return _this165._clearDraggableAttributes()}),40),e.addObserver(cg),e.addObserver(tg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(function(t,e,n){n?_this165.forceDisabled("readOnlyMode"):_this165.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",(function(t,e,n){n||_this165._finalizeDragging(!1)})),sr.isAndroid&&this.forceDisabled("noAndroidSupport")}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),_get(_getPrototypeOf(sm.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var _this166=this,t=this.editor,e=t.model,n=e.document,o=t.editing.view,i=o.document;this.listenTo(i,"dragstart",(function(o,s){var a=n.selection;if(s.target&&s.target.is("editableElement"))s.preventDefault();else{var c=s.target?dm(s.target):null;if(c){var _n217=t.editing.mapper.toModelElement(c);_this166._draggedRange=ic.fromRange(e.createRangeOn(_n217)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!i.selection.isCollapsed){var _t242=i.selection.getSelectedElement();_t242&&Tg(_t242)||(_this166._draggedRange=ic.fromRange(a.getFirstRange()))}if(_this166._draggedRange){_this166._draggingUid=r(),s.dataTransfer.effectAllowed=_this166.isEnabled?"copyMove":"copy",s.dataTransfer.setData("application/ckeditor5-dragging-uid",_this166._draggingUid);var l=e.createSelection(_this166._draggedRange.toRange()),d=t.data.toView(e.getSelectedContent(l));i.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:d,method:o.name}),_this166.isEnabled||(_this166._draggedRange.detach(),_this166._draggedRange=null,_this166._draggingUid="")}else s.preventDefault()}}),{priority:"low"}),this.listenTo(i,"dragend",(function(t,e){_this166._finalizeDragging(!e.dataTransfer.isCanceled&&"move"==e.dataTransfer.dropEffect)}),{priority:"low"}),this.listenTo(i,"dragenter",(function(){_this166.isEnabled&&o.focus()})),this.listenTo(i,"dragleave",(function(){_this166._removeDropMarkerDelayed()})),this.listenTo(i,"dragging",(function(e,n){if(_this166.isEnabled){_this166._removeDropMarkerDelayed.cancel();var o=am(t,n.targetRanges,n.target);_this166._draggedRange||(n.dataTransfer.dropEffect="copy"),sr.isGecko||("copy"==n.dataTransfer.effectAllowed?n.dataTransfer.dropEffect="copy":["all","copyMove"].includes(n.dataTransfer.effectAllowed)&&(n.dataTransfer.dropEffect="move")),o&&_this166._updateDropMarkerThrottled(o)}else n.dataTransfer.dropEffect="none"}),{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var _this167=this,t=this.editor,e=t.editing.view.document;this.listenTo(e,"clipboardInput",(function(e,n){if("drop"==n.method){var o=am(t,n.targetRanges,n.target);if(_this167._removeDropMarker(),!o)return _this167._finalizeDragging(!1),void e.stop();if(_this167._draggedRange&&_this167._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(_this167._draggedRange.detach(),_this167._draggedRange=null,_this167._draggingUid=""),"move"==cm(n.dataTransfer)&&_this167._draggedRange&&_this167._draggedRange.containsRange(o,!0))return _this167._finalizeDragging(!1),void e.stop();n.targetRanges=[t.editing.mapper.toViewRange(o)]}}),{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var _this168=this,t=this.editor.plugins.get(hg);t.on("contentInsertion",(function(t,e){if(_this168.isEnabled&&"drop"===e.method){var n=e.targetRanges.map((function(t){return _this168.editor.editing.mapper.toModelRange(t)}));_this168.editor.model.change((function(t){return t.setSelection(n)}))}}),{priority:"high"}),t.on("contentInsertion",(function(t,e){if(_this168.isEnabled&&"drop"===e.method){var n="move"==cm(e.dataTransfer),o=!e.resultRange||!e.resultRange.isCollapsed;_this168._finalizeDragging(o&&n)}}),{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var _this169=this,t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",(function(o,i){if(!sr.isAndroid&&i){_this169._clearDraggableAttributesDelayed.cancel();var r=dm(i.target);if(sr.isBlink&&!t.isReadOnly&&!r&&!n.selection.isCollapsed){var _t243=n.selection.getSelectedElement();_t243&&Tg(_t243)||(r=n.selection.editableElement)}r&&(e.change((function(t){t.setAttribute("draggable","true",r)})),_this169._draggableElement=t.editing.mapper.toModelElement(r))}})),this.listenTo(n,"mouseup",(function(){sr.isAndroid||_this169._clearDraggableAttributesDelayed()}))}},{key:"_clearDraggableAttributes",value:function(){var _this170=this,t=this.editor.editing;t.view.change((function(e){_this170._draggableElement&&"$graveyard"!=_this170._draggableElement.root.rootName&&e.removeAttribute("draggable",t.mapper.toViewElement(_this170._draggableElement)),_this170._draggableElement=null}))}},{key:"_setupDropMarker",value:function(){var t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(e,_ref44){var n=_ref44.writer;if(t.model.schema.checkChild(e.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(t){var e=this.toDomElement(t);return e.innerHTML="&NoBreak;<span></span>&NoBreak;",e}))}})}},{key:"_updateDropMarker",value:function(t){var e=this.editor,n=e.model.markers;e.model.change((function(e){n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})}))}},{key:"_removeDropMarker",value:function(){var t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change((function(t){t.removeMarker("drop-target")}))}},{key:"_finalizeDragging",value:function(t){var e=this.editor,n=e.model;this._removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}],[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[hg,em]}}]),sm}(ue);function am(t,e,n){var o=t.model,i=t.editing.mapper,r=null,s=e?e[0].start:null;if(n.is("uiElement")&&(n=n.parent),r=function(t,e){var n=t.model,o=t.editing.mapper;if(Tg(e))return n.createRangeOn(o.toModelElement(e));if(!e.is("editableElement")){var _t244=e.findAncestor((function(t){return Tg(t)||t.is("editableElement")}));if(Tg(_t244))return n.createRangeOn(o.toModelElement(_t244))}return null}(t,n))return r;var a=function(t,e){var n=t.editing.mapper,o=t.editing.view,i=n.toModelElement(e);if(i)return i;var r=o.createPositionBefore(e),s=n.findMappedViewAncestor(r);return n.toModelElement(s)}(t,n),c=s?i.toModelPosition(s):null;return c?(r=function(t,e,n){var o=t.model;if(!o.schema.checkChild(n,"$block"))return null;var i=o.createPositionAt(n,0),r=e.path.slice(0,i.path.length),s=o.createPositionFromPath(e.root,r).nodeAfter;return s&&o.schema.isObject(s)?o.createRangeOn(s):null}(t,c,a))||((r=o.schema.getNearestSelectionRange(c,sr.isGecko?"forward":"backward"))||function(t,e){for(var n=t.model;e;){if(n.schema.isObject(e))return n.createRangeOn(e);e=e.parent}}(t,c.parent)):function(t,e){var n=t.model,o=n.schema,i=n.createPositionAt(e,0);return o.getNearestSelectionRange(i,"forward")}(t,a)}function cm(t){return sr.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function lm(t,e){var n;function o(){for(var _len21=arguments.length,i=new Array(_len21),_key21=0;_key21<_len21;_key21++)i[_key21]=arguments[_key21];o.cancel(),n=setTimeout((function(){return t.apply(void 0,i)}),e)}return o.cancel=function(){clearTimeout(n)},o}function dm(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(Tg);if(Tg(t))return t;var e=t.findAncestor((function(t){return Tg(t)||t.is("editableElement")}));return Tg(e)?e:null}var hm=function(_ue8){_inherits(hm,_ue8);var _super91=_createSuper(hm);function hm(){return _classCallCheck(this,hm),_super91.apply(this,arguments)}return _createClass(hm,[{key:"init",value:function(){var t=this.editor,e=t.model,n=t.editing.view,o=n.document,i=e.document.selection,r=!1;n.addObserver(cg),this.listenTo(o,"keydown",(function(t,e){r=e.shiftKey})),t.plugins.get(hg).on("contentInsertion",(function(t,n){(r||function(t,e){if(t.childCount>1)return!1;var n=t.getChild(0);return!e.isObject(n)&&0==_toConsumableArray(n.getAttributeKeys()).length}(n.content,e.schema))&&e.change((function(t){var o=Array.from(i.getAttributes()).filter((function(_ref45){var t=_slicedToArray(_ref45,1)[0];return e.schema.getAttributeProperties(t).isFormatting}));i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0}),o.push.apply(o,_toConsumableArray(i.getAttributes()));var _step321,_iterator321=_createForOfIteratorHelper(t.createRangeIn(n.content).getItems());try{for(_iterator321.s();!(_step321=_iterator321.n()).done;){var _e230=_step321.value;_e230.is("$textProxy")&&t.setAttributes(o,_e230)}}catch(err){_iterator321.e(err)}finally{_iterator321.f()}}))}))}}],[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[hg]}}]),hm}(ue),um=function(_ue9){_inherits(um,_ue9);var _super92=_createSuper(um);function um(){return _classCallCheck(this,um),_super92.apply(this,arguments)}return _createClass(um,null,[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[hg,sm,hm]}}]),um}(ue),gm=function(_me4){_inherits(gm,_me4);var _super93=_createSuper(gm);function gm(){return _classCallCheck(this,gm),_super93.apply(this,arguments)}return _createClass(gm,[{key:"execute",value:function(){var _this171=this,t=this.editor.model,e=t.document;t.change((function(n){!function(t,e,n){var o=n.isCollapsed,i=n.getFirstRange(),r=i.start.parent,s=i.end.parent,a=r==s;if(o){var _o146=ug(t.schema,n.getAttributes());mm(t,e,i.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(_o146)}else{var _o147=!(i.start.isAtStart&&i.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:_o147}),a?mm(t,e,n.focus):_o147&&e.setSelection(s,0)}}(t,n,e.selection),_this171.fire("afterExecute",{writer:n})}))}},{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;var n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;var o=e.getFirstRange(),i=o.start.parent,r=o.end.parent;return!pm(i,t)&&!pm(r,t)||i===r}(t.schema,e.selection)}}]),gm}(me);function mm(t,e,n){var o=e.createElement("softBreak");t.insertContent(o,n),e.setSelection(o,"after")}function pm(t,e){return!t.is("rootElement")&&(e.isLimit(t)||pm(t.parent,e))}var fm=function(_ue10){_inherits(fm,_ue10);var _super94=_createSuper(fm);function fm(){return _classCallCheck(this,fm),_super94.apply(this,arguments)}return _createClass(fm,[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.conversion,o=t.editing.view,i=o.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(t,_ref47){return _ref47.writer.createEmptyElement("br")}}),o.addObserver(pg),t.commands.add("shiftEnter",new gm(t)),this.listenTo(i,"enter",(function(e,n){n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),o.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),fm}(ue),km=function(_me5){_inherits(km,_me5);var _super95=_createSuper(km);function km(t){var _this172;return _classCallCheck(this,km),(_this172=_super95.call(this,t)).affectsData=!1,_this172}return _createClass(km,[{key:"execute",value:function(){var t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!bm(t.schema,n))do{if(!(n=n.parent))return}while(!bm(t.schema,n));t.change((function(t){t.setSelection(n,"in")}))}}]),km}(me);function bm(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}var wm=gr("Ctrl+A"),Am=function(_ue11){_inherits(Am,_ue11);var _super96=_createSuper(Am);function Am(){return _classCallCheck(this,Am),_super96.apply(this,arguments)}return _createClass(Am,[{key:"init",value:function(){var t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new km(t)),this.listenTo(e,"keydown",(function(e,n){ur(n)===wm&&(t.execute("selectAll"),n.preventDefault())}))}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),Am}(ue),Cm=function(_ue12){_inherits(Cm,_ue12);var _super97=_createSuper(Cm);function Cm(){return _classCallCheck(this,Cm),_super97.apply(this,arguments)}return _createClass(Cm,[{key:"init",value:function(){var _this173=this,t=this.editor;t.ui.componentFactory.add("selectAll",(function(e){var n=t.commands.get("selectAll"),o=new ih(e),i=e.t;return o.set({label:i("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),o.bind("isOn","isEnabled").to(n,"value","isEnabled"),_this173.listenTo(o,"execute",(function(){t.execute("selectAll"),t.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),Cm}(ue),_m=function(_ue13){_inherits(_m,_ue13);var _super98=_createSuper(_m);function _m(){return _classCallCheck(this,_m),_super98.apply(this,arguments)}return _createClass(_m,null,[{key:"requires",get:function(){return[Am,Cm]}},{key:"pluginName",get:function(){return"SelectAll"}}]),_m}(ue),vm=function(_me6){_inherits(vm,_me6);var _super99=_createSuper(vm);function vm(t,e){var _this174;return _classCallCheck(this,vm),(_this174=_super99.call(this,t))._buffer=new kg(t.model,e),_this174}return _createClass(vm,[{key:"buffer",get:function(){return this._buffer}},{key:"destroy",value:function(){_get(_getPrototypeOf(vm.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var _this175=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document,o=t.text||"",i=o.length,r=t.range?e.createSelection(t.range):n.selection,s=t.resultRange;e.enqueueChange(this._buffer.batch,(function(t){_this175._buffer.lock(),e.deleteContent(r),o&&e.insertContent(t.createText(o,n.selection.getAttributes()),r),s?t.setSelection(s):r.is("documentSelection")||t.setSelection(r),_this175._buffer.unlock(),_this175._buffer.input(i)}))}}]),vm}(me),ym=function(){function ym(t){_classCallCheck(this,ym),this.editor=t,this.editing=this.editor.editing}return _createClass(ym,[{key:"handle",value:function(t,e){if(function(t){if(0==t.length)return!1;var _step322,_iterator322=_createForOfIteratorHelper(t);try{for(_iterator322.s();!(_step322=_iterator322.n()).done;){var _e231=_step322.value;if("children"===_e231.type&&!wg(_e231))return!0}}catch(err){_iterator322.e(err)}finally{_iterator322.f()}return!1}(t))this._handleContainerChildrenMutations(t,e);else{var _step323,_iterator323=_createForOfIteratorHelper(t);try{for(_iterator323.s();!(_step323=_iterator323.n()).done;){var _n218=_step323.value;this._handleTextMutation(_n218,e),this._handleTextNodeInsertion(_n218)}}catch(err){_iterator323.e(err)}finally{_iterator323.f()}}}},{key:"_handleContainerChildrenMutations",value:function(t,e){var n=function(t){var e=t.map((function(t){return t.node})).reduce((function(t,e){return t.getCommonAncestor(e,{includeSelf:!0})}));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find((function(t){return t.is("containerElement")||t.is("rootElement")}))}(t);if(n){var o=this.editor.editing.view.domConverter.mapViewToDom(n),i=new us(this.editor.editing.view.document),r=this.editor.data.toModel(i.domToView(o)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(s){var a=Array.from(r.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],d=c[c.length-1],h=l&&l.is("element","softBreak"),u=d&&!d.is("element","softBreak");h&&u&&a.pop();var g=this.editor.model.schema;if(xm(a,g)&&xm(c,g)){var m=a.map((function(t){return t.is("$text")?t.data:"@"})).join("").replace(/\u00A0/g," "),p=c.map((function(t){return t.is("$text")?t.data:"@"})).join("").replace(/\u00A0/g," ");if(p!==m){var _Em=Em(Wr(p,m)),k=_Em.firstChangeAt,b=_Em.insertions,w=_Em.deletions,A=null;e&&(A=this.editing.mapper.toModelRange(e.getFirstRange()));var C=m.substr(k,b),_=this.editor.model.createRange(this.editor.model.createPositionAt(s,k),this.editor.model.createPositionAt(s,k+w));this.editor.execute("input",{text:C,range:_,resultRange:A})}}}}}},{key:"_handleTextMutation",value:function(t,e){if("text"==t.type){var n=t.newText.replace(/\u00A0/g," "),o=t.oldText.replace(/\u00A0/g," ");if(o!==n){var _Em2=Em(Wr(o,n)),r=_Em2.firstChangeAt,s=_Em2.insertions,a=_Em2.deletions,c=null;e&&(c=this.editing.mapper.toModelRange(e.getFirstRange()));var l=this.editing.view.createPositionAt(t.node,r),d=this.editing.mapper.toModelPosition(l),h=this.editor.model.createRange(d,d.getShiftedBy(a)),u=n.substr(r,s);this.editor.execute("input",{text:u,range:h,resultRange:c})}}}},{key:"_handleTextNodeInsertion",value:function(t){if("children"==t.type){var e=wg(t),n=this.editing.view.createPositionAt(t.node,e.index),o=this.editing.mapper.toModelPosition(n),i=e.values[0].data;this.editor.execute("input",{text:i.replace(/\u00A0/g," "),range:this.editor.model.createRange(o)})}}}]),ym}();function xm(t,e){return t.every((function(t){return e.isInline(t)}))}function Em(t){for(var e=null,n=null,_o148=0;_o148<t.length;_o148++)"equal"!=t[_o148]&&(e=null===e?_o148:e,n=_o148);for(var o=0,i=0,_r49=e;_r49<=n;_r49++)"insert"!=t[_r49]&&o++,"delete"!=t[_r49]&&i++;return{insertions:i,deletions:o,firstChangeAt:e}}var Dm=function(_ue14){_inherits(Dm,_ue14);var _super100=_createSuper(Dm);function Dm(){return _classCallCheck(this,Dm),_super100.apply(this,arguments)}return _createClass(Dm,[{key:"init",value:function(){var t=this.editor,e=new vm(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){var e=null,n=t.model,o=t.editing.view,i=t.commands.get("input");function r(t){if(!sr.isWindows||!Cg(t,o.document)){var r=n.document,a=o.document.isComposing,c=e&&e.isEqual(r.selection);e=null,i.isEnabled&&(Ug(t)||r.selection.isCollapsed||a&&229===t.keyCode||!a&&229===t.keyCode&&c||s())}}function s(){var t=i.buffer;t.lock();var e=t.batch;n.enqueueChange(e,(function(){n.deleteContent(n.document.selection)})),t.unlock()}sr.isAndroid?o.document.on("beforeinput",(function(t,e){return r(e)}),{priority:"lowest"}):o.document.on("keydown",(function(t,e){return r(e)}),{priority:"lowest"}),o.document.on("compositionstart",(function(){var t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||s()}),{priority:"lowest"}),o.document.on("compositionend",(function(){e=n.createSelection(n.document.selection)}),{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",(function(e,n,o){new ym(t).handle(n,o)}))}(t)}}],[{key:"pluginName",get:function(){return"Input"}}]),Dm}(ue),Im=function(_ue15){_inherits(Im,_ue15);var _super101=_createSuper(Im);function Im(){return _classCallCheck(this,Im),_super101.apply(this,arguments)}return _createClass(Im,null,[{key:"requires",get:function(){return[Dm,vg]}},{key:"pluginName",get:function(){return"Typing"}}]),Im}(ue);function Mm(t,e){var n=t.start;return{text:Array.from(t.getItems()).reduce((function(t,o){return o.is("$text")||o.is("$textProxy")?t+o.data:(n=e.createPositionAfter(o),"")}),""),range:e.createRange(n,t.end)}}var Tm=function(){function Tm(t,e){var _this176=this;_classCallCheck(this,Tm),this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(function(){_this176.isEnabled?_this176._startListening():(_this176.stopListening(t.document.selection),_this176.stopListening(t.document))})),this._startListening()}return _createClass(Tm,[{key:"_startListening",value:function(){var _this177=this,t=this.model.document;this.listenTo(t.selection,"change:range",(function(e,_ref48){_ref48.directChange&&(t.selection.isCollapsed?_this177._evaluateTextBeforeSelection("selection"):_this177.hasMatch&&(_this177.fire("unmatched"),_this177.hasMatch=!1))})),this.listenTo(t,"change:data",(function(t,e){!e.isUndo&&e.isLocal&&_this177._evaluateTextBeforeSelection("data",{batch:e})}))}},{key:"_evaluateTextBeforeSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,o=n.document.selection,i=n.createRange(n.createPositionAt(o.focus.parent,0),o.focus),_Mm=Mm(i,n),r=_Mm.text,s=_Mm.range,a=this.testCallback(r);if(!a&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!a,a){var _n219=Object.assign(e,{text:r,range:s});"object"==_typeof(a)&&Object.assign(_n219,a),this.fire("matched:".concat(t),_n219)}}}]),Tm}();he(Tm,re);var Sm=function(_ue16){_inherits(Sm,_ue16);var _super102=_createSuper(Sm);function Sm(t){var _this178;return _classCallCheck(this,Sm),(_this178=_super102.call(this,t)).attributes=new Set,_this178._overrideUid=null,_this178}return _createClass(Sm,[{key:"init",value:function(){var _this179=this,t=this.editor,e=t.model,n=t.editing.view,o=t.locale,i=e.document.selection;this.listenTo(n.document,"arrowKey",(function(t,e){if(i.isCollapsed&&!(e.shiftKey||e.altKey||e.ctrlKey)){var n=e.keyCode==dr.arrowright,r=e.keyCode==dr.arrowleft;if(n||r){var s=o.contentLanguageDirection;!0===("ltr"===s&&n||"rtl"===s&&r?_this179._handleForwardMovement(e):_this179._handleBackwardMovement(e))&&t.stop()}}}),{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(i,"change:range",(function(t,e){_this179._isNextGravityRestorationSkipped?_this179._isNextGravityRestorationSkipped=!1:_this179._isGravityOverridden&&(!e.directChange&&Pm(i.getFirstPosition(),_this179.attributes)||_this179._restoreGravity())}))}},{key:"registerAttribute",value:function(t){this.attributes.add(t)}},{key:"_handleForwardMovement",value:function(t){var e=this.attributes,n=this.editor.model.document.selection,o=n.getFirstPosition();return!this._isGravityOverridden&&(!o.isAtStart||!Nm(n,e))&&(Pm(o,e)?(zm(t),this._overrideGravity(),!0):void 0)}},{key:"_handleBackwardMovement",value:function(t){var e=this.attributes,n=this.editor.model,o=n.document.selection,i=o.getFirstPosition();return this._isGravityOverridden?(zm(t),this._restoreGravity(),Bm(n,e,i),!0):i.isAtStart?!!Nm(o,e)&&(zm(t),Bm(n,e,i),!0):function(t,e){return Pm(t.getShiftedBy(-1),e)}(i,e)?i.isAtEnd&&!Nm(o,e)&&Pm(i,e)?(zm(t),Bm(n,e,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change((function(t){return t.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var _this180=this;this.editor.model.change((function(t){t.restoreSelectionGravity(_this180._overrideUid),_this180._overrideUid=null}))}}],[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}]),Sm}(ue);function Nm(t,e){var _step324,_iterator324=_createForOfIteratorHelper(e);try{for(_iterator324.s();!(_step324=_iterator324.n()).done;){var _n220=_step324.value;if(t.hasAttribute(_n220))return!0}}catch(err){_iterator324.e(err)}finally{_iterator324.f()}return!1}function Bm(t,e,n){var o=n.nodeBefore;t.change((function(t){o?t.setSelectionAttribute(o.getAttributes()):t.removeSelectionAttribute(e)}))}function zm(t){t.preventDefault()}function Pm(t,e){var _step325,n=t.nodeBefore,o=t.nodeAfter,_iterator325=_createForOfIteratorHelper(e);try{for(_iterator325.s();!(_step325=_iterator325.n()).done;){var _t245=_step325.value,_e232=n?n.getAttribute(_t245):void 0;if((o?o.getAttribute(_t245):void 0)!==_e232)return!0}}catch(err){_iterator325.e(err)}finally{_iterator325.f()}return!1}var Lm=/[\\^$.*+?()[\]{}|]/g,Om=RegExp(Lm.source),jm={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Wm('"'),to:[null,"",null,""]},quotesSecondary:{from:Wm("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Wm("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Wm('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Wm('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Wm("'"),to:[null,"",null,""]}},Fm={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Vm=["symbols","mathematical","typography","quotes"];function Hm(t){return"string"==typeof t?new RegExp("(".concat(function(t){return(t=si(t))&&Om.test(t)?t.replace(Lm,"\\$&"):t}(t),")$")):t}function Um(t){return"string"==typeof t?function(){return[t]}:t instanceof Array?function(){return t}:t}function qm(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function Wm(t){return new RegExp("(^|\\s)(".concat(t,")([^").concat(t,"]*)(").concat(t,")$"))}function Gm(t,e,n,o){return o.createRange(Ym(t,e,n,!0,o),Ym(t,e,n,!1,o))}function Ym(t,e,n,o,i){for(var r=t.textNode||(o?t.nodeBefore:t.nodeAfter),s=null;r&&r.getAttribute(e)==n;)s=r,r=o?r.previousSibling:r.nextSibling;return s?i.createPositionAt(s,o?"before":"after"):t}var Qm=function(_me7){_inherits(Qm,_me7);var _super103=_createSuper(Qm);function Qm(t){var _this181;return _classCallCheck(this,Qm),(_this181=_super103.call(this,t))._stack=[],_this181._createdBatches=new WeakSet,_this181.refresh(),_this181.listenTo(t.data,"set",(function(t,e){e[1]=_objectSpread({},e[1]);var n=e[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),_this181.listenTo(t.data,"set",(function(t,e){e[1].batchType.isUndoable||_this181.clearStack()})),_this181}return _createClass(Qm,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(t){var e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(t,e,n){var _step326,o=this.editor.model,i=o.document,r=[],s=t.map((function(t){return t.getTransformedByOperations(n)})),a=s.flat(),_iterator326=_createForOfIteratorHelper(s);try{for(_iterator326.s();!(_step326=_iterator326.n()).done;){var _e233=_step326.value.filter((function(t){return t.root!=i.graveyard})).filter((function(t){return!$m(t,a)}));_e233.length&&(Km(_e233),r.push(_e233[0]))}}catch(err){_iterator326.e(err)}finally{_iterator326.f()}r.length&&o.change((function(t){t.setSelection(r,{backward:e})}))}},{key:"_undo",value:function(t,e){var n=this.editor.model,o=n.document;this._createdBatches.add(e);var i=t.operations.slice().filter((function(t){return t.isDocumentOperation}));i.reverse();var _step327,_iterator327=_createForOfIteratorHelper(i);try{for(_iterator327.s();!(_step327=_iterator327.n()).done;){var _step328,_t247=_step327.value,_i123=_t247.baseVersion+1,_r50=Array.from(o.history.getOperations(_i123)),_iterator328=_createForOfIteratorHelper(Gu([_t247.getReversed()],_r50,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA);try{for(_iterator328.s();!(_step328=_iterator328.n()).done;){var _i124=_step328.value;e.addOperation(_i124),n.applyOperation(_i124),o.history.setOperationAsUndone(_t247,_i124)}}catch(err){_iterator328.e(err)}finally{_iterator328.f()}}}catch(err){_iterator327.e(err)}finally{_iterator327.f()}}}]),Qm}(me);function Km(t){t.sort((function(t,e){return t.start.isBefore(e.start)?-1:1}));for(var _e234=1;_e234<t.length;_e234++){var _n221=t[_e234-1].getJoined(t[_e234],!0);_n221&&(_e234--,t.splice(_e234,2,_n221))}}function $m(t,e){return e.some((function(e){return e!==t&&e.containsRange(t,!0)}))}var Zm=function(_Qm){_inherits(Zm,_Qm);var _super104=_createSuper(Zm);function Zm(){return _classCallCheck(this,Zm),_super104.apply(this,arguments)}return _createClass(Zm,[{key:"execute",value:function(){var _this182=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=t?this._stack.findIndex((function(e){return e.batch==t})):this._stack.length-1,n=this._stack.splice(e,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,(function(){_this182._undo(n.batch,o);var t=_this182.editor.model.document.history.getOperations(n.batch.baseVersion);_this182._restoreSelection(n.selection.ranges,n.selection.isBackward,t),_this182.fire("revert",n.batch,o)})),this.refresh()}}]),Zm}(Qm),Jm=function(_Qm2){_inherits(Jm,_Qm2);var _super105=_createSuper(Jm);function Jm(){return _classCallCheck(this,Jm),_super105.apply(this,arguments)}return _createClass(Jm,[{key:"execute",value:function(){var _this183=this,t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,(function(){var n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,o=_this183.editor.model.document.history.getOperations(n);_this183._restoreSelection(t.selection.ranges,t.selection.isBackward,o),_this183._undo(t.batch,e)})),this.refresh()}}]),Jm}(Qm),Xm=function(_ue17){_inherits(Xm,_ue17);var _super106=_createSuper(Xm);function Xm(t){var _this184;return _classCallCheck(this,Xm),(_this184=_super106.call(this,t))._batchRegistry=new WeakSet,_this184}return _createClass(Xm,[{key:"init",value:function(){var _this185=this,t=this.editor;this._undoCommand=new Zm(t),this._redoCommand=new Jm(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(function(t,e){var n=e[0];if(n.isDocumentOperation){var o=n.batch,i=_this185._redoCommand._createdBatches.has(o),r=_this185._undoCommand._createdBatches.has(o);_this185._batchRegistry.has(o)||(_this185._batchRegistry.add(o),o.isUndoable&&(i?_this185._undoCommand.addBatch(o):r||(_this185._undoCommand.addBatch(o),_this185._redoCommand.clearStack())))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(t,e,n){_this185._redoCommand.addBatch(n)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}],[{key:"pluginName",get:function(){return"UndoEditing"}}]),Xm}(ue),tp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',ep='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',np=function(_ue18){_inherits(np,_ue18);var _super107=_createSuper(np);function np(){return _classCallCheck(this,np),_super107.apply(this,arguments)}return _createClass(np,[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,o="ltr"==e.uiLanguageDirection?tp:ep,i="ltr"==e.uiLanguageDirection?ep:tp;this._addButton("undo",n("Undo"),"CTRL+Z",o),this._addButton("redo",n("Redo"),"CTRL+Y",i)}},{key:"_addButton",value:function(t,e,n,o){var _this186=this,i=this.editor;i.ui.componentFactory.add(t,(function(r){var s=i.commands.get(t),a=new ih(r);return a.set({label:e,icon:o,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),_this186.listenTo(a,"execute",(function(){i.execute(t),i.editing.view.focus()})),a}))}}],[{key:"pluginName",get:function(){return"UndoUI"}}]),np}(ue),op=function(_ue19){_inherits(op,_ue19);var _super108=_createSuper(op);function op(){return _classCallCheck(this,op),_super108.apply(this,arguments)}return _createClass(op,null,[{key:"requires",get:function(){return[Xm,np]}},{key:"pluginName",get:function(){return"Undo"}}]),op}(ue),ip=function(){function ip(){var _this187=this;_classCallCheck(this,ip);var t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=function(t){_this187.loaded=t.loaded}}return _createClass(ip,[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(t){var _this188=this,e=this._reader;return this.total=t.size,new Promise((function(n,o){e.onload=function(){var t=e.result;_this188._data=t,n(t)},e.onerror=function(){o("error")},e.onabort=function(){o("aborted")},_this188._reader.readAsDataURL(t)}))}},{key:"abort",value:function(){this._reader.abort()}}]),ip}();he(ip,re);var rp=function(_ue20){_inherits(rp,_ue20);var _super109=_createSuper(rp);function rp(){return _classCallCheck(this,rp),_super109.apply(this,arguments)}return _createClass(rp,[{key:"init",value:function(){var _this189=this;this.loaders=new Io,this.loaders.on("add",(function(){return _this189._updatePendingAction()})),this.loaders.on("remove",(function(){return _this189._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(t,e){return e?t/e*100:0}))}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var _this190=this;if(!this.createUploadAdapter)return c("filerepository-no-upload-adapter"),null;var e=new sp(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((function(t){_this190._loadersMap.set(t,e)})).catch((function(){})),e.on("change:uploaded",(function(){var _step329,t=0,_iterator329=_createForOfIteratorHelper(_this190.loaders);try{for(_iterator329.s();!(_step329=_iterator329.n()).done;){t+=_step329.value.uploaded}}catch(err){_iterator329.e(err)}finally{_iterator329.f()}_this190.uploaded=t})),e.on("change:uploadTotal",(function(){var _step330,t=0,_iterator330=_createForOfIteratorHelper(_this190.loaders);try{for(_iterator330.s();!(_step330=_iterator330.n()).done;){var _e236=_step330.value;_e236.uploadTotal&&(t+=_e236.uploadTotal)}}catch(err){_iterator330.e(err)}finally{_iterator330.f()}_this190.uploadTotal=t})),e}},{key:"destroyLoader",value:function(t){var _this191=this,e=t instanceof sp?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((function(t,n){t===e&&_this191._loadersMap.delete(n)}))}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(bd);if(this.loaders.length){if(!this._pendingAction){var _e237=this.editor.t,_n222=function(t){return"".concat(_e237("Upload in progress")," ").concat(parseInt(t),"%.")};this._pendingAction=t.add(_n222(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",_n222)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[bd]}}]),rp}(ue);he(rp,re);var sp=function(){function sp(t,e){_classCallCheck(this,sp),this.id=r(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new ip,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(t,e){return e?t/e*100:0})),this.set("uploadResponse",null)}return _createClass(sp,[{key:"file",get:function(){var _this192=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(t){return _this192._filePromiseWrapper?t:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var _this193=this;if("idle"!=this.status)throw new a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((function(t){return _this193._reader.read(t)})).then((function(t){if("reading"!==_this193.status)throw _this193.status;return _this193.status="idle",t})).catch((function(t){if("aborted"===t)throw _this193.status="aborted","aborted";throw _this193.status="error",_this193._reader.error?_this193._reader.error:t}))}},{key:"upload",value:function(){var _this194=this;if("idle"!=this.status)throw new a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((function(){return _this194._adapter.upload()})).then((function(t){return _this194.uploadResponse=t,_this194.status="idle",t})).catch((function(t){if("aborted"===_this194.status)throw"aborted";throw _this194.status="error",t}))}},{key:"abort",value:function(){var t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(t){var e={};return e.promise=new Promise((function(n,o){e.rejecter=o,e.isFulfilled=!1,t.then((function(t){e.isFulfilled=!0,n(t)})).catch((function(t){e.isFulfilled=!0,o(t)}))})),e}}]),sp}();he(sp,re);var ap=function(_Dd23){_inherits(ap,_Dd23);var _super110=_createSuper(ap);function ap(t){var _this195;return _classCallCheck(this,ap),(_this195=_super110.call(this,t)).buttonView=new ih(t),_this195._fileInputView=new cp(t),_this195._fileInputView.bind("acceptedType").to(_assertThisInitialized(_this195)),_this195._fileInputView.bind("allowMultipleFiles").to(_assertThisInitialized(_this195)),_this195._fileInputView.delegate("done").to(_assertThisInitialized(_this195)),_this195.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[_this195.buttonView,_this195._fileInputView]}),_this195.buttonView.on("execute",(function(){_this195._fileInputView.open()})),_this195}return _createClass(ap,[{key:"focus",value:function(){this.buttonView.focus()}}]),ap}(Dd),cp=function(_Dd24){_inherits(cp,_Dd24);var _super111=_createSuper(cp);function cp(t){var _this196;_classCallCheck(this,cp),(_this196=_super111.call(this,t)).set("acceptedType"),_this196.set("allowMultipleFiles",!1);var e=_this196.bindTemplate;return _this196.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to((function(){_this196.element&&_this196.element.files&&_this196.element.files.length&&_this196.fire("done",_this196.element.files),_this196.element.value=""}))}}),_this196}return _createClass(cp,[{key:"open",value:function(){this.element.click()}}]),cp}(Dd),lp="ckCsrfToken",dp="abcdefghijklmnopqrstuvwxyz0123456789";var up=function(){function up(t,e,n){_classCallCheck(this,up),this.loader=t,this.url=e,this.t=n}return _createClass(up,[{key:"upload",value:function(){var _this197=this;return this.loader.file.then((function(t){return new Promise((function(e,n){_this197._initRequest(),_this197._initListeners(e,n,t),_this197._sendRequest(t)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}},{key:"_initListeners",value:function(t,e,n){var o=this.xhr,i=this.loader,r=(0,this.t)("Cannot upload file:")+" ".concat(n.name,".");o.addEventListener("error",(function(){return e(r)})),o.addEventListener("abort",(function(){return e()})),o.addEventListener("load",(function(){var n=o.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:r);t({default:n.url})})),o.upload&&o.upload.addEventListener("progress",(function(t){t.lengthComputable&&(i.uploadTotal=t.total,i.uploaded=t.loaded)}))}},{key:"_sendRequest",value:function(t){var e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function(){var n,t=function(t){t=t.toLowerCase();var _step331,_iterator331=_createForOfIteratorHelper(document.cookie.split(";"));try{for(_iterator331.s();!(_step331=_iterator331.n()).done;){var _e238=_step331.value.split("=");if(decodeURIComponent(_e238[0].trim().toLowerCase())===t)return decodeURIComponent(_e238[1])}}catch(err){_iterator331.e(err)}finally{_iterator331.f()}return null}(lp);return t&&40==t.length||(t=function(t){var e="",n=new Uint8Array(40);window.crypto.getRandomValues(n);for(var _t248=0;_t248<n.length;_t248++){var _o149=dp.charAt(n[_t248]%dp.length);e+=Math.random()>.5?_o149.toUpperCase():_o149}return e}(),lp,n=t,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(n)+";path=/"),t}()),this.xhr.send(e)}}]),up}();function gp(t,e,n,o){var i,r=null;"function"==typeof o?i=o:(r=t.commands.get(o),i=function(){t.execute(o)}),t.model.document.on("change:data",(function(s,a){if((!r||r.isEnabled)&&e.isEnabled){var c=wa(t.model.document.selection.getRanges());if(c.isCollapsed&&!a.isUndo&&a.isLocal){var l=Array.from(t.model.document.differ.getChanges()),d=l[0];if(1==l.length&&"insert"===d.type&&"$text"==d.name&&1==d.length){var h=d.position.parent;if(!h.is("element","codeBlock")&&(!h.is("element","listItem")||"function"==typeof o||["numberedList","bulletedList","todoList"].includes(o))&&(!r||!0!==r.value)){var u=h.getChild(0),g=t.model.createRangeOn(u);if(g.containsRange(c)||c.end.isEqual(g.end)){var m=n.exec(u.data.substr(0,c.end.offset));m&&t.model.enqueueChange((function(e){var n=e.createPositionAt(h,0),o=e.createPositionAt(h,m[0].length),r=new ic(n,o);if(!1!==i({match:m})){e.remove(r);var _n224=t.model.document.selection.getFirstRange(),_o150=e.createRangeIn(h);!h.isEmpty||_o150.isEqual(_n224)||_o150.containsRange(_n224,!0)||e.remove(h)}r.detach(),t.model.enqueueChange((function(){t.plugins.get("Delete").requestUndoOnBackspace()}))}))}}}}}}))}function mp(t,e,n,o){var i,r;n instanceof RegExp?i=n:r=n,r=r||function(t){for(var e,n=[],o=[];null!==(e=i.exec(t))&&!(e&&e.length<4);){var _e239=e,_t249=_e239.index,_i125=_e239[1],_r51=_e239[2],_s31=_e239[3],_a17=_i125+_r51+_s31,_c8=[_t249+=e[0].length-_a17.length,_t249+_i125.length],_l5=[_t249+_i125.length+_r51.length,_t249+_i125.length+_r51.length+_s31.length];n.push(_c8),n.push(_l5),o.push([_t249+_i125.length,_t249+_i125.length+_r51.length])}return{remove:n,format:o}},t.model.document.on("change:data",(function(n,i){if(!i.isUndo&&i.isLocal&&e.isEnabled){var s=t.model,a=s.document.selection;if(a.isCollapsed){var c=Array.from(s.document.differ.getChanges()),l=c[0];if(1==c.length&&"insert"===l.type&&"$text"==l.name&&1==l.length){var d=a.focus,h=d.parent,_ref49=function(t,e){var n=t.start;return{text:Array.from(t.getItems()).reduce((function(t,o){return!o.is("$text")&&!o.is("$textProxy")||o.getAttribute("code")?(n=e.createPositionAfter(o),""):t+o.data}),""),range:e.createRange(n,t.end)}}(s.createRange(s.createPositionAt(h,0),d),s),u=_ref49.text,g=_ref49.range,m=r(u),p=pp(g.start,m.format,s),f=pp(g.start,m.remove,s);p.length&&f.length&&s.enqueueChange((function(e){if(!1!==o(e,p)){var _step332,_iterator332=_createForOfIteratorHelper(f.reverse());try{for(_iterator332.s();!(_step332=_iterator332.n()).done;){var _t250=_step332.value;e.remove(_t250)}}catch(err){_iterator332.e(err)}finally{_iterator332.f()}s.enqueueChange((function(){t.plugins.get("Delete").requestUndoOnBackspace()}))}}))}}}}))}function pp(t,e,n){return e.filter((function(t){return void 0!==t[0]&&void 0!==t[1]})).map((function(e){return n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))}))}function fp(t,e){return function(n,o){if(!t.commands.get(e).isEnabled)return!1;var _step333,_iterator333=_createForOfIteratorHelper(t.model.schema.getValidRanges(o,e));try{for(_iterator333.s();!(_step333=_iterator333.n()).done;){var _t251=_step333.value;n.setAttribute(e,!0,_t251)}}catch(err){_iterator333.e(err)}finally{_iterator333.f()}n.removeSelectionAttribute(e)}}var kp=function(_me8){_inherits(kp,_me8);var _super112=_createSuper(kp);function kp(t,e){var _this198;return _classCallCheck(this,kp),(_this198=_super112.call(this,t)).attributeKey=e,_this198}return _createClass(kp,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}},{key:"execute",value:function(){var _this199=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document.selection,o=void 0===t.forceValue?!this.value:t.forceValue;e.change((function(t){if(n.isCollapsed)o?t.setSelectionAttribute(_this199.attributeKey,!0):t.removeSelectionAttribute(_this199.attributeKey);else{var _step334,_iterator334=_createForOfIteratorHelper(e.schema.getValidRanges(n.getRanges(),_this199.attributeKey));try{for(_iterator334.s();!(_step334=_iterator334.n()).done;){var _e240=_step334.value;o?t.setAttribute(_this199.attributeKey,o,_e240):t.removeAttribute(_this199.attributeKey,_e240)}}catch(err){_iterator334.e(err)}finally{_iterator334.f()}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var _step335,_iterator335=_createForOfIteratorHelper(n.getRanges());try{for(_iterator335.s();!(_step335=_iterator335.n()).done;){var _step336,_iterator336=_createForOfIteratorHelper(_step335.value.getItems());try{for(_iterator336.s();!(_step336=_iterator336.n()).done;){var _n225=_step336.value;if(e.checkAttribute(_n225,this.attributeKey))return _n225.hasAttribute(this.attributeKey)}}catch(err){_iterator336.e(err)}finally{_iterator336.f()}}}catch(err){_iterator335.e(err)}finally{_iterator335.f()}return!1}}]),kp}(me),bp="bold",wp=function(_ue21){_inherits(wp,_ue21);var _super113=_createSuper(wp);function wp(){return _classCallCheck(this,wp),_super113.apply(this,arguments)}return _createClass(wp,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:bp}),t.model.schema.setAttributeProperties(bp,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:bp,view:"strong",upcastAlso:["b",function(t){var e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add(bp,new kp(t,bp)),t.keystrokes.set("CTRL+B",bp)}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),wp}(ue),Ap="bold",Cp=function(_ue22){_inherits(Cp,_ue22);var _super114=_createSuper(Cp);function Cp(){return _classCallCheck(this,Cp),_super114.apply(this,arguments)}return _createClass(Cp,[{key:"init",value:function(){var _this200=this,t=this.editor,e=t.t;t.ui.componentFactory.add(Ap,(function(n){var o=t.commands.get(Ap),i=new ih(n);return i.set({label:e("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),_this200.listenTo(i,"execute",(function(){t.execute(Ap),t.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"BoldUI"}}]),Cp}(ue),_p="italic",vp=function(_ue23){_inherits(vp,_ue23);var _super115=_createSuper(vp);function vp(){return _classCallCheck(this,vp),_super115.apply(this,arguments)}return _createClass(vp,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:_p}),t.model.schema.setAttributeProperties(_p,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:_p,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(_p,new kp(t,_p)),t.keystrokes.set("CTRL+I",_p)}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),vp}(ue),yp="italic",xp=function(_ue24){_inherits(xp,_ue24);var _super116=_createSuper(xp);function xp(){return _classCallCheck(this,xp),_super116.apply(this,arguments)}return _createClass(xp,[{key:"init",value:function(){var _this201=this,t=this.editor,e=t.t;t.ui.componentFactory.add(yp,(function(n){var o=t.commands.get(yp),i=new ih(n);return i.set({label:e("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),_this201.listenTo(i,"execute",(function(){t.execute(yp),t.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"ItalicUI"}}]),xp}(ue),Ep=function(_me9){_inherits(Ep,_me9);var _super117=_createSuper(Ep);function Ep(){return _classCallCheck(this,Ep),_super117.apply(this,arguments)}return _createClass(Ep,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var _this202=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.schema,o=e.document.selection,i=Array.from(o.getSelectedBlocks()),r=void 0===t.forceValue?!this.value:t.forceValue;e.change((function(t){if(r){var _e241=i.filter((function(t){return Dp(t)||Mp(n,t)}));_this202._applyQuote(t,_e241)}else _this202._removeQuote(t,i.filter(Dp))}))}},{key:"_getValue",value:function(){var t=wa(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Dp(t))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=wa(t.getSelectedBlocks());return!!n&&Mp(e,n)}},{key:"_removeQuote",value:function(t,e){Ip(t,e).reverse().forEach((function(e){if(e.start.isAtStart&&e.end.isAtEnd)t.unwrap(e.start.parent);else if(e.start.isAtStart){var _n226=t.createPositionBefore(e.start.parent);t.move(e,_n226)}else{e.end.isAtEnd||t.split(e.end);var n=t.createPositionAfter(e.end.parent);t.move(e,n)}}))}},{key:"_applyQuote",value:function(t,e){var n=[];Ip(t,e).reverse().forEach((function(e){var o=Dp(e.start);o||(o=t.createElement("blockQuote"),t.wrap(e,o)),n.push(o)})),n.reverse().reduce((function(e,n){return e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n}))}}]),Ep}(me);function Dp(t){return"blockQuote"==t.parent.name?t.parent:null}function Ip(t,e){for(var n,o=0,i=[];o<e.length;){var _r52=e[o],_s32=e[o+1];n||(n=t.createPositionBefore(_r52)),_s32&&_r52.nextSibling==_s32||(i.push(t.createRange(n,t.createPositionAfter(_r52))),n=null),o++}return i}function Mp(t,e){var n=t.checkChild(e.parent,"blockQuote"),o=t.checkChild(["$root","blockQuote"],e);return n&&o}var Tp=function(_ue25){_inherits(Tp,_ue25);var _super118=_createSuper(Tp);function Tp(){return _classCallCheck(this,Tp),_super118.apply(this,arguments)}return _createClass(Tp,[{key:"init",value:function(){var t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new Ep(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer((function(n){var _step337,_iterator337=_createForOfIteratorHelper(t.model.document.differ.getChanges());try{for(_iterator337.s();!(_step337=_iterator337.n()).done;){var _t253=_step337.value;if("insert"==_t253.type){var _o151=_t253.position.nodeAfter;if(!_o151)continue;if(_o151.is("element","blockQuote")&&_o151.isEmpty)return n.remove(_o151),!0;if(_o151.is("element","blockQuote")&&!e.checkChild(_t253.position,_o151))return n.unwrap(_o151),!0;if(_o151.is("element")){var _step338,_iterator338=_createForOfIteratorHelper(n.createRangeIn(_o151).getItems());try{for(_iterator338.s();!(_step338=_iterator338.n()).done;){var _o152=_step338.value;if(_o152.is("element","blockQuote")&&!e.checkChild(n.createPositionBefore(_o152),_o152))return n.unwrap(_o152),!0}}catch(err){_iterator338.e(err)}finally{_iterator338.f()}}}else if("remove"==_t253.type){var _e242=_t253.position.parent;if(_e242.is("element","blockQuote")&&_e242.isEmpty)return n.remove(_e242),!0}}}catch(err){_iterator337.e(err)}finally{_iterator337.f()}return!1}));var n=this.editor.editing.view.document,o=t.model.document.selection,i=t.commands.get("blockQuote");this.listenTo(n,"enter",(function(e,n){o.isCollapsed&&i.value&&o.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",(function(e,n){if("backward"==n.direction&&o.isCollapsed&&i.value){var r=o.getLastPosition().parent;r.isEmpty&&!r.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())}}),{context:"blockquote"})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}},{key:"requires",get:function(){return[fg,vg]}}]),Tp}(ue),Sp=n(3062);Zr()(Sp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Sp.Z.locals;var Bp=function(_ue26){_inherits(Bp,_ue26);var _super119=_createSuper(Bp);function Bp(){return _classCallCheck(this,Bp),_super119.apply(this,arguments)}return _createClass(Bp,[{key:"init",value:function(){var _this203=this,t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",(function(n){var o=t.commands.get("blockQuote"),i=new ih(n);return i.set({label:e("Block quote"),icon:Ad_quote,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),_this203.listenTo(i,"execute",(function(){t.execute("blockQuote"),t.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"BlockQuoteUI"}}]),Bp}(ue),zp=function(_ue27){_inherits(zp,_ue27);var _super120=_createSuper(zp);function zp(){return _classCallCheck(this,zp),_super120.apply(this,arguments)}return _createClass(zp,[{key:"init",value:function(){var t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",(function(e){var o=t.commands.get("ckfinder"),i=new ih(e);return i.set({label:n("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(o),i.on("execute",(function(){t.execute("ckfinder"),t.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),zp}(ue),Pp=function(_me10){_inherits(Pp,_me10);var _super121=_createSuper(Pp);function Pp(t){var _this204;return _classCallCheck(this,Pp),(_this204=_super121.call(this,t)).stopListening(_this204.editor.model.document,"change"),_this204.listenTo(_this204.editor.model.document,"change",(function(){return _this204.refresh()}),{priority:"low"}),_this204}return _createClass(Pp,[{key:"refresh",value:function(){var t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}},{key:"execute",value:function(){var t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new a("ckfinder-unknown-openermethod",t);var n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;var o=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=function(e){o&&o(e),e.on("files:choose",(function(n){var _step339,o=n.data.files.toArray(),i=o.filter((function(t){return!t.isImage()})),r=o.filter((function(t){return t.isImage()})),_iterator339=_createForOfIteratorHelper(i);try{for(_iterator339.s();!(_step339=_iterator339.n()).done;){var _e243=_step339.value;t.execute("link",_e243.getUrl())}}catch(err){_iterator339.e(err)}finally{_iterator339.f()}var _step340,s=[],_iterator340=_createForOfIteratorHelper(r);try{for(_iterator340.s();!(_step340=_iterator340.n()).done;){var _t255=_step340.value,_n227=_t255.getUrl();s.push(_n227||e.request("file:getProxyUrl",{file:_t255}))}}catch(err){_iterator340.e(err)}finally{_iterator340.f()}s.length&&Lp(t,s)})),e.on("file:choose:resizedImage",(function(e){var n=e.data.resizedUrl;if(n)Lp(t,[n]);else{var _e244=t.plugins.get("Notification"),_n228=t.locale.t;_e244.showWarning(_n228("Could not obtain resized image URL."),{title:_n228("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[e](n)}}]),Pp}(me);function Lp(t,e){if(t.commands.get("insertImage").isEnabled)t.execute("insertImage",{source:e});else{var _e245=t.plugins.get("Notification"),_n229=t.locale.t;_e245.showWarning(_n229("Could not insert image at the current position."),{title:_n229("Inserting image failed"),namespace:"ckfinder"})}}var Op=function(_ue28){_inherits(Op,_ue28);var _super122=_createSuper(Op);function Op(){return _classCallCheck(this,Op),_super122.apply(this,arguments)}return _createClass(Op,[{key:"init",value:function(){var t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new a("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new Pp(t))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[hu,"LinkEditing"]}}]),Op}(ue),Rp=function(_ue29){_inherits(Rp,_ue29);var _super123=_createSuper(Rp);function Rp(){return _classCallCheck(this,Rp),_super123.apply(this,arguments)}return _createClass(Rp,[{key:"init",value:function(){var _this205=this,t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,o=e.uploadUrl;n&&(this._uploadGateway=t.plugins.get("CloudServicesCore").createUploadGateway(n,o),t.plugins.get(rp).createUploadAdapter=function(t){return new jp(_this205._uploadGateway,t)})}}],[{key:"pluginName",get:function(){return"CloudServicesUploadAdapter"}},{key:"requires",get:function(){return["CloudServices",rp]}}]),Rp}(ue),jp=function(){function jp(t,e){_classCallCheck(this,jp),this.uploadGateway=t,this.loader=e}return _createClass(jp,[{key:"upload",value:function(){var _this206=this;return this.loader.file.then((function(t){return _this206.fileUploader=_this206.uploadGateway.upload(t),_this206.fileUploader.on("progress",(function(t,e){_this206.loader.uploadTotal=e.total,_this206.loader.uploaded=e.uploaded})),_this206.fileUploader.send()}))}},{key:"abort",value:function(){this.fileUploader.abort()}}]),jp}(),Fp=function(_me11){_inherits(Fp,_me11);var _super124=_createSuper(Fp);function Fp(){return _classCallCheck(this,Fp),_super124.apply(this,arguments)}return _createClass(Fp,[{key:"refresh",value:function(){var t=this.editor.model,e=wa(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&Vp(e,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document;e.change((function(o){var _step341,_iterator341=_createForOfIteratorHelper((t.selection||n.selection).getSelectedBlocks());try{for(_iterator341.s();!(_step341=_iterator341.n()).done;){var _t256=_step341.value;!_t256.is("element","paragraph")&&Vp(_t256,e.schema)&&o.rename(_t256,"paragraph")}}catch(err){_iterator341.e(err)}finally{_iterator341.f()}}))}}]),Fp}(me);function Vp(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}var Hp=function(_me12){_inherits(Hp,_me12);var _super125=_createSuper(Hp);function Hp(){return _classCallCheck(this,Hp),_super125.apply(this,arguments)}return _createClass(Hp,[{key:"execute",value:function(t){var e=this.editor.model,n=t.position;e.change((function(t){var o=t.createElement("paragraph");if(!e.schema.checkChild(n.parent,o)){var _i127=e.schema.findAllowedParent(n,o);if(!_i127)return;n=t.split(n,_i127).position}e.insertContent(o,n),t.setSelection(o,"in")}))}}]),Hp}(me),Up=function(_ue30){_inherits(Up,_ue30);var _super126=_createSuper(Up);function Up(){return _classCallCheck(this,Up),_super126.apply(this,arguments)}return _createClass(Up,[{key:"init",value:function(){var t=this.editor,e=t.model;t.commands.add("paragraph",new Fp(t)),t.commands.add("insertParagraph",new Hp(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:function(t,_ref50){var e=_ref50.writer;return Up.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),Up}(ue);Up.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var qp=function(_me13){_inherits(qp,_me13);var _super127=_createSuper(qp);function qp(t,e){var _this207;return _classCallCheck(this,qp),(_this207=_super127.call(this,t)).modelElements=e,_this207}return _createClass(qp,[{key:"refresh",value:function(){var _this208=this,t=wa(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(e){return Wp(t,e,_this208.editor.model.schema)}))}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document,o=t.value;e.change((function(t){var _step342,_iterator342=_createForOfIteratorHelper(Array.from(n.selection.getSelectedBlocks()).filter((function(t){return Wp(t,o,e.schema)})));try{for(_iterator342.s();!(_step342=_iterator342.n()).done;){var _e246=_step342.value;_e246.is("element",o)||t.rename(_e246,o)}}catch(err){_iterator342.e(err)}finally{_iterator342.f()}}))}}]),qp}(me);function Wp(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}var Gp="paragraph",Yp=function(_ue31){_inherits(Yp,_ue31);var _super128=_createSuper(Yp);function Yp(t){var _this209;return _classCallCheck(this,Yp),_this209=_super128.call(this,t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),_this209}return _createClass(Yp,[{key:"init",value:function(){var _step343,t=this.editor,n=[],_iterator343=_createForOfIteratorHelper(t.config.get("heading.options"));try{for(_iterator343.s();!(_step343=_iterator343.n()).done;){var _o153=_step343.value;_o153.model!==Gp&&(t.model.schema.register(_o153.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(_o153),n.push(_o153.model))}}catch(err){_iterator343.e(err)}finally{_iterator343.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new qp(t,n))}},{key:"afterInit",value:function(){var t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(function(e,o){var i=t.model.document.selection.getFirstPosition().parent;n.some((function(t){return i.is("element",t.model)}))&&!i.is("element",Gp)&&0===i.childCount&&o.writer.rename(i,Gp)}))}},{key:"_addDefaultH1Conversion",value:function(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:s.get("low")+1})}}],[{key:"pluginName",get:function(){return"HeadingEditing"}},{key:"requires",get:function(){return[Up]}}]),Yp}(ue),Qp=n(8733);Zr()(Qp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Qp.Z.locals;var $p=function(_ue32){_inherits($p,_ue32);var _super129=_createSuper($p);function $p(){return _classCallCheck(this,$p),_super129.apply(this,arguments)}return _createClass($p,[{key:"init",value:function(){var _this210=this,t=this.editor,e=t.t,n=function(t){var e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map((function(t){var e=n[t.title];return e&&e!=t.title&&(t.title=e),t}))}(t),o=e("Choose heading"),i=e("Heading");t.ui.componentFactory.add("heading",(function(e){var _step344,r={},s=new Io,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a],_iterator344=_createForOfIteratorHelper(n);try{var _loop6=function(){var t=_step344.value,e={type:"button",model:new uu({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",(function(e){return e===t.model})),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),r[t.model]=t.title};for(_iterator344.s();!(_step344=_iterator344.n()).done;)_loop6()}catch(err){_iterator344.e(err)}finally{_iterator344.f()}var d=Uh(e);return Wh(d,s),d.buttonView.set({isOn:!1,withText:!0,tooltip:i}),d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),d.bind("isEnabled").toMany(l,"isEnabled",(function(){for(var _len22=arguments.length,t=new Array(_len22),_key22=0;_key22<_len22;_key22++)t[_key22]=arguments[_key22];return t.some((function(t){return t}))})),d.buttonView.bind("label").to(a,"value",c,"value",(function(t,e){var n=t||e&&"paragraph";return r[n]?r[n]:o})),_this210.listenTo(d,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),d}))}}],[{key:"pluginName",get:function(){return"HeadingUI"}}]),$p}(ue),Zp=function(_ue33){_inherits(Zp,_ue33);var _super130=_createSuper(Zp);function Zp(){return _classCallCheck(this,Zp),_super130.apply(this,arguments)}return _createClass(Zp,[{key:"init",value:function(){var _this211=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var _e247=t.plugins.get("BalloonToolbar");this.listenTo(_e247,"show",(function(e){(function(t){var e=t.getSelectedElement();return!(!e||!Tg(e))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){_this211._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){_this211._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){_this211._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){_get(_getPrototypeOf(Zp.prototype),"destroy",this).call(this);var _step345,_iterator345=_createForOfIteratorHelper(this._toolbarDefinitions.values());try{for(_iterator345.s();!(_step345=_iterator345.n()).done;){_step345.value.view.destroy()}}catch(err){_iterator345.e(err)}finally{_iterator345.f()}}},{key:"register",value:function(t,_ref51){var e=_ref51.ariaLabel,n=_ref51.items,o=_ref51.getRelatedElement,_ref51$balloonClassNa=_ref51.balloonClassName,i=void 0===_ref51$balloonClassNa?"ck-toolbar-container":_ref51$balloonClassNa;if(n.length){var r=this.editor,s=r.t,l=new Th(r.locale);if(l.ariaLabel=e||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new a("widget-toolbar-duplicated",this,{toolbarId:t});l.fillFromConfig(n,r.ui.componentFactory),this._toolbarDefinitions.set(t,{view:l,getRelatedElement:o,balloonClassName:i})}else c("widget-toolbar-no-items",{toolbarId:t})}},{key:"_updateToolbarsVisibility",value:function(){var _step346,t=0,e=null,n=null,_iterator346=_createForOfIteratorHelper(this._toolbarDefinitions.values());try{for(_iterator346.s();!(_step346=_iterator346.n()).done;){var _o154=_step346.value,_i128=_o154.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&_i128)if(this.editor.ui.focusTracker.isFocused){var _r53=_i128.getAncestors().length;_r53>t&&(t=_r53,e=_i128,n=_o154)}else this._isToolbarVisible(_o154)&&this._hideToolbar(_o154);else this._isToolbarInBalloon(_o154)&&this._hideToolbar(_o154)}}catch(err){_iterator346.e(err)}finally{_iterator346.f()}n&&this._showToolbar(n,e)}},{key:"_hideToolbar",value:function(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(t,e){var _this212=this;this._isToolbarVisible(t)?Jp(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Xp(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var _step347,_iterator347=_createForOfIteratorHelper(_this212._toolbarDefinitions.values());try{for(_iterator347.s();!(_step347=_iterator347.n()).done;){var _t258=_step347.value;if(_this212._isToolbarVisible(_t258)){var _e248=_t258.getRelatedElement(_this212.editor.editing.view.document.selection);Jp(_this212.editor,_e248)}}}catch(err){_iterator347.e(err)}finally{_iterator347.f()}})))}},{key:"_isToolbarVisible",value:function(t){return this._balloon.visibleView===t.view}},{key:"_isToolbarInBalloon",value:function(t){return this._balloon.hasView(t.view)}}],[{key:"requires",get:function(){return[xu]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),Zp}(ue);function Jp(t,e){var n=t.plugins.get("ContextualBalloon"),o=Xp(t,e);n.updatePosition(o)}function Xp(t,e){var n=t.editing.view,o=bu.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}var tf=function(){function tf(t){_classCallCheck(this,tf),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}return _createClass(tf,[{key:"begin",value:function(t,e,n){var o=new ma(e);this.activeHandlePosition=function(t){for(var _i129=0,_e249=["top-left","top-right","bottom-right","bottom-left"];_i129<_e249.length;_i129++){var _n230=_e249[_i129];if(t.classList.contains(ef(_n230)))return _n230}}(t),this._referenceCoordinates=function(t,e){var n=new ma(t),o=e.split("-"),i={x:"right"==o[1]?n.right:n.left,y:"bottom"==o[0]?n.bottom:n.top};return i.x+=t.ownerDocument.defaultView.scrollX,i.y+=t.ownerDocument.defaultView.scrollY,i}(e,function(t){var e=t.split("-"),n={top:"bottom",bottom:"top",left:"right",right:"left"};return"".concat(n[e[0]],"-").concat(n[e[1]])}(this.activeHandlePosition)),this.originalWidth=o.width,this.originalHeight=o.height,this.aspectRatio=o.width/o.height;var i=n.style.width;i&&i.match(/^\d+(\.\d*)?%$/)?this.originalWidthPercents=parseFloat(i):this.originalWidthPercents=function(t,e){var n=t.parentElement,o=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);return e.width/o*100}(n,o)}},{key:"update",value:function(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}]),tf}();function ef(t){return"ck-widget__resizer__handle-".concat(t)}he(tf,re);var nf=function(_Dd25){_inherits(nf,_Dd25);var _super131=_createSuper(nf);function nf(){var _this213;_classCallCheck(this,nf);var t=(_this213=_super131.call(this)).bindTemplate;return _this213.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("_viewPosition",(function(t){return t?"ck-orientation-".concat(t):""}))],style:{display:t.if("_isVisible","none",(function(t){return!t}))}},children:[{text:t.to("_label")}]}),_this213}return _createClass(nf,[{key:"_bindToState",value:function(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",(function(t,e){return null!==t&&null!==e})),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",(function(e,n,o){return"px"===t.unit?"".concat(e,"").concat(n):"".concat(o,"%")})),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",(function(t,e,n){return e<50||n<50?"above-center":t}))}},{key:"_dismiss",value:function(){this.unbind(),this._isVisible=!1}}]),nf}(Dd),of=function(){function of(t){var _this214=this;_classCallCheck(this,of),this._options=t,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",(function(t){_this214.state.proposedWidth||_this214.state.proposedWidthPercents||(_this214._cleanup(),t.stop())}),{priority:"high"}),this.on("change:isEnabled",(function(){_this214.isEnabled&&_this214.redraw()}))}return _createClass(of,[{key:"attach",value:function(){var _this215=this,t=this,e=this._options.viewElement;this._options.editor.editing.view.change((function(n){var o=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(e){var n=this.toDomElement(e);return t._appendHandles(n),t._appendSizeUI(n),t.on("change:isEnabled",(function(t,e,o){n.style.display=o?"":"none"})),n.style.display=t.isEnabled?"":"none",n}));n.insert(n.createPositionAt(e,"end"),o),n.addClass("ck-widget_with-resizer",e),_this215._viewResizerWrapper=o}))}},{key:"begin",value:function(t){this.state=new tf(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(t){var _this216=this,e=this._proposeNewSize(t);this._options.editor.editing.view.change((function(t){var n=_this216._options.unit||"%",o=("%"===n?e.widthPercents:e.width)+n;t.setStyle("width",o,_this216._options.viewElement)}));var n=this._getHandleHost(),o=new ma(n);e.handleHostWidth=Math.round(o.width),e.handleHostHeight=Math.round(o.height);var i=new ma(n);e.width=Math.round(i.width),e.height=Math.round(i.height),this.redraw(o),this.state.update(e)}},{key:"commit",value:function(){var _this217=this,t=this._options.unit||"%",e=("%"===t?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change((function(){_this217._cleanup(),_this217._options.onCommit(e)}))}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(t){var e=this._domResizerWrapper;if((n=e)&&n.ownerDocument&&n.ownerDocument.contains(n)){var n,a,o=e.parentElement,i=this._getHandleHost(),r=this._viewResizerWrapper,s=[r.getStyle("width"),r.getStyle("height"),r.getStyle("left"),r.getStyle("top")];if(o.isSameNode(i)){var _e250=t||new ma(i);a=[_e250.width+"px",_e250.height+"px",void 0,void 0]}else a=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"];"same"!==Oo(s,a)&&this._options.editor.editing.view.change((function(t){t.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},r)}))}}},{key:"containsHandle",value:function(t){return this._domResizerWrapper.contains(t)}},{key:"_cleanup",value:function(){var _this218=this;this._sizeView._dismiss(),this._options.editor.editing.view.change((function(t){t.setStyle("width",_this218._initialViewWidth,_this218._options.viewElement)}))}},{key:"_proposeNewSize",value:function(t){var o,e=this.state,n_x=(o=t).pageX,n_y=o.pageY,i=!this._options.isCentered||this._options.isCentered(this),r={x:e._referenceCoordinates.x-(n_x+e.originalWidth),y:n_y-e.originalHeight-e._referenceCoordinates.y};i&&e.activeHandlePosition.endsWith("-right")&&(r.x=n_x-(e._referenceCoordinates.x+e.originalWidth)),i&&(r.x*=2);var s={width:Math.abs(e.originalWidth+r.x),height:Math.abs(e.originalHeight+r.y)};s.dominant=s.width/e.aspectRatio>s.height?"width":"height",s.max=s[s.dominant];var a={width:s.width,height:s.height};return"width"==s.dominant?a.height=a.width/e.aspectRatio:a.width=a.height*e.aspectRatio,{width:Math.round(a.width),height:Math.round(a.height),widthPercents:Math.min(Math.round(e.originalWidthPercents/e.originalWidth*a.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){var t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}},{key:"_getHandleHost",value:function(){var t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}},{key:"_domResizerWrapper",get:function(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}},{key:"_appendHandles",value:function(t){for(var n,_i130=0,_e251=["top-left","top-right","bottom-right","bottom-left"];_i130<_e251.length;_i130++){var _o155=_e251[_i130];t.appendChild(new Id({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(n=_o155,"ck-widget__resizer__handle-".concat(n))}}).render())}}},{key:"_appendSizeUI",value:function(t){this._sizeView=new nf,this._sizeView.render(),t.appendChild(this._sizeView.element)}}],[{key:"isResizeHandle",value:function(t){return t.classList.contains("ck-widget__resizer__handle")}}]),of}();he(of,re);var rf=n(8506);Zr()(rf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),rf.Z.locals,he(function(_ue34){_inherits(_class2,_ue34);var _super132=_createSuper(_class2);function _class2(){return _classCallCheck(this,_class2),_super132.apply(this,arguments)}return _createClass(_class2,[{key:"init",value:function(){var _this219=this,t=this.editor.editing,e=is.window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,t.view.addObserver(tg),this._observer=Object.create(ks),this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this));var n=function(){_this219.visibleResizer&&_this219.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=om(n,200),this.on("change:visibleResizer",n),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",(function(){var _step348,_iterator348=_createForOfIteratorHelper(_this219._resizers);try{for(_iterator348.s();!(_step348=_iterator348.n()).done;){var _step348$value=_slicedToArray(_step348.value,2),_t259=_step348$value[0],_e252=_step348$value[1];_t259.isAttached()||(_this219._resizers.delete(_t259),_e252.destroy())}}catch(err){_iterator348.e(err)}finally{_iterator348.f()}}),{priority:"lowest"}),this._observer.listenTo(is.window,"resize",this._redrawFocusedResizerThrottled);var o=this.editor.editing.view.document.selection;o.on("change",(function(){var t=o.getSelectedElement();_this219.visibleResizer=_this219.getResizerByViewElement(t)||null}))}},{key:"destroy",value:function(){this._observer.stopListening();var _step349,_iterator349=_createForOfIteratorHelper(this._resizers.values());try{for(_iterator349.s();!(_step349=_iterator349.n()).done;){_step349.value.destroy()}}catch(err){_iterator349.e(err)}finally{_iterator349.f()}this._redrawFocusedResizerThrottled.cancel()}},{key:"attachTo",value:function(t){var e=new of(t),n=this.editor.plugins;if(e.attach(),n.has("WidgetToolbarRepository")){var _t261=n.get("WidgetToolbarRepository");e.on("begin",(function(){_t261.forceDisabled("resize")}),{priority:"lowest"}),e.on("cancel",(function(){_t261.clearForceDisabled("resize")}),{priority:"highest"}),e.on("commit",(function(){_t261.clearForceDisabled("resize")}),{priority:"highest"})}this._resizers.set(t.viewElement,e);var o=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(o)==e&&(this.visibleResizer=e),e}},{key:"getResizerByViewElement",value:function(t){return this._resizers.get(t)}},{key:"_getResizerByHandle",value:function(t){var _step350,_iterator350=_createForOfIteratorHelper(this._resizers.values());try{for(_iterator350.s();!(_step350=_iterator350.n()).done;){var _e253=_step350.value;if(_e253.containsHandle(t))return _e253}}catch(err){_iterator350.e(err)}finally{_iterator350.f()}}},{key:"_mouseDownListener",value:function(t,e){var n=e.domTarget;of.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n),this._activeResizer&&(this._activeResizer.begin(n),t.stop(),e.preventDefault()))}},{key:"_mouseMoveListener",value:function(t,e){this._activeResizer&&this._activeResizer.updateSize(e)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],[{key:"pluginName",get:function(){return"WidgetResize"}}]),_class2}(ue),re);var af=function(_me14){_inherits(af,_me14);var _super133=_createSuper(af);function af(){return _classCallCheck(this,af),_super133.apply(this,arguments)}return _createClass(af,[{key:"refresh",value:function(){var t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(t){var e=this.editor,n=e.plugins.get("ImageUtils"),o=e.model,i=n.getClosestSelectedImageElement(o.document.selection);o.change((function(e){e.setAttribute("alt",t.newValue,i)}))}}]),af}(me);function cf(t,e){var n=t.createEmptyElement("img"),o="imageBlock"===e?t.createContainerElement("figure",{class:"image"}):t.createContainerElement("span",{class:"image-inline"},{isAllowedInsideAttributeElement:!0});return t.insert(t.createPositionAt(o,0),n),o}function lf(t,e){if(t.plugins.has("ImageInlineEditing")!==t.plugins.has("ImageBlockEditing"))return{name:"img"};var n=t.plugins.get("ImageUtils");return function(t){return n.isInlineImageView(t)?(t.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:{name:!0}:null}}function df(t,e){var n=wa(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}var hf=function(_ue35){_inherits(hf,_ue35);var _super134=_createSuper(hf);function hf(){return _classCallCheck(this,hf),_super134.apply(this,arguments)}return _createClass(hf,[{key:"isImage",value:function(t){return this.isInlineImage(t)||this.isBlockImage(t)}},{key:"isInlineImageView",value:function(t){return!!t&&t.is("element","img")}},{key:"isBlockImageView",value:function(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}},{key:"insertImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.editor,i=o.model,r=i.document.selection;for(var _e254 in n=uf(o,e||r,n),t=_objectSpread(_objectSpread({},Object.fromEntries(r.getAttributes())),t))i.schema.checkAttribute(n,_e254)||delete t[_e254];return i.change((function(o){var s=o.createElement(n,t);return e||"imageInline"==n||(e=Og(r,i)),i.insertContent(s,e),s.parent?(o.setSelection(s,"on"),s):null}))}},{key:"getClosestSelectedImageWidget",value:function(t){var e=t.getSelectedElement();if(e&&this.isImageWidget(e))return e;for(var n=t.getFirstPosition().parent;n;){if(n.is("element")&&this.isImageWidget(n))return n;n=n.parent}return null}},{key:"getClosestSelectedImageElement",value:function(t){var e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}},{key:"isImageAllowed",value:function(){var t=this.editor.model.document.selection;return function(t,e){if("imageBlock"==uf(t,e)){var _n231=function(t,e){var n=Og(t,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(e,t.model);if(t.model.schema.checkChild(_n231,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(t){return _toConsumableArray(t.focus.getAncestors()).every((function(t){return!t.is("element","imageBlock")}))}(t)}},{key:"toImageWidget",value:function(t,e,n){var _this220=this;return e.setCustomProperty("image",!0,t),Sg(t,e,{label:function(){var e=_this220.findViewImgElement(t).getAttribute("alt");return e?"".concat(e," ").concat(n):n}})}},{key:"isImageWidget",value:function(t){return!!t.getCustomProperty("image")&&Tg(t)}},{key:"isBlockImage",value:function(t){return!!t&&t.is("element","imageBlock")}},{key:"isInlineImage",value:function(t){return!!t&&t.is("element","imageInline")}},{key:"findViewImgElement",value:function(t){if(this.isInlineImageView(t))return t;var _step351,_iterator351=_createForOfIteratorHelper(this.editor.editing.view.createRangeIn(t));try{for(_iterator351.s();!(_step351=_iterator351.n()).done;){var _n232=_step351.value.item;if(this.isInlineImageView(_n232))return _n232}}catch(err){_iterator351.e(err)}finally{_iterator351.f()}}}],[{key:"pluginName",get:function(){return"ImageUtils"}}]),hf}(ue);function uf(t,e,n){var o=t.model.schema,i=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||("inline"===i?"imageInline":"block"===i?"imageBlock":e.is("selection")?df(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}var gf=function(_ue36){_inherits(gf,_ue36);var _super135=_createSuper(gf);function gf(){return _classCallCheck(this,gf),_super135.apply(this,arguments)}return _createClass(gf,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new af(this.editor))}}],[{key:"requires",get:function(){return[hf]}},{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),gf}(ue),mf=n(1905);Zr()(mf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),mf.Z.locals;var ff=n(6764);Zr()(ff.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ff.Z.locals;var bf=function(_Dd26){_inherits(bf,_Dd26);var _super136=_createSuper(bf);function bf(t){var _this221;_classCallCheck(this,bf);var e=(_this221=_super136.call(this,t)).locale.t;return _this221.focusTracker=new Aa,_this221.keystrokes=new Ca,_this221.labeledInput=_this221._createLabeledInputView(),_this221.saveButtonView=_this221._createButton(e("Save"),Ad_check,"ck-button-save"),_this221.saveButtonView.type="submit",_this221.cancelButtonView=_this221._createButton(e("Cancel"),Ad_cancel,"ck-button-cancel","cancel"),_this221._focusables=new yd,_this221._focusCycler=new vh({focusables:_this221._focusables,focusTracker:_this221.focusTracker,keystrokeHandler:_this221.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this221.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[_this221.labeledInput,_this221.saveButtonView,_this221.cancelButtonView]}),_d(_assertThisInitialized(_this221)),_this221}return _createClass(bf,[{key:"render",value:function(){var _this222=this;_get(_getPrototypeOf(bf.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),vd({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(t){_this222._focusables.add(t),_this222.focusTracker.add(t.element)}))}},{key:"destroy",value:function(){_get(_getPrototypeOf(bf.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"_createButton",value:function(t,e,n,o){var i=new ih(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}},{key:"_createLabeledInputView",value:function(){var t=this.locale.t,e=new lu(this.locale,du);return e.label=t("Text alternative"),e}}]),bf}(Dd);function wf(t){var e=t.editing.view,n=bu.defaultPositions,o=t.plugins.get("ImageUtils");return{target:e.domConverter.viewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var Af=function(_ue37){_inherits(Af,_ue37);var _super137=_createSuper(Af);function Af(){return _classCallCheck(this,Af),_super137.apply(this,arguments)}return _createClass(Af,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){_get(_getPrototypeOf(Af.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var _this223=this,t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(n){var o=t.commands.get("imageTextAlternative"),i=new ih(n);return i.set({label:e("Change image text alternative"),icon:Ad_lowVision,tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),_this223.listenTo(i,"execute",(function(){_this223._showForm()})),i}))}},{key:"_createForm",value:function(){var _this224=this,t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new bf(t.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:_this224._form.labeledInput.fieldView.element.value}),_this224._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){_this224._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(t,e){_this224._hideForm(!0),e()})),this.listenTo(t.ui,"update",(function(){n.getClosestSelectedImageWidget(e.selection)?_this224._isVisible&&function(t){var e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){var _n233=wf(t);e.updatePosition(_n233)}}(t):_this224._hideForm(!0)})),Cd({emitter:this._form,activator:function(){return _this224._isVisible},contextElements:[this._balloon.view.element],callback:function(){return _this224._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:wf(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}}},{key:"_hideForm",value:function(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[xu]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),Af}(ue),Cf=function(_ue38){_inherits(Cf,_ue38);var _super138=_createSuper(Cf);function Cf(){return _classCallCheck(this,Cf),_super138.apply(this,arguments)}return _createClass(Cf,null,[{key:"requires",get:function(){return[gf,Af]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),Cf}(ue);function _f(t,e){return function(t){t.on("attribute:srcset:".concat(e),n)};function n(e,n,o){if(o.consumable.consume(n.item,e.name)){var i=o.writer,r=o.mapper.toViewElement(n.item),s=t.findViewImgElement(r);if(null===n.attributeNewValue){var _t262=n.attributeOldValue;_t262.data&&(i.removeAttribute("srcset",s),i.removeAttribute("sizes",s),_t262.width&&i.removeAttribute("width",s))}else{var _t263=n.attributeNewValue;_t263.data&&(i.setAttribute("srcset",_t263.data,s),i.setAttribute("sizes","100vw",s),_t263.width&&i.setAttribute("width",_t263.width,s))}}}}function vf(t,e,n){return function(t){t.on("attribute:".concat(n,":").concat(e),o)};function o(e,n,o){if(o.consumable.consume(n.item,e.name)){var i=o.writer,r=o.mapper.toViewElement(n.item),s=t.findViewImgElement(r);i.setAttribute(n.attributeKey,n.attributeNewValue||"",s)}}}var yf=function(_As8){_inherits(yf,_As8);var _super139=_createSuper(yf);function yf(){return _classCallCheck(this,yf),_super139.apply(this,arguments)}return _createClass(yf,[{key:"observe",value:function(t){var _this225=this;this.listenTo(t,"load",(function(t,e){var n=e.target;_this225.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&_this225._fireEvents(e)}),{useCapture:!0})}},{key:"_fireEvents",value:function(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}]),yf}(As),xf=function(_me15){_inherits(xf,_me15);var _super140=_createSuper(xf);function xf(t){var _this226;_classCallCheck(this,xf),_this226=_super140.call(this,t);var e=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")||"block"===e&&c("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||"inline"===e&&c("image-inline-plugin-required"),_this226}return _createClass(xf,[{key:"refresh",value:function(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}},{key:"execute",value:function(t){var _this227=this,e=To(t.source),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());e.forEach((function(t,e){var r=n.getSelectedElement();if("string"==typeof t&&(t={src:t}),e&&r&&o.isImage(r)){var _e255=_this227.editor.model.createPositionAfter(r);o.insertImage(_objectSpread(_objectSpread({},t),i),_e255)}else o.insertImage(_objectSpread(_objectSpread({},t),i))}))}}]),xf}(me),Ef=function(_ue39){_inherits(Ef,_ue39);var _super141=_createSuper(Ef);function Ef(){return _classCallCheck(this,Ef),_super141.apply(this,arguments)}return _createClass(Ef,[{key:"init",value:function(){var t=this.editor,e=t.conversion;t.editing.view.addObserver(yf),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(t){var e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}});var n=new xf(t);t.commands.add("insertImage",n),t.commands.add("imageInsert",n)}}],[{key:"requires",get:function(){return[hf]}},{key:"pluginName",get:function(){return"ImageEditing"}}]),Ef}(ue),Df=function(_me16){_inherits(Df,_me16);var _super142=_createSuper(Df);function Df(t,e){var _this228;return _classCallCheck(this,Df),(_this228=_super142.call(this,t))._modelElementName=e,_this228}return _createClass(Df,[{key:"refresh",value:function(){var t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}},{key:"execute",value:function(){var _this229=this,t=this.editor,e=this.editor.model,n=t.plugins.get("ImageUtils"),o=n.getClosestSelectedImageElement(e.document.selection),i=Object.fromEntries(o.getAttributes());return i.src||i.uploadId?e.change((function(t){var r=Array.from(e.markers).filter((function(t){return t.getRange().containsItem(o)})),s=n.insertImage(i,e.createSelection(o,"on"),_this229._modelElementName);if(!s)return null;var _step352,a=t.createRangeOn(s),_iterator352=_createForOfIteratorHelper(r);try{for(_iterator352.s();!(_step352=_iterator352.n()).done;){var _e256=_step352.value,_n234=_e256.getRange(),_o156="$graveyard"!=_n234.root.rootName?_n234.getJoined(a,!0):a;t.updateMarker(_e256,{range:_o156})}}catch(err){_iterator352.e(err)}finally{_iterator352.f()}return{oldElement:o,newElement:s}})):null}}]),Df}(me),If=function(_ue40){_inherits(If,_ue40);var _super143=_createSuper(If);function If(){return _classCallCheck(this,If),_super143.apply(this,arguments)}return _createClass(If,[{key:"init",value:function(){var t=this.editor;t.model.schema.register("imageBlock",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new Df(this.editor,"imageBlock")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageBlock",view:function(t,_ref52){return cf(_ref52.writer,"imageBlock")}}),n.for("editingDowncast").elementToElement({model:"imageBlock",view:function(t,_ref53){var n=_ref53.writer;return o.toImageWidget(cf(n,"imageBlock"),n,e("image widget"))}}),n.for("downcast").add(vf(o,"imageBlock","src")).add(vf(o,"imageBlock","alt")).add(_f(o,"imageBlock")),n.for("upcast").elementToElement({view:lf(t,"imageBlock"),model:function(t,_ref54){return _ref54.writer.createElement("imageBlock",t.hasAttribute("src")?{src:t.getAttribute("src")}:null)}}).add(function(t){return function(t){t.on("element:figure",e)};function e(e,n,o){if(o.consumable.test(n.viewItem,{name:!0,classes:"image"})){var i=t.findViewImgElement(n.viewItem);if(i&&o.consumable.test(i,{name:!0})){o.consumable.consume(n.viewItem,{name:!0,classes:"image"});var r=wa(o.convertItem(i,n.modelCursor).modelRange.getItems());r?(o.convertChildren(n.viewItem,r),o.updateConversionResult(r,n)):o.consumable.revert(n.viewItem,{name:!0,classes:"image"})}}}}(o))}},{key:"_setupClipboardIntegration",value:function(){var t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(function(i,r){var a,s=Array.from(r.content.getChildren());if(s.every(o.isInlineImageView)){a=r.targetRanges?t.editing.mapper.toModelRange(r.targetRanges[0]):e.document.selection.getFirstRange();var c=e.createSelection(a);if("imageBlock"===df(e.schema,c)){var _t264=new eg(n.document),_e257=s.map((function(e){return _t264.createElement("figure",{class:"image"},e)}));r.content=_t264.createDocumentFragment(_e257)}}}))}}],[{key:"requires",get:function(){return[Ef,hf,hg]}},{key:"pluginName",get:function(){return"ImageBlockEditing"}}]),If}(ue),Mf=n(3508);Zr()(Mf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Mf.Z.locals;var Sf=function(_ue41){_inherits(Sf,_ue41);var _super144=_createSuper(Sf);function Sf(){return _classCallCheck(this,Sf),_super144.apply(this,arguments)}return _createClass(Sf,null,[{key:"requires",get:function(){return[If,em,Cf]}},{key:"pluginName",get:function(){return"ImageBlock"}}]),Sf}(ue),Nf=function(_ue42){_inherits(Nf,_ue42);var _super145=_createSuper(Nf);function Nf(){return _classCallCheck(this,Nf),_super145.apply(this,arguments)}return _createClass(Nf,[{key:"init",value:function(){var t=this.editor,e=t.model.schema;e.register("imageInline",{isObject:!0,isInline:!0,allowWhere:"$text",allowAttributesOf:"$text",allowAttributes:["alt","src","srcset"]}),e.addChildCheck((function(t,e){if(t.endsWith("caption")&&"imageInline"===e.name)return!1})),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new Df(this.editor,"imageInline")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:function(t,_ref55){return _ref55.writer.createEmptyElement("img")}}),n.for("editingDowncast").elementToElement({model:"imageInline",view:function(t,_ref56){var n=_ref56.writer;return o.toImageWidget(cf(n,"imageInline"),n,e("image widget"))}}),n.for("downcast").add(vf(o,"imageInline","src")).add(vf(o,"imageInline","alt")).add(_f(o,"imageInline")),n.for("upcast").elementToElement({view:lf(t,"imageInline"),model:function(t,_ref57){return _ref57.writer.createElement("imageInline",t.hasAttribute("src")?{src:t.getAttribute("src")}:null)}})}},{key:"_setupClipboardIntegration",value:function(){var t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(function(i,r){var a,s=Array.from(r.content.getChildren());if(s.every(o.isBlockImageView)){a=r.targetRanges?t.editing.mapper.toModelRange(r.targetRanges[0]):e.document.selection.getFirstRange();var c=e.createSelection(a);if("imageInline"===df(e.schema,c)){var _t265=new eg(n.document),_e258=s.map((function(e){return 1===e.childCount?(Array.from(e.getAttributes()).forEach((function(n){return _t265.setAttribute.apply(_t265,_toConsumableArray(n).concat([o.findViewImgElement(e)]))})),e.getChild(0)):e}));r.content=_t265.createDocumentFragment(_e258)}}}))}}],[{key:"requires",get:function(){return[Ef,hf,hg]}},{key:"pluginName",get:function(){return"ImageInlineEditing"}}]),Nf}(ue),Bf=function(_ue43){_inherits(Bf,_ue43);var _super146=_createSuper(Bf);function Bf(){return _classCallCheck(this,Bf),_super146.apply(this,arguments)}return _createClass(Bf,null,[{key:"requires",get:function(){return[Nf,em,Cf]}},{key:"pluginName",get:function(){return"ImageInline"}}]),Bf}(ue);function zf(t){var _step353,_iterator353=_createForOfIteratorHelper(t.getChildren());try{for(_iterator353.s();!(_step353=_iterator353.n()).done;){var _e259=_step353.value;if(_e259&&_e259.is("element","caption"))return _e259}}catch(err){_iterator353.e(err)}finally{_iterator353.f()}return null}function Pf(t,e){var n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}var Lf=function(_me17){_inherits(Lf,_me17);var _super147=_createSuper(Lf);function Lf(){return _classCallCheck(this,Lf),_super147.apply(this,arguments)}return _createClass(Lf,[{key:"refresh",value:function(){var t=this.editor,e=t.plugins.get("ImageUtils");if(!t.plugins.has(If))return this.isEnabled=!1,void(this.value=!1);var n=t.model.document.selection,o=n.getSelectedElement();if(!o){var _t266=Pf(e,n);return this.isEnabled=!!_t266,void(this.value=!!_t266)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(o),this.isEnabled?this.value=!!zf(o):this.value=!1}},{key:"execute",value:function(){var _this230=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.focusCaptionOnShow;this.editor.model.change((function(t){_this230.value?_this230._hideImageCaption(t):_this230._showImageCaption(t,e)}))}},{key:"_showImageCaption",value:function(t,e){var n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageCaptionEditing"),i=n.getSelectedElement(),r=o._getSavedCaption(i);this.editor.plugins.get("ImageUtils").isInlineImage(i)&&(this.editor.execute("imageTypeBlock"),i=n.getSelectedElement());var s=r||t.createElement("caption");t.append(s,i),e&&t.setSelection(s,"in")}},{key:"_hideImageCaption",value:function(t){var r,e=this.editor,n=e.model.document.selection,o=e.plugins.get("ImageCaptionEditing"),i=e.plugins.get("ImageUtils"),s=n.getSelectedElement();s?r=zf(s):s=(r=Pf(i,n)).parent,o._saveCaption(s,r),t.setSelection(s,"on"),t.remove(r)}}]),Lf}(me),Of=function(_ue44){_inherits(Of,_ue44);var _super148=_createSuper(Of);function Of(t){var _this231;return _classCallCheck(this,Of),(_this231=_super148.call(this,t))._savedCaptionsMap=new WeakMap,_this231}return _createClass(Of,[{key:"init",value:function(){var t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Lf(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration()}},{key:"_setupConversion",value:function(){var t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),o=t.t;t.conversion.for("upcast").elementToElement({view:function(t){return function(t,e){return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}(n,t)},model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:function(t,_ref58){var e=_ref58.writer;return n.isBlockImage(t.parent)?e.createContainerElement("figcaption"):null}}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:function(t,_ref59){var i=_ref59.writer;if(!n.isBlockImage(t.parent))return null;var r=i.createEditableElement("figcaption");return i.setCustomProperty("imageCaption",!0,r),Ou({view:e,element:r,text:o("Enter image caption"),keepOnFocus:!0}),Lg(r,i)}}),t.editing.mapper.on("modelToViewPosition",Rf(e)),t.data.mapper.on("modelToViewPosition",Rf(e))}},{key:"_setupImageTypeCommandsIntegration",value:function(){var _this232=this,t=this.editor,e=t.plugins.get("ImageUtils"),n=t.commands.get("imageTypeInline"),o=t.commands.get("imageTypeBlock"),i=function(t){if(t.return){var _t$return=t.return,n=_t$return.oldElement,o=_t$return.newElement;if(n){if(e.isBlockImage(n)){var _t267=zf(n);if(_t267)return void _this232._saveCaption(o,_t267)}var i=_this232._getSavedCaption(n);i&&_this232._saveCaption(o,i)}}};n&&this.listenTo(n,"execute",i,{priority:"low"}),o&&this.listenTo(o,"execute",i,{priority:"low"})}},{key:"_getSavedCaption",value:function(t){var e=this._savedCaptionsMap.get(t);return e?Ra.fromJSON(e):null}},{key:"_saveCaption",value:function(t,e){this._savedCaptionsMap.set(t,e.toJSON())}}],[{key:"requires",get:function(){return[hf]}},{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),Of}(ue);function Rf(t){return function(e,n){var o=n.modelPosition,i=o.parent;if(i.is("element","imageBlock")){var r=n.mapper.toViewElement(i);n.viewPosition=t.createPositionAt(r,o.offset+1)}}}var jf=function(_ue45){_inherits(jf,_ue45);var _super149=_createSuper(jf);function jf(){return _classCallCheck(this,jf),_super149.apply(this,arguments)}return _createClass(jf,[{key:"init",value:function(){var _this233=this,t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),o=t.t;t.ui.componentFactory.add("toggleImageCaption",(function(i){var r=t.commands.get("toggleImageCaption"),s=new ih(i);return s.set({icon:Ad_caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.bind("label").to(r,"value",(function(t){return o(t?"Toggle caption off":"Toggle caption on")})),_this233.listenTo(s,"execute",(function(){t.execute("toggleImageCaption",{focusCaptionOnShow:!0});var o=Pf(n,t.model.document.selection);if(o){var _n235=t.editing.mapper.toViewElement(o);e.scrollToTheSelection(),e.change((function(t){t.addClass("image__caption_highlighted",_n235)}))}})),s}))}}],[{key:"requires",get:function(){return[hf]}},{key:"pluginName",get:function(){return"ImageCaptionUI"}}]),jf}(ue),Ff=n(2640);Zr()(Ff.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ff.Z.locals;var Hf=function(_me18){_inherits(Hf,_me18);var _super150=_createSuper(Hf);function Hf(t,e){var _this234;return _classCallCheck(this,Hf),(_this234=_super150.call(this,t))._defaultStyles={imageBlock:!1,imageInline:!1},_this234._styles=new Map(e.map((function(t){if(t.isDefault){var _step354,_iterator354=_createForOfIteratorHelper(t.modelElements);try{for(_iterator354.s();!(_step354=_iterator354.n()).done;){var _e260=_step354.value;_this234._defaultStyles[_e260]=t.name}}catch(err){_iterator354.e(err)}finally{_iterator354.f()}}return[t.name,t]}))),_this234}return _createClass(Hf,[{key:"refresh",value:function(){var t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}},{key:"execute",value:function(){var _this235=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor,n=e.model,o=e.plugins.get("ImageUtils");n.change((function(e){var i=t.value,r=o.getClosestSelectedImageElement(n.document.selection);i&&_this235.shouldConvertImageType(i,r)&&(_this235.editor.execute(o.isBlockImage(r)?"imageTypeInline":"imageTypeBlock"),r=o.getClosestSelectedImageElement(n.document.selection)),!i||_this235._styles.get(i).isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",i,r)}))}},{key:"shouldConvertImageType",value:function(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}]),Hf}(me),$f={inline:{name:"inline",title:"In line",icon:Ad_objectInline,modelElements:["imageInline"],isDefault:!0},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Ad_objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"},alignBlockLeft:{name:"alignBlockLeft",title:"Left aligned image",icon:Ad_objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Ad_objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:Ad_objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"},alignBlockRight:{name:"alignBlockRight",title:"Right aligned image",icon:Ad_objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"},block:{name:"block",title:"Centered image",icon:Ad_objectCenter,modelElements:["imageBlock"],isDefault:!0},side:{name:"side",title:"Side image",icon:Ad_objectRight,modelElements:["imageBlock"],className:"image-style-side"}},Zf={full:Ad_objectFullWidth,left:Ad_objectBlockLeft,right:Ad_objectBlockRight,center:Ad_objectCenter,inlineLeft:Ad_objectLeft,inlineRight:Ad_objectRight,inline:Ad_objectInline},Jf=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Xf(t){c("image-style-configuration-definition-invalid",t)}var tk={normalizeStyles:function(t){return(t.configuredStyles.options||[]).map((function(t){return function(t){return"string"==typeof(t="string"==typeof t?$f[t]?_objectSpread({},$f[t]):{name:t}:function(t,e){var n=_objectSpread({},e);for(var _o157 in t)Object.prototype.hasOwnProperty.call(e,_o157)||(n[_o157]=t[_o157]);return n}($f[t.name],t)).icon&&(t.icon=Zf[t.icon]||t.icon),t}(t)})).filter((function(e){return function(t,_ref60){var e=_ref60.isBlockPluginLoaded,n=_ref60.isInlinePluginLoaded,o=t.modelElements,i=t.name;if(!(o&&o.length&&i))return Xf({style:t}),!1;var _i131=[e?"imageBlock":null,n?"imageInline":null];return!!o.some((function(t){return _i131.includes(t)}))||(c("image-style-missing-dependency",{style:t,missingPlugins:o.map((function(t){return"imageBlock"===t?"ImageBlockEditing":"ImageInlineEditing"}))}),!1)}(e,t)}))},getDefaultStylesConfiguration:function(t,e){return t&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:t?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(t){return t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")?[].concat(Jf):[]},warnInvalidStyle:Xf,DEFAULT_OPTIONS:$f,DEFAULT_ICONS:Zf,DEFAULT_DROPDOWN_DEFINITIONS:Jf};function ek(t,e){var _step355,_iterator355=_createForOfIteratorHelper(e);try{for(_iterator355.s();!(_step355=_iterator355.n()).done;){var _n236=_step355.value;if(_n236.name===t)return _n236}}catch(err){_iterator355.e(err)}finally{_iterator355.f()}}var nk=function(_ue46){_inherits(nk,_ue46);var _super151=_createSuper(nk);function nk(){return _classCallCheck(this,nk),_super151.apply(this,arguments)}return _createClass(nk,[{key:"init",value:function(){var t=tk.normalizeStyles,e=tk.getDefaultStylesConfiguration,n=this.editor,o=n.plugins.has("ImageBlockEditing"),i=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(o,i)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:o,isInlinePluginLoaded:i}),this._setupConversion(o,i),this._setupPostFixer(),n.commands.add("imageStyle",new Hf(n,this.normalizedStyles))}},{key:"_setupConversion",value:function(t,e){var r,n=this.editor,o=n.model.schema,i=(r=this.normalizedStyles,function(t,e,n){if(n.consumable.consume(e.item,t.name)){var o=ek(e.attributeNewValue,r),i=ek(e.attributeOldValue,r),s=n.mapper.toViewElement(e.item),a=n.writer;i&&a.removeClass(i.className,s),o&&a.addClass(o.className,s)}}),s=function(t){var e={imageInline:t.filter((function(t){return!t.isDefault&&t.modelElements.includes("imageInline")})),imageBlock:t.filter((function(t){return!t.isDefault&&t.modelElements.includes("imageBlock")}))};return function(t,n,o){if(n.modelRange){var i=n.viewItem,r=wa(n.modelRange.getItems());if(r&&o.schema.checkAttribute(r,"imageStyle")){var _step356,_iterator356=_createForOfIteratorHelper(e[r.name]);try{for(_iterator356.s();!(_step356=_iterator356.n()).done;){var _t268=_step356.value;o.consumable.consume(i,{classes:_t268.className})&&o.writer.setAttribute("imageStyle",_t268.name,r)}}catch(err){_iterator356.e(err)}finally{_iterator356.f()}}}}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",i),n.data.downcastDispatcher.on("attribute:imageStyle",i),t&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",s,{priority:"low"})),e&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",s,{priority:"low"}))}},{key:"_setupPostFixer",value:function(){var t=this.editor,e=t.model.document,n=t.plugins.get(hf),o=new Map(this.normalizedStyles.map((function(t){return[t.name,t]})));e.registerPostFixer((function(t){var _step357,i=!1,_iterator357=_createForOfIteratorHelper(e.differ.getChanges());try{for(_iterator357.s();!(_step357=_iterator357.n()).done;){var _r54=_step357.value;if("insert"==_r54.type||"attribute"==_r54.type&&"imageStyle"==_r54.attributeKey){var _e261="insert"==_r54.type?_r54.position.nodeAfter:_r54.range.start.nodeAfter;if(_e261&&_e261.is("element","paragraph")&&_e261.childCount>0&&(_e261=_e261.getChild(0)),!n.isImage(_e261))continue;var _s33=_e261.getAttribute("imageStyle");if(!_s33)continue;var _a18=o.get(_s33);_a18&&_a18.modelElements.includes(_e261.name)||(t.removeAttribute("imageStyle",_e261),i=!0)}}}catch(err){_iterator357.e(err)}finally{_iterator357.f()}return i}))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}},{key:"requires",get:function(){return[hf]}}]),nk}(ue),ok=n(5083);Zr()(ok.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ok.Z.locals;var rk=function(_ue47){_inherits(rk,_ue47);var _super152=_createSuper(rk);function rk(){return _classCallCheck(this,rk),_super152.apply(this,arguments)}return _createClass(rk,[{key:"localizedDefaultStylesTitles",get:function(){var t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}},{key:"init",value:function(){var _step358,t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=sk(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles),_iterator358=_createForOfIteratorHelper(n);try{for(_iterator358.s();!(_step358=_iterator358.n()).done;){var _t269=_step358.value;this._createButton(_t269)}}catch(err){_iterator358.e(err)}finally{_iterator358.f()}var _step359,_iterator359=_createForOfIteratorHelper(sk([].concat(_toConsumableArray(e.filter(y)),_toConsumableArray(tk.getDefaultDropdownDefinitions(t))),this.localizedDefaultStylesTitles));try{for(_iterator359.s();!(_step359=_iterator359.n()).done;){var _t270=_step359.value;this._createDropdown(_t270,n)}}catch(err){_iterator359.e(err)}finally{_iterator359.f()}}},{key:"_createDropdown",value:function(t,e){var n=this.editor.ui.componentFactory;n.add(t.name,(function(o){var i,r=t.defaultItem,s=t.items,a=t.title,c=s.filter((function(t){return e.find((function(_ref61){return ak(_ref61.name)===t}))})).map((function(t){var e=n.create(t);return t===r&&(i=e),e}));s.length!==c.length&&tk.warnInvalidStyle({dropdown:t});var l=Uh(o,mh),d=l.buttonView;return qh(l,c),d.set({label:ck(a,i.label),class:null,tooltip:!0}),d.bind("icon").toMany(c,"isOn",(function(){for(var _len23=arguments.length,t=new Array(_len23),_key23=0;_key23<_len23;_key23++)t[_key23]=arguments[_key23];var e=t.findIndex(rt);return e<0?i.icon:c[e].icon})),d.bind("label").toMany(c,"isOn",(function(){for(var _len24=arguments.length,t=new Array(_len24),_key24=0;_key24<_len24;_key24++)t[_key24]=arguments[_key24];var e=t.findIndex(rt);return ck(a,e<0?i.label:c[e].label)})),d.bind("isOn").toMany(c,"isOn",(function(){for(var _len25=arguments.length,t=new Array(_len25),_key25=0;_key25<_len25;_key25++)t[_key25]=arguments[_key25];return t.some(rt)})),d.bind("class").toMany(c,"isOn",(function(){for(var _len26=arguments.length,t=new Array(_len26),_key26=0;_key26<_len26;_key26++)t[_key26]=arguments[_key26];return t.some(rt)?"ck-splitbutton_flatten":null})),d.on("execute",(function(){c.some((function(_ref62){return _ref62.isOn}))?l.isOpen=!l.isOpen:i.fire("execute")})),l.bind("isEnabled").toMany(c,"isEnabled",(function(){for(var _len27=arguments.length,t=new Array(_len27),_key27=0;_key27<_len27;_key27++)t[_key27]=arguments[_key27];return t.some(rt)})),l}))}},{key:"_createButton",value:function(t){var _this236=this,e=t.name;this.editor.ui.componentFactory.add(ak(e),(function(n){var o=_this236.editor.commands.get("imageStyle"),i=new ih(n);return i.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",(function(t){return t===e})),i.on("execute",_this236._executeCommand.bind(_this236,e)),i}))}},{key:"_executeCommand",value:function(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}],[{key:"requires",get:function(){return[nk]}},{key:"pluginName",get:function(){return"ImageStyleUI"}}]),rk}(ue);function sk(t,e){var _step360,_iterator360=_createForOfIteratorHelper(t);try{for(_iterator360.s();!(_step360=_iterator360.n()).done;){var _n237=_step360.value;e[_n237.title]&&(_n237.title=e[_n237.title])}}catch(err){_iterator360.e(err)}finally{_iterator360.f()}return t}function ak(t){return"imageStyle:".concat(t)}function ck(t,e){return(t?t+": ":"")+e}function lk(t){var e=t.map((function(t){return t.replace("+","\\+")}));return new RegExp("^image\\/(".concat(e.join("|"),")$"))}function dk(t){return new Promise((function(e,n){var o=t.getAttribute("src");fetch(o).then((function(t){return t.blob()})).then((function(t){var n=hk(t,o),i=n.replace("image/",""),r=new File([t],"image.".concat(i),{type:n});e(r)})).catch((function(t){return t&&"TypeError"===t.name?function(t){return function(t){return new Promise((function(e,n){var o=is.document.createElement("img");o.addEventListener("load",(function(){var t=is.document.createElement("canvas");t.width=o.width,t.height=o.height,t.getContext("2d").drawImage(o,0,0),t.toBlob((function(t){return t?e(t):n()}))})),o.addEventListener("error",(function(){return n()})),o.src=t}))}(t).then((function(e){var n=hk(e,t),o=n.replace("image/","");return new File([e],"image.".concat(o),{type:n})}))}(o).then(e).catch(n):n(t)}))}))}function hk(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}var uk=function(_ue48){_inherits(uk,_ue48);var _super153=_createSuper(uk);function uk(){return _classCallCheck(this,uk),_super153.apply(this,arguments)}return _createClass(uk,[{key:"init",value:function(){var t=this.editor,e=t.t,n=function(_n238){var o=new ap(_n238),i=t.commands.get("uploadImage"),r=t.config.get("image.upload.types"),s=lk(r);return o.set({acceptedType:r.map((function(t){return"image/".concat(t)})).join(","),allowMultipleFiles:!0}),o.buttonView.set({label:e("Insert image"),icon:Ad_image,tooltip:!0}),o.buttonView.bind("isEnabled").to(i),o.on("done",(function(e,n){var o=Array.from(n).filter((function(t){return s.test(t.type)}));o.length&&t.execute("uploadImage",{file:o})})),o};t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n)}}],[{key:"pluginName",get:function(){return"ImageUploadUI"}}]),uk}(ue),gk=n(3689);Zr()(gk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),gk.Z.locals;var pk=n(4036);Zr()(pk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),pk.Z.locals;var kk=n(3773);Zr()(kk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),kk.Z.locals;var wk=function(_ue49){_inherits(wk,_ue49);var _super154=_createSuper(wk);function wk(t){var _this237;return _classCallCheck(this,wk),(_this237=_super154.call(this,t)).placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_this237}return _createClass(wk,[{key:"init",value:function(){var _this238=this,t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(function(){return _this238.uploadStatusChange.apply(_this238,arguments)})),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(function(){return _this238.uploadStatusChange.apply(_this238,arguments)}))}},{key:"uploadStatusChange",value:function(t,e,n){var o=this.editor,i=e.item,r=i.getAttribute("uploadId");if(n.consumable.consume(e.item,t.name)){var s=o.plugins.get("ImageUtils"),a=o.plugins.get(rp),c=r?e.attributeNewValue:null,l=this.placeholder,d=o.editing.mapper.toViewElement(i),h=n.writer;if("reading"==c)return Ak(d,h),void Ck(s,l,d,h);if("uploading"==c){var _t271=a.loaders.get(r);return Ak(d,h),void(_t271?(_k(d,h),function(t,e,n,o){var i=function(t){var e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),i),n.on("change:uploadedPercent",(function(t,e,n){o.change((function(t){t.setStyle("width",n+"%",i)}))}))}(d,h,_t271,o.editing.view),function(t,e,n,o){if(o.data){var _i132=t.findViewImgElement(e);n.setAttribute("src",o.data,_i132)}}(s,d,h,_t271)):Ck(s,l,d,h))}"complete"==c&&a.loaders.get(r)&&function(t,e,n){var o=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),o),setTimeout((function(){n.change((function(t){return t.remove(t.createRangeOn(o))}))}),3e3)}(d,h,o.editing.view),function(t,e){yk(t,e,"progressBar")}(d,h),_k(d,h),function(t,e){e.removeClass("ck-appear",t)}(d,h)}}}],[{key:"pluginName",get:function(){return"ImageUploadProgress"}}]),wk}(ue);function Ak(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Ck(t,e,n,o){n.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",n);var i=t.findViewImgElement(n);i.getAttribute("src")!==e&&o.setAttribute("src",e,i),vk(n,"placeholder")||o.insert(o.createPositionAfter(i),function(t){var e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(o))}function _k(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),yk(t,e,"placeholder")}function vk(t,e){var _step361,_iterator361=_createForOfIteratorHelper(t.getChildren());try{for(_iterator361.s();!(_step361=_iterator361.n()).done;){var _n239=_step361.value;if(_n239.getCustomProperty(e))return _n239}}catch(err){_iterator361.e(err)}finally{_iterator361.f()}}function yk(t,e,n){var o=vk(t,n);o&&e.remove(e.createRangeOn(o))}var xk=function(_me19){_inherits(xk,_me19);var _super155=_createSuper(xk);function xk(){return _classCallCheck(this,xk),_super155.apply(this,arguments)}return _createClass(xk,[{key:"refresh",value:function(){var t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}},{key:"execute",value:function(t){var _this239=this,e=To(t.file),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());e.forEach((function(t,e){var r=n.getSelectedElement();if(e&&r&&o.isImage(r)){var _e262=_this239.editor.model.createPositionAfter(r);_this239._uploadImage(t,i,_e262)}else _this239._uploadImage(t,i)}))}},{key:"_uploadImage",value:function(t,e,n){var o=this.editor,i=o.plugins.get(rp).createLoader(t),r=o.plugins.get("ImageUtils");i&&r.insertImage(_objectSpread(_objectSpread({},e),{},{uploadId:i.id}),n)}}]),xk}(me),Ek=function(_ue50){_inherits(Ek,_ue50);var _super156=_createSuper(Ek);function Ek(t){var _this240;return _classCallCheck(this,Ek),_this240=_super156.call(this,t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),_this240._uploadImageElements=new Map,_this240}return _createClass(Ek,[{key:"init",value:function(){var _this241=this,t=this.editor,e=t.model.document,n=t.conversion,o=t.plugins.get(rp),i=t.plugins.get("ImageUtils"),r=lk(t.config.get("image.upload.types")),s=new xk(t);t.commands.add("uploadImage",s),t.commands.add("imageUpload",s),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){if(o=n.dataTransfer,!Array.from(o.types).includes("text/html")||""===o.getData("text/html")){var o,i=Array.from(n.dataTransfer.files).filter((function(t){return!!t&&r.test(t.type)}));i.length&&(e.stop(),t.model.change((function(e){n.targetRanges&&e.setSelection(n.targetRanges.map((function(e){return t.editing.mapper.toModelRange(e)}))),t.model.enqueueChange((function(){t.execute("uploadImage",{file:i})}))})))}})),this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(function(e,n){var r=Array.from(t.editing.view.createRangeIn(n.content)).filter((function(t){return function(t,e){return!(!t.isInlineImageView(e)||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))}(i,t.item)&&!t.item.getAttribute("uploadProcessed")})).map((function(t){return{promise:dk(t.item),imageElement:t.item}}));if(r.length){var _step362,s=new eg(t.editing.view.document),_iterator362=_createForOfIteratorHelper(r);try{for(_iterator362.s();!(_step362=_iterator362.n()).done;){var _t272=_step362.value;s.setAttribute("uploadProcessed",!0,_t272.imageElement);var _e263=o.createLoader(_t272.promise);_e263&&(s.setAttribute("src","",_t272.imageElement),s.setAttribute("uploadId",_e263.id,_t272.imageElement))}}catch(err){_iterator362.e(err)}finally{_iterator362.f()}}})),t.editing.view.document.on("dragover",(function(t,e){e.preventDefault()})),e.on("change",(function(){var _step363,n=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),i=new Set,_iterator363=_createForOfIteratorHelper(n);try{for(_iterator363.s();!(_step363=_iterator363.n()).done;){var _e264=_step363.value;if("insert"==_e264.type&&"$text"!=_e264.name){var _step364,_n240=_e264.position.nodeAfter,_r55="$graveyard"==_e264.position.root.rootName,_iterator364=_createForOfIteratorHelper(Dk(t,_n240));try{for(_iterator364.s();!(_step364=_iterator364.n()).done;){var _e265=_step364.value,_t273=_e265.getAttribute("uploadId");if(_t273){var _n241=o.loaders.get(_t273);_n241&&(_r55?i.has(_t273)||_n241.abort():(i.add(_t273),_this241._uploadImageElements.set(_t273,_e265),"idle"==_n241.status&&_this241._readAndUpload(_n241)))}}}catch(err){_iterator364.e(err)}finally{_iterator364.f()}}}}catch(err){_iterator363.e(err)}finally{_iterator363.f()}})),this.on("uploadComplete",(function(t,_ref63){var e=_ref63.imageElement,n=_ref63.data,o=n.urls?n.urls:n;_this241.editor.model.change((function(t){t.setAttribute("src",o.default,e),_this241._parseAndSetSrcsetAttributeOnImage(o,e,t)}))}),{priority:"low"})}},{key:"afterInit",value:function(){var t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}},{key:"_readAndUpload",value:function(t){var _this242=this,e=this.editor,n=e.model,o=e.locale.t,i=e.plugins.get(rp),r=e.plugins.get(hu),s=e.plugins.get("ImageUtils"),a=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},(function(e){e.setAttribute("uploadStatus","reading",a.get(t.id))})),t.read().then((function(){var o=t.upload(),i=a.get(t.id);if(sr.isSafari){var _t274=e.editing.mapper.toViewElement(i),_n242=s.findViewImgElement(_t274);e.editing.view.once("render",(function(){if(_n242.parent){var t=e.editing.view.domConverter.mapViewToDom(_n242.parent);if(t){var o=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=o}}}))}return n.enqueueChange({isUndoable:!1},(function(t){t.setAttribute("uploadStatus","uploading",i)})),o})).then((function(e){n.enqueueChange({isUndoable:!1},(function(n){var o=a.get(t.id);n.setAttribute("uploadStatus","complete",o),_this242.fire("uploadComplete",{data:e,imageElement:o})})),c()})).catch((function(e){if("error"!==t.status&&"aborted"!==t.status)throw e;"error"==t.status&&e&&r.showWarning(e,{title:o("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},(function(e){e.remove(a.get(t.id))})),c()}));function c(){n.enqueueChange({isUndoable:!1},(function(e){var n=a.get(t.id);e.removeAttribute("uploadId",n),e.removeAttribute("uploadStatus",n),a.delete(t.id)})),i.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,e,n){var o=0,i=Object.keys(t).filter((function(t){var e=parseInt(t,10);if(!isNaN(e))return o=Math.max(o,e),!0})).map((function(e){return"".concat(t[e]," ").concat(e,"w")})).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:o},e)}}],[{key:"requires",get:function(){return[rp,hu,hg,hf]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),Ek}(ue);function Dk(t,e){var n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter((function(t){return n.isImage(t.item)})).map((function(t){return t.item}))}var Ik=function(_ue51){_inherits(Ik,_ue51);var _super157=_createSuper(Ik);function Ik(){return _classCallCheck(this,Ik),_super157.apply(this,arguments)}return _createClass(Ik,[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new fe(t)),t.commands.add("outdent",new fe(t))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),Ik}(ue),Mk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Tk='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Sk=function(_ue52){_inherits(Sk,_ue52);var _super158=_createSuper(Sk);function Sk(){return _classCallCheck(this,Sk),_super158.apply(this,arguments)}return _createClass(Sk,[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,o="ltr"==e.uiLanguageDirection?Mk:Tk,i="ltr"==e.uiLanguageDirection?Tk:Mk;this._defineButton("indent",n("Increase indent"),o),this._defineButton("outdent",n("Decrease indent"),i)}},{key:"_defineButton",value:function(t,e,n){var _this243=this,o=this.editor;o.ui.componentFactory.add(t,(function(i){var r=o.commands.get(t),s=new ih(i);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),_this243.listenTo(s,"execute",(function(){o.execute(t),o.editing.view.focus()})),s}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),Sk}(ue),Nk=function(){function Nk(){_classCallCheck(this,Nk),this._definitions=new Set}return _createClass(Nk,[{key:"length",get:function(){return this._definitions.size}},{key:"add",value:function(t){var _this244=this;Array.isArray(t)?t.forEach((function(t){return _this244._definitions.add(t)})):this._definitions.add(t)}},{key:"getDispatcher",value:function(){var _this245=this;return function(t){t.on("attribute:linkHref",(function(t,e,n){if(n.consumable.test(e.item,"attribute:linkHref")){var _step365,o=n.writer,i=o.document.selection,_iterator365=_createForOfIteratorHelper(_this245._definitions);try{for(_iterator365.s();!(_step365=_iterator365.n()).done;){var _t275=_step365.value,_r56=o.createAttributeElement("a",_t275.attributes,{priority:5});for(var _e266 in _t275.classes&&o.addClass(_t275.classes,_r56),_t275.styles)o.setStyle(_e266,_t275.styles[_e266],_r56);o.setCustomProperty("link",!0,_r56),_t275.callback(e.attributeNewValue)?e.item.is("selection")?o.wrap(i.getFirstRange(),_r56):o.wrap(n.mapper.toViewRange(e.range),_r56):o.unwrap(n.mapper.toViewRange(e.range),_r56)}}catch(err){_iterator365.e(err)}finally{_iterator365.f()}}}),{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var _this246=this;return function(t){t.on("attribute:linkHref:imageBlock",(function(t,e,_ref64){var _step366,n=_ref64.writer,i=_ref64.mapper.toViewElement(e.item),r=Array.from(i.getChildren()).find((function(t){return"a"===t.name})),_iterator366=_createForOfIteratorHelper(_this246._definitions);try{for(_iterator366.s();!(_step366=_iterator366.n()).done;){var _t276=_step366.value,_o158=Ho(_t276.attributes);if(_t276.callback(e.attributeNewValue)){var _step367,_iterator367=_createForOfIteratorHelper(_o158);try{for(_iterator367.s();!(_step367=_iterator367.n()).done;){var _step367$value=_slicedToArray(_step367.value,2),_t277=_step367$value[0],_e268=_step367$value[1];"class"===_t277?n.addClass(_e268,r):n.setAttribute(_t277,_e268,r)}}catch(err){_iterator367.e(err)}finally{_iterator367.f()}for(var _e267 in _t276.classes&&n.addClass(_t276.classes,r),_t276.styles)n.setStyle(_e267,_t276.styles[_e267],r)}else{var _step368,_iterator368=_createForOfIteratorHelper(_o158);try{for(_iterator368.s();!(_step368=_iterator368.n()).done;){var _step368$value=_slicedToArray(_step368.value,2),_t278=_step368$value[0],_e270=_step368$value[1];"class"===_t278?n.removeClass(_e270,r):n.removeAttribute(_t278,r)}}catch(err){_iterator368.e(err)}finally{_iterator368.f()}for(var _e269 in _t276.classes&&n.removeClass(_t276.classes,r),_t276.styles)n.removeStyle(_e269,r)}}}catch(err){_iterator366.e(err)}finally{_iterator366.f()}}))}}}]),Nk}(),zk=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Pk=function(t){return zk.test(t)},Rk="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jk="\\ud83c[\\udffb-\\udfff]",Fk="[^\\ud800-\\udfff]",Vk="(?:\\ud83c[\\udde6-\\uddff]){2}",Hk="[\\ud800-\\udbff][\\udc00-\\udfff]",Uk="(?:"+Rk+"|"+jk+")?",qk="[\\ufe0e\\ufe0f]?",Wk=qk+Uk+"(?:\\u200d(?:"+[Fk,Vk,Hk].join("|")+")"+qk+Uk+")*",Gk="(?:"+[Fk+Rk+"?",Rk,Vk,Hk,"[\\ud800-\\udfff]"].join("|")+")",Yk=RegExp(jk+"(?="+jk+")|"+Gk+Wk,"g"),Kk=function(t){return Pk(t)?function(t){return t.match(Yk)||[]}(t):function(t){return t.split("")}(t)},$k=function(e){e=si(e);var n=Pk(e)?Kk(e):void 0,o=n?n[0]:e.charAt(0),i=n?function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:hi(t,e,n)}(n,1).join(""):e.slice(1);return o.toUpperCase()+i},Zk=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Jk=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Xk=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,tb=/^((\w+:(\/{2,})?)|(\W))/i,eb="Ctrl+K";function nb(t,_ref65){var e=_ref65.writer,n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function ob(t){return function(t){return t.replace(Zk,"").match(Jk)}(t=String(t))?t:"#"}function ib(t,e){return!!t&&e.checkAttribute(t.name,"linkHref")}function rb(t,e){var o,n=(o=t,Xk.test(o)?"mailto:":e),i=!!n&&!tb.test(t);return t&&i?n+t:t}function sb(t){window.open(t,"_blank","noopener")}var ab=function(_me20){_inherits(ab,_me20);var _super159=_createSuper(ab);function ab(t){var _this247;return _classCallCheck(this,ab),(_this247=_super159.call(this,t)).manualDecorators=new Io,_this247.automaticDecorators=new Nk,_this247}return _createClass(ab,[{key:"restoreManualDecoratorStates",value:function(){var _step369,_iterator369=_createForOfIteratorHelper(this.manualDecorators);try{for(_iterator369.s();!(_step369=_iterator369.n()).done;){var _t279=_step369.value;_t279.value=this._getDecoratorStateFromModel(_t279.id)}}catch(err){_iterator369.e(err)}finally{_iterator369.f()}}},{key:"refresh",value:function(){var t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||wa(e.getSelectedBlocks());ib(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));var _step370,_iterator370=_createForOfIteratorHelper(this.manualDecorators);try{for(_iterator370.s();!(_step370=_iterator370.n()).done;){var _t280=_step370.value;_t280.value=this._getDecoratorStateFromModel(_t280.id)}}catch(err){_iterator370.e(err)}finally{_iterator370.f()}}},{key:"execute",value:function(t){var _this248=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,o=n.document.selection,i=[],r=[];for(var _t281 in e)e[_t281]?i.push(_t281):r.push(_t281);n.change((function(e){if(o.isCollapsed){var _s34=o.getFirstPosition();if(o.hasAttribute("linkHref")){var _a19=Gm(_s34,"linkHref",o.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,_a19),i.forEach((function(t){e.setAttribute(t,!0,_a19)})),r.forEach((function(t){e.removeAttribute(t,_a19)})),e.setSelection(e.createPositionAfter(_a19.end.nodeBefore))}else if(""!==t){var _r57=Ho(o.getAttributes());_r57.set("linkHref",t),i.forEach((function(t){_r57.set(t,!0)}));var _a20=n.insertContent(e.createText(t,_r57),_s34).end;e.setSelection(_a20)}["linkHref"].concat(i,r).forEach((function(t){e.removeSelectionAttribute(t)}))}else{var _step371,_s35=n.schema.getValidRanges(o.getRanges(),"linkHref"),_a21=[],_iterator371=_createForOfIteratorHelper(o.getSelectedBlocks());try{for(_iterator371.s();!(_step371=_iterator371.n()).done;){var _t282=_step371.value;n.schema.checkAttribute(_t282,"linkHref")&&_a21.push(e.createRangeOn(_t282))}}catch(err){_iterator371.e(err)}finally{_iterator371.f()}var _step372,_c9=_a21.slice(),_iterator372=_createForOfIteratorHelper(_s35);try{for(_iterator372.s();!(_step372=_iterator372.n()).done;){var _t283=_step372.value;_this248._isRangeToUpdate(_t283,_a21)&&_c9.push(_t283)}}catch(err){_iterator372.e(err)}finally{_iterator372.f()}var _step373,_iterator373=_createForOfIteratorHelper(_c9);try{var _loop7=function(){var n=_step373.value;e.setAttribute("linkHref",t,n),i.forEach((function(t){e.setAttribute(t,!0,n)})),r.forEach((function(t){e.removeAttribute(t,n)}))};for(_iterator373.s();!(_step373=_iterator373.n()).done;)_loop7()}catch(err){_iterator373.e(err)}finally{_iterator373.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(t){var e=this.editor.model,n=e.document.selection,o=n.getSelectedElement();return ib(o,e.schema)?o.getAttribute(t):n.getAttribute(t)}},{key:"_isRangeToUpdate",value:function(t,e){var _step374,_iterator374=_createForOfIteratorHelper(e);try{for(_iterator374.s();!(_step374=_iterator374.n()).done;){if(_step374.value.containsRange(t))return!1}}catch(err){_iterator374.e(err)}finally{_iterator374.f()}return!0}}]),ab}(me),cb=function(_me21){_inherits(cb,_me21);var _super160=_createSuper(cb);function cb(){return _classCallCheck(this,cb),_super160.apply(this,arguments)}return _createClass(cb,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();ib(n,t.schema)?this.isEnabled=t.schema.checkAttribute(n,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}},{key:"execute",value:function(){var t=this.editor,e=this.editor.model,n=e.document.selection,o=t.commands.get("link");e.change((function(t){var _step375,_iterator375=_createForOfIteratorHelper(n.isCollapsed?[Gm(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref"));try{for(_iterator375.s();!(_step375=_iterator375.n()).done;){var _e271=_step375.value;if(t.removeAttribute("linkHref",_e271),o){var _step376,_iterator376=_createForOfIteratorHelper(o.manualDecorators);try{for(_iterator376.s();!(_step376=_iterator376.n()).done;){var _n244=_step376.value;t.removeAttribute(_n244.id,_e271)}}catch(err){_iterator376.e(err)}finally{_iterator376.f()}}}}catch(err){_iterator375.e(err)}finally{_iterator375.f()}}))}}]),cb}(me),lb=function(){function lb(_ref66){var t=_ref66.id,e=_ref66.label,n=_ref66.attributes,o=_ref66.classes,i=_ref66.styles,r=_ref66.defaultValue;_classCallCheck(this,lb),this.id=t,this.set("value"),this.defaultValue=r,this.label=e,this.attributes=n,this.classes=o,this.styles=i}return _createClass(lb,[{key:"_createPattern",value:function(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}]),lb}();he(lb,re);var db=n(9773);Zr()(db.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),db.Z.locals;var ub="automatic",gb=/^(https?:)?\/\//,mb=function(_ue53){_inherits(mb,_ue53);var _super161=_createSuper(mb);function mb(t){var _this249;return _classCallCheck(this,mb),_this249=_super161.call(this,t),t.config.define("link",{addTargetToExternalLinks:!1}),_this249}return _createClass(mb,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:nb}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(t,e){return nb(ob(t),e)}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(t){return t.getAttribute("href")}}}),t.commands.add("link",new ab(t)),t.commands.add("unlink",new cb(t));var e=function(t,e){var n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach((function(t){return t.label&&n[t.label]&&(t.label=n[t.label]),t})),e}(t.t,function(t){var e=[];if(t)for(var _i133=0,_Object$entries2=Object.entries(t);_i133<_Object$entries2.length;_i133++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i133],2),_n245=_Object$entries2$_i[0],_o159=_Object$entries2$_i[1],_t284=Object.assign({},_o159,{id:"link".concat($k(_n245))});e.push(_t284)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter((function(t){return t.mode===ub}))),this._enableManualDecorators(e.filter((function(t){return"manual"===t.mode}))),t.plugins.get(Sm).registerAttribute("linkHref"),function(t,e,n,o){var i=t.editing.view,r=new Set;i.document.registerPostFixer((function(i){var s=t.model.document.selection,a=!1;if(s.hasAttribute(e)){var _step377,_c10=Gm(s.getFirstPosition(),e,s.getAttribute(e),t.model),_iterator377=_createForOfIteratorHelper(t.editing.mapper.toViewRange(_c10).getItems());try{for(_iterator377.s();!(_step377=_iterator377.n()).done;){var _t285=_step377.value;_t285.is("element","a")&&!_t285.hasClass(o)&&(i.addClass(o,_t285),r.add(_t285),a=!0)}}catch(err){_iterator377.e(err)}finally{_iterator377.f()}}return a})),t.conversion.for("editingDowncast").add((function(t){function e(){i.change((function(t){var _step378,_iterator378=_createForOfIteratorHelper(r.values());try{for(_iterator378.s();!(_step378=_iterator378.n()).done;){var _e272=_step378.value;t.removeClass(o,_e272),r.delete(_e272)}}catch(err){_iterator378.e(err)}finally{_iterator378.f()}}))}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})}))}(t,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(t){var e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:ub,callback:function(t){return gb.test(t)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(t){if(t.length){var e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach((function(t){e.model.schema.extend("$text",{allowAttributes:t.id}),t=new lb(t),n.add(t),e.conversion.for("downcast").attributeToElement({model:t.id,view:function(e,_ref67){var n=_ref67.writer;if(e){var _e273=n.createAttributeElement("a",t.attributes,{priority:5});for(var _o160 in t.classes&&n.addClass(t.classes,_e273),t.styles)n.setStyle(_o160,t.styles[_o160],_e273);return n.setCustomProperty("link",!0,_e273),_e273}}}),e.conversion.for("upcast").elementToAttribute({view:_objectSpread({name:"a"},t._createPattern()),model:{key:t.id}})}))}}},{key:"_enableLinkOpen",value:function(){var t=this.editor,e=t.editing.view.document,n=t.model.document;this.listenTo(e,"click",(function(t,e){if(sr.isMac?e.domEvent.metaKey:e.domEvent.ctrlKey){var n=e.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),n){var o=n.getAttribute("href");o&&(t.stop(),e.preventDefault(),sb(o))}}}),{context:"$capture"}),this.listenTo(e,"enter",(function(t,e){var o=n.selection,i=o.getSelectedElement(),r=i?i.getAttribute("linkHref"):o.getAttribute("linkHref");r&&e.domEvent.altKey&&(t.stop(),sb(r))}),{context:"a"})}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var t=this.editor.model,e=t.document.selection;this.listenTo(t,"insertContent",(function(){var n=e.anchor.nodeBefore,o=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(o&&o.hasAttribute("linkHref")||t.change((function(e){pb(e,kb(t.schema))})))}),{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var t=this.editor,e=t.model;t.editing.view.addObserver(tg);var n=!1;this.listenTo(t.editing.view.document,"mousedown",(function(){n=!0})),this.listenTo(t.editing.view.document,"selectionChange",(function(){if(n){n=!1;var t=e.document.selection;if(t.isCollapsed&&t.hasAttribute("linkHref")){var o=t.getFirstPosition(),i=Gm(o,"linkHref",t.getAttribute("linkHref"),e);(o.isTouching(i.start)||o.isTouching(i.end))&&e.change((function(t){pb(t,kb(e.schema))}))}}}))}},{key:"_enableTypingOverLink",value:function(){var n,o,t=this.editor,e=t.editing.view;this.listenTo(e.document,"delete",(function(){o=!0}),{priority:"high"}),this.listenTo(t.model,"deleteContent",(function(){var e=t.model.document.selection;e.isCollapsed||(o?o=!1:fb(t)&&function(t){var e=t.document.selection,n=e.getFirstPosition(),o=e.getLastPosition(),i=n.nodeAfter;return!!i&&(!!i.is("$text")&&(!!i.hasAttribute("linkHref")&&(i===(o.textNode||o.nodeBefore)||Gm(n,"linkHref",i.getAttribute("linkHref"),t).containsRange(t.createRange(n,o),!0))))}(t.model)&&(n=e.getAttributes()))}),{priority:"high"}),this.listenTo(t.model,"insertContent",(function(e,_ref68){var i=_slicedToArray(_ref68,1)[0];o=!1,fb(t)&&n&&(t.model.change((function(t){var _step379,_iterator379=_createForOfIteratorHelper(n);try{for(_iterator379.s();!(_step379=_iterator379.n()).done;){var _step379$value=_slicedToArray(_step379.value,2),_e274=_step379$value[0],_o161=_step379$value[1];t.setAttribute(_e274,_o161,i)}}catch(err){_iterator379.e(err)}finally{_iterator379.f()}})),n=null)}),{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var t=this.editor,e=t.model,n=e.document.selection,o=t.editing.view,i=!1,r=!1;this.listenTo(o.document,"delete",(function(t,e){r=e.domEvent.keyCode===dr.backspace}),{priority:"high"}),this.listenTo(e,"deleteContent",(function(){i=!1;var t=n.getFirstPosition(),o=n.getAttribute("linkHref");if(o){var r=Gm(t,"linkHref",o,e);i=r.containsPosition(t)||r.end.isEqual(t)}}),{priority:"high"}),this.listenTo(e,"deleteContent",(function(){r&&(r=!1,i||t.model.enqueueChange((function(t){pb(t,kb(e.schema))})))}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[Sm,Dm,hg]}}]),mb}(ue);function pb(t,e){t.removeSelectionAttribute("linkHref");var _step380,_iterator380=_createForOfIteratorHelper(e);try{for(_iterator380.s();!(_step380=_iterator380.n()).done;){var _n246=_step380.value;t.removeSelectionAttribute(_n246)}}catch(err){_iterator380.e(err)}finally{_iterator380.f()}}function fb(t){return t.model.change((function(t){return t.batch})).isTyping}function kb(t){return t.getDefinition("$text").allowAttributes.filter((function(t){return t.startsWith("link")}))}var bb=n(7754);Zr()(bb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),bb.Z.locals;var Ab=function(_Dd27){_inherits(Ab,_Dd27);var _super162=_createSuper(Ab);function Ab(t,e){var _this250;_classCallCheck(this,Ab),_this250=_super162.call(this,t);var n=t.t;_this250.focusTracker=new Aa,_this250.keystrokes=new Ca,_this250.urlInputView=_this250._createUrlInput(),_this250.saveButtonView=_this250._createButton(n("Save"),Ad_check,"ck-button-save"),_this250.saveButtonView.type="submit",_this250.cancelButtonView=_this250._createButton(n("Cancel"),Ad_cancel,"ck-button-cancel","cancel"),_this250._manualDecoratorSwitches=_this250._createManualDecoratorSwitches(e),_this250.children=_this250._createFormChildren(e.manualDecorators),_this250._focusables=new yd,_this250._focusCycler=new vh({focusables:_this250._focusables,focusTracker:_this250.focusTracker,keystrokeHandler:_this250.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var o=["ck","ck-link-form","ck-responsive-form"];return e.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),_this250.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:_this250.children}),_d(_assertThisInitialized(_this250)),_this250}return _createClass(Ab,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(t,e){return t[e.name]=e.isOn,t}),{})}},{key:"render",value:function(){var _this251=this;_get(_getPrototypeOf(Ab.prototype),"render",this).call(this),vd({view:this}),[this.urlInputView].concat(_toConsumableArray(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach((function(t){_this251._focusables.add(t),_this251.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(Ab.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var t=this.locale.t,e=new lu(this.locale,du);return e.label=t("Link URL"),e}},{key:"_createButton",value:function(t,e,n,o){var i=new ih(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}},{key:"_createManualDecoratorSwitches",value:function(t){var _step381,_this252=this,e=this.createCollection(),_iterator381=_createForOfIteratorHelper(t.manualDecorators);try{var _loop8=function(){var n=_step381.value,o=new ah(_this252.locale);o.set({name:n.id,label:n.label,withText:!0}),o.bind("isOn").toMany([n,t],"value",(function(t,e){return void 0===e&&void 0===t?n.defaultValue:t})),o.on("execute",(function(){n.set("value",!o.isOn)})),e.add(o)};for(_iterator381.s();!(_step381=_iterator381.n()).done;)_loop8()}catch(err){_iterator381.e(err)}finally{_iterator381.f()}return e}},{key:"_createFormChildren",value:function(t){var e=this.createCollection();if(e.add(this.urlInputView),t.length){var _t286=new Dd;_t286.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(t){return{tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(_t286)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}]),Ab}(Dd),Cb=n(2347);Zr()(Cb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Cb.Z.locals;var vb=function(_Dd28){_inherits(vb,_Dd28);var _super163=_createSuper(vb);function vb(t){var _this253;_classCallCheck(this,vb),_this253=_super163.call(this,t);var e=t.t;return _this253.focusTracker=new Aa,_this253.keystrokes=new Ca,_this253.previewButtonView=_this253._createPreviewButton(),_this253.unlinkButtonView=_this253._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),_this253.editButtonView=_this253._createButton(e("Edit link"),Ad_pencil,"edit"),_this253.set("href"),_this253._focusables=new yd,_this253._focusCycler=new vh({focusables:_this253._focusables,focusTracker:_this253.focusTracker,keystrokeHandler:_this253.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this253.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[_this253.previewButtonView,_this253.editButtonView,_this253.unlinkButtonView]}),_this253}return _createClass(vb,[{key:"render",value:function(){var _this254=this;_get(_getPrototypeOf(vb.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((function(t){_this254._focusables.add(t),_this254.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(vb.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(t,e,n){var o=new ih(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.delegate("execute").to(this,n),o}},{key:"_createPreviewButton",value:function(){var t=new ih(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(function(t){return t&&ob(t)})),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(function(t){return t||n("This link has no URL")})),t.bind("isEnabled").to(this,"href",(function(t){return!!t})),t.template.tag="a",t.template.eventListeners={},t}}]),vb}(Dd),yb="link-ui",xb=function(_ue54){_inherits(xb,_ue54);var _super164=_createSuper(xb);function xb(){return _classCallCheck(this,xb),_super164.apply(this,arguments)}return _createClass(xb,[{key:"init",value:function(){var t=this.editor;t.editing.view.addObserver(Xu),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(xu),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),t.conversion.for("editingDowncast").markerToHighlight({model:yb,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:yb,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){_get(_getPrototypeOf(xb.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var _this255=this,t=this.editor,e=new vb(t.locale),n=t.commands.get("link"),o=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(e,"edit",(function(){_this255._addFormView()})),this.listenTo(e,"unlink",(function(){t.execute("unlink"),_this255._hideUI()})),e.keystrokes.set("Esc",(function(t,e){_this255._hideUI(),e()})),e.keystrokes.set(eb,(function(t,e){_this255._addFormView(),e()})),e}},{key:"_createFormView",value:function(){var _this256=this,t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),o=new Ab(t.locale,e);return o.urlInputView.fieldView.bind("value").to(e,"value"),o.urlInputView.bind("isReadOnly").to(e,"isEnabled",(function(t){return!t})),o.saveButtonView.bind("isEnabled").to(e),this.listenTo(o,"submit",(function(){var i=rb(o.urlInputView.fieldView.element.value,n);t.execute("link",i,o.getDecoratorSwitchesState()),_this256._closeFormView()})),this.listenTo(o,"cancel",(function(){_this256._closeFormView()})),o.keystrokes.set("Esc",(function(t,e){_this256._closeFormView(),e()})),o}},{key:"_createToolbarLinkButton",value:function(){var _this257=this,t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(eb,(function(t,n){n(),e.isEnabled&&_this257._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var o=new ih(t);return o.isEnabled=!0,o.label=n("Link"),o.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',o.keystroke=eb,o.tooltip=!0,o.isToggleable=!0,o.bind("isEnabled").to(e,"isEnabled"),o.bind("isOn").to(e,"value",(function(t){return!!t})),_this257.listenTo(o,"execute",(function(){return _this257._showUI(!0)})),o}))}},{key:"_enableUserBalloonInteractions",value:function(){var _this258=this,t=this.editor.editing.view.document;this.listenTo(t,"click",(function(){_this258._getSelectedLinkElement()&&_this258._showUI()})),this.editor.keystrokes.set("Tab",(function(t,e){_this258._areActionsVisible&&!_this258.actionsView.focusTracker.isFocused&&(_this258.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,e){_this258._isUIVisible&&(_this258._hideUI(),e())})),Cd({emitter:this.formView,activator:function(){return _this258._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return _this258._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}}},{key:"_closeFormView",value:function(){var t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var _this259=this,t=this.editor,e=t.editing.view.document,n=this._getSelectedLinkElement(),o=r(),i=function(){var t=_this259._getSelectedLinkElement(),e=r();n&&!t||!n&&e!==o?_this259._hideUI():_this259._isUIVisible&&_this259._balloon.updatePosition(_this259._getBalloonPositionData()),n=t,o=e};function r(){return e.selection.focus.getAncestors().reverse().find((function(t){return t.is("element")}))}this.listenTo(t.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}},{key:"_getBalloonPositionData",value:function(){var _this260=this,t=this.editor.editing.view,e=this.editor.model,n=t.document,o=null;if(e.markers.has(yb)){var _e275=Array.from(this.editor.editing.mapper.markerNameToElements(yb)),_n247=t.createRange(t.createPositionBefore(_e275[0]),t.createPositionAfter(_e275[_e275.length-1]));o=t.domConverter.viewRangeToDom(_n247)}else o=function(){var e=_this260._getSelectedLinkElement();return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:o}}},{key:"_getSelectedLinkElement",value:function(){var t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&Tg(n))return Eb(e.getFirstPosition());var _n248=e.getFirstRange().getTrimmed(),_o162=Eb(_n248.start),_i134=Eb(_n248.end);return _o162&&_o162==_i134&&t.createRangeIn(_o162).getTrimmed().isEqual(_n248)?_o162:null}},{key:"_showFakeVisualSelection",value:function(){var t=this.editor.model;t.change((function(e){var n=t.document.selection.getFirstRange();if(t.markers.has(yb))e.updateMarker(yb,{range:n});else if(n.start.isAtEnd){var _o163=n.start.getLastMatchingPosition((function(_ref70){var e=_ref70.item;return!t.schema.isContent(e)}),{boundaries:n});e.addMarker(yb,{usingOperation:!1,affectsData:!1,range:e.createRange(_o163,n.end)})}else e.addMarker(yb,{usingOperation:!1,affectsData:!1,range:n})}))}},{key:"_hideFakeVisualSelection",value:function(){var t=this.editor.model;t.markers.has(yb)&&t.change((function(t){t.removeMarker(yb)}))}}],[{key:"requires",get:function(){return[xu]}},{key:"pluginName",get:function(){return"LinkUI"}}]),xb}(ue);function Eb(t){return t.getAncestors().find((function(t){return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e}))}var Db=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),Ib=function(_ue55){_inherits(Ib,_ue55);var _super165=_createSuper(Ib);function Ib(){return _classCallCheck(this,Ib),_super165.apply(this,arguments)}return _createClass(Ib,[{key:"init",value:function(){var _this261=this,t=this.editor.model.document.selection;t.on("change:range",(function(){_this261.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var _this262=this,t=this.editor,e=new Tm(t.model,(function(t){if(function(t){return t.length>4&&" "===t[t.length-1]&&" "!==t[t.length-2]}(t)){var e=Mb(t.substr(0,t.length-1));return e?{url:e}:void 0}}));e.on("matched:data",(function(e,n){var o=n.batch,i=n.range,r=n.url;if(o.isTyping){var s=i.end.getShiftedBy(-1),a=s.getShiftedBy(-r.length),c=t.model.createRange(a,s);_this262._applyAutoLink(r,c)}})),e.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var _this263=this,t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",(function(){var t=e.document.selection.getFirstPosition();if(t.parent.previousSibling){var n=e.createRangeIn(t.parent.previousSibling);_this263._checkAndApplyAutoLinkOnRange(n)}}))}},{key:"_enableShiftEnterHandling",value:function(){var _this264=this,t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",(function(){var t=e.document.selection.getFirstPosition(),n=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1));_this264._checkAndApplyAutoLinkOnRange(n)}))}},{key:"_checkAndApplyAutoLinkOnRange",value:function(t){var e=this.editor.model,_Mm2=Mm(t,e),n=_Mm2.text,o=_Mm2.range,i=Mb(n);if(i){var _t287=e.createRange(o.end.getShiftedBy(-i.length),o.end);this._applyAutoLink(i,_t287)}}},{key:"_applyAutoLink",value:function(t,e){var _this265=this,n=this.editor.model,o=this.editor.plugins.get("Delete");this.isEnabled&&function(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}(e,n)&&n.enqueueChange((function(i){var r=_this265.editor.config.get("link.defaultProtocol"),s=rb(t,r);i.setAttribute("linkHref",s,e),n.enqueueChange((function(){o.requestUndoOnBackspace()}))}))}}],[{key:"requires",get:function(){return[vg]}},{key:"pluginName",get:function(){return"AutoLink"}}]),Ib}(ue);function Mb(t){var e=Db.exec(t);return e?e[2]:null}var Tb=function(_me22){_inherits(Tb,_me22);var _super166=_createSuper(Tb);function Tb(t,e){var _this266;return _classCallCheck(this,Tb),(_this266=_super166.call(this,t)).type=e,_this266}return _createClass(Tb,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var _this267=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document,o=Array.from(n.selection.getSelectedBlocks()).filter((function(t){return Nb(t,e.schema)})),i=void 0!==t.forceValue?!t.forceValue:this.value;e.change((function(t){if(i){for(var _e276=o[o.length-1].nextSibling,_n249=Number.POSITIVE_INFINITY,_i135=[];_e276&&"listItem"==_e276.name&&0!==_e276.getAttribute("listIndent");){var _t288=_e276.getAttribute("listIndent");_t288<_n249&&(_n249=_t288);var _o164=_t288-_n249;_i135.push({element:_e276,listIndent:_o164}),_e276=_e276.nextSibling}var _step382,_iterator382=_createForOfIteratorHelper(_i135=_i135.reverse());try{for(_iterator382.s();!(_step382=_iterator382.n()).done;){var _e277=_step382.value;t.setAttribute("listIndent",_e277.listIndent,_e277.element)}}catch(err){_iterator382.e(err)}finally{_iterator382.f()}}if(!i){var _step383,_t289=Number.POSITIVE_INFINITY,_iterator383=_createForOfIteratorHelper(o);try{for(_iterator383.s();!(_step383=_iterator383.n()).done;){var _e278=_step383.value;_e278.is("element","listItem")&&_e278.getAttribute("listIndent")<_t289&&(_t289=_e278.getAttribute("listIndent"))}}catch(err){_iterator383.e(err)}finally{_iterator383.f()}Sb(o,!0,_t289=0===_t289?1:_t289),Sb(o,!1,_t289)}var _step384,_iterator384=_createForOfIteratorHelper(o.reverse());try{for(_iterator384.s();!(_step384=_iterator384.n()).done;){var _e279=_step384.value;i&&"listItem"==_e279.name?t.rename(_e279,"paragraph"):i||"listItem"==_e279.name?i||"listItem"!=_e279.name||_e279.getAttribute("listType")==_this267.type||t.setAttribute("listType",_this267.type,_e279):(t.setAttributes({listType:_this267.type,listIndent:0},_e279),t.rename(_e279,"listItem"))}}catch(err){_iterator384.e(err)}finally{_iterator384.f()}_this267.fire("_executeCleanup",o)}))}},{key:"_getValue",value:function(){var t=wa(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=wa(t.getSelectedBlocks());return!!n&&Nb(n,e)}}]),Tb}(me);function Sb(t,e,n){var o=e?t[0]:t[t.length-1];if(o.is("element","listItem"))for(var _i136=o[e?"previousSibling":"nextSibling"],_r58=o.getAttribute("listIndent");_i136&&_i136.is("element","listItem")&&_i136.getAttribute("listIndent")>=n;)_r58>_i136.getAttribute("listIndent")&&(_r58=_i136.getAttribute("listIndent")),_i136.getAttribute("listIndent")==_r58&&t[e?"unshift":"push"](_i136),_i136=_i136[e?"previousSibling":"nextSibling"]}function Nb(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}var Bb=function(_me23){_inherits(Bb,_me23);var _super167=_createSuper(Bb);function Bb(t,e){var _this268;return _classCallCheck(this,Bb),(_this268=_super167.call(this,t))._indentBy="forward"==e?1:-1,_this268}return _createClass(Bb,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var _this269=this,t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks());t.change((function(t){for(var e=n[n.length-1],o=e.nextSibling;o&&"listItem"==o.name&&o.getAttribute("listIndent")>e.getAttribute("listIndent");)n.push(o),o=o.nextSibling;_this269._indentBy<0&&(n=n.reverse());var _step385,_iterator385=_createForOfIteratorHelper(n);try{for(_iterator385.s();!(_step385=_iterator385.n()).done;){var _e280=_step385.value,_n250=_e280.getAttribute("listIndent")+_this269._indentBy;_n250<0?t.rename(_e280,"paragraph"):t.setAttribute("listIndent",_n250,_e280)}}catch(err){_iterator385.e(err)}finally{_iterator385.f()}_this269.fire("_executeCleanup",n)}))}},{key:"_checkEnabled",value:function(){var t=wa(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){for(var _e281=t.getAttribute("listIndent"),_n251=t.getAttribute("listType"),_o165=t.previousSibling;_o165&&_o165.is("element","listItem")&&_o165.getAttribute("listIndent")>=_e281;){if(_o165.getAttribute("listIndent")==_e281)return _o165.getAttribute("listType")==_n251;_o165=_o165.previousSibling}return!1}return!0}}]),Bb}(me);function Pb(t,e,n,o){var i=e.parent,r=n.mapper,s=n.writer,a=r.toViewPosition(o.createPositionBefore(t)),c=Rb(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){var _t290=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(_t290))}else if(l&&"listItem"==l.name){a=r.toViewPosition(o.createPositionAt(l,"end"));var _t291=r.findMappedViewAncestor(a),_e282=function(t){var _step386,_iterator386=_createForOfIteratorHelper(t.getChildren());try{for(_iterator386.s();!(_step386=_iterator386.n()).done;){var _e283=_step386.value;if("ul"==_e283.name||"ol"==_e283.name)return _e283}}catch(err){_iterator386.e(err)}finally{_iterator386.f()}return null}(_t291);a=_e282?s.createPositionBefore(_e282):s.createPositionAt(_t291,"end")}else a=r.toViewPosition(o.createPositionBefore(t));if(a=Ob(a),s.insert(a,i),l&&"listItem"==l.name){var _step387,_t292=r.toViewElement(l),_n252=s.createRange(s.createPositionAt(_t292,0),a).getWalker({ignoreElementEnd:!0}),_iterator387=_createForOfIteratorHelper(_n252);try{for(_iterator387.s();!(_step387=_iterator387.n()).done;){var _t293=_step387.value;if(_t293.item.is("element","li")){var _o166=s.breakContainer(s.createPositionBefore(_t293.item)),_i137=_t293.item.parent,_r59=s.createPositionAt(e,"end");Lb(s,_r59.nodeBefore,_r59.nodeAfter),s.move(s.createRangeOn(_i137),_r59),_n252.position=_o166}}}catch(err){_iterator387.e(err)}finally{_iterator387.f()}}else{var _n253=i.nextSibling;if(_n253&&(_n253.is("element","ul")||_n253.is("element","ol"))){var _step388,_o167=null,_iterator388=_createForOfIteratorHelper(_n253.getChildren());try{for(_iterator388.s();!(_step388=_iterator388.n()).done;){var _e284=_step388.value,_n254=r.toModelElement(_e284);if(!(_n254&&_n254.getAttribute("listIndent")>t.getAttribute("listIndent")))break;_o167=_e284}}catch(err){_iterator388.e(err)}finally{_iterator388.f()}_o167&&(s.breakContainer(s.createPositionAfter(_o167)),s.move(s.createRangeOn(_o167.parent),s.createPositionAt(e,"end")))}}Lb(s,i,i.nextSibling),Lb(s,i.previousSibling,i)}function Lb(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function Ob(t){return t.getLastMatchingPosition((function(t){return t.item.is("uiElement")}))}function Rb(t,e){for(var n=!!e.sameIndent,o=!!e.smallerIndent,i=e.listIndent,r=t;r&&"listItem"==r.name;){var _t294=r.getAttribute("listIndent");if(n&&i==_t294||o&&i>_t294)return r;r="forward"===e.direction?r.nextSibling:r.previousSibling}return null}function jb(t,e,n,o){t.ui.componentFactory.add(e,(function(i){var r=t.commands.get(e),s=new ih(i);return s.set({label:n,icon:o,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.on("execute",(function(){t.execute(e),t.editing.view.focus()})),s}))}function Fb(){var t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:Bi.call(this)}function Vb(t){return function(e,n,o){var i=o.consumable;if(i.test(n.item,"insert")&&i.test(n.item,"attribute:listType")&&i.test(n.item,"attribute:listIndent")){i.consume(n.item,"insert"),i.consume(n.item,"attribute:listType"),i.consume(n.item,"attribute:listIndent");var r=n.item;Pb(r,function(t,e){var n=e.mapper,o=e.writer,i="numbered"==t.getAttribute("listType")?"ol":"ul",r=function(t){var e=t.createContainerElement("li");return e.getFillerOffset=Fb,e}(o),s=o.createContainerElement(i,null);return o.insert(o.createPositionAt(s,0),r),n.bindElements(t,r),r}(r,o),o,t)}}}function Hb(t,e,n){if(n.consumable.consume(e.item,"attribute:listType")){var o=n.mapper.toViewElement(e.item),i=n.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));var r=o.parent,s="numbered"==e.attributeNewValue?"ol":"ul";i.rename(s,r)}}function Ub(t,e,n){var o=n.mapper.toViewElement(e.item).parent,i=n.writer;Lb(i,o,o.nextSibling),Lb(i,o.previousSibling,o);var _step389,_iterator389=_createForOfIteratorHelper(e.item.getChildren());try{for(_iterator389.s();!(_step389=_iterator389.n()).done;){var _t295=_step389.value;n.consumable.consume(_t295,"insert")}}catch(err){_iterator389.e(err)}finally{_iterator389.f()}}function qb(t,e,n){if("listItem"!=e.item.name){for(var _t296=n.mapper.toViewPosition(e.range.start),_o168=n.writer,_i138=[];("ul"==_t296.parent.name||"ol"==_t296.parent.name)&&"li"==(_t296=_o168.breakContainer(_t296)).parent.name;){var _e285=_t296,_n255=_o168.createPositionAt(_t296.parent,"end");if(!_e285.isEqual(_n255)){var _t297=_o168.remove(_o168.createRange(_e285,_n255));_i138.push(_t297)}_t296=_o168.createPositionAfter(_t296.parent)}if(_i138.length>0){for(var _e286=0;_e286<_i138.length;_e286++){var _n256=_t296.nodeBefore;if(_t296=_o168.insert(_t296,_i138[_e286]).end,_e286>0){var _e287=Lb(_o168,_n256,_n256.nextSibling);_e287&&_e287.parent==_n256&&_t296.offset--}}Lb(_o168,_t296.nodeBefore,_t296.nodeAfter)}}}function Wb(t,e,n){var o=n.mapper.toViewPosition(e.position),i=o.nodeBefore,r=o.nodeAfter;Lb(n.writer,i,r)}function Gb(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){var _t298=n.writer,_o169=_t298.createElement("listItem"),_i139=function(t){for(var e=0,n=t.parent;n;){if(n.is("element","li"))e++;else{var _t299=n.previousSibling;_t299&&_t299.is("element","li")&&e++}n=n.parent}return e}(e.viewItem);_t298.setAttribute("listIndent",_i139,_o169);var _r60=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";if(_t298.setAttribute("listType",_r60,_o169),!n.safeInsert(_o169,e.modelCursor))return;var _s36=function(t,e,n){var _step390,o=n.writer,i=n.schema,r=o.createPositionAfter(t),_iterator390=_createForOfIteratorHelper(e);try{for(_iterator390.s();!(_step390=_iterator390.n()).done;){var _s37=_step390.value;if("ul"==_s37.name||"ol"==_s37.name)r=n.convertItem(_s37,r).modelCursor;else{var _e288=n.convertItem(_s37,o.createPositionAt(t,"end")),_a22=_e288.modelRange.start.nodeAfter;_a22&&_a22.is("element")&&!i.checkChild(t,_a22.name)&&(t=_e288.modelCursor.parent.is("element","listItem")?_e288.modelCursor.parent:Zb(_e288.modelCursor),r=o.createPositionAfter(t))}}}catch(err){_iterator390.e(err)}finally{_iterator390.f()}return r}(_o169,e.viewItem.getChildren(),n);e.modelRange=_t298.createRange(e.modelCursor,_s36),n.updateConversionResult(_o169,e)}}function Yb(t,e,n){if(n.consumable.test(e.viewItem,{name:!0}))for(var _i140=0,_t301=Array.from(e.viewItem.getChildren());_i140<_t301.length;_i140++){var _e289=_t301[_i140];!_e289.is("element","li")&&!Xb(_e289)&&_e289._remove()}}function Qb(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;var _step391,_n257=!1,_iterator391=_createForOfIteratorHelper(_toConsumableArray(e.viewItem.getChildren()));try{for(_iterator391.s();!(_step391=_iterator391.n()).done;){var _e290=_step391.value;_n257&&!Xb(_e290)&&_e290._remove(),Xb(_e290)&&(_n257=!0)}}catch(err){_iterator391.e(err)}finally{_iterator391.f()}}}function Kb(t){return function(e,n){if(!n.isPhantom){var o=n.modelPosition.nodeBefore;if(o&&o.is("element","listItem")){var _step392,_e291=n.mapper.toViewElement(o),_i141=_e291.getAncestors().find(Xb),_iterator392=_createForOfIteratorHelper(t.createPositionAt(_e291,0).getWalker());try{for(_iterator392.s();!(_step392=_iterator392.n()).done;){var _t303=_step392.value;if("elementStart"==_t303.type&&_t303.item.is("element","li")){n.viewPosition=_t303.previousPosition;break}if("elementEnd"==_t303.type&&_t303.item==_i141){n.viewPosition=_t303.nextPosition;break}}}catch(err){_iterator392.e(err)}finally{_iterator392.f()}}}}}function $b(t,_ref71){var o,_ref72=_slicedToArray(_ref71,2),e=_ref72[0],n=_ref72[1],i=e.is("documentFragment")?e.getChild(0):e;if(o=n?this.createSelection(n):this.document.selection,i&&i.is("element","listItem")){var _t304=o.getFirstPosition(),_e292=null;if(_t304.parent.is("element","listItem")?_e292=_t304.parent:_t304.nodeBefore&&_t304.nodeBefore.is("element","listItem")&&(_e292=_t304.nodeBefore),_e292){var _t305=_e292.getAttribute("listIndent");if(_t305>0)for(;i&&i.is("element","listItem");)i._setAttribute("listIndent",i.getAttribute("listIndent")+_t305),i=i.nextSibling}}}function Zb(t){var n,e=new ja({startPosition:t});do{n=e.next()}while(!n.value.item.is("element","listItem"));return n.value.item}function Jb(t,e,n,o,i,r){var d,s=Rb(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=i.mapper,c=i.writer,l=s?s.getAttribute("listIndent"):null;if(s)if(l==t){var _t306=a.toViewElement(s).parent;d=c.createPositionAfter(_t306)}else{var _t307=r.createPositionAt(s,"end");d=a.toViewPosition(_t307)}else d=n;d=Ob(d);for(var _i142=0,_arr2=_toConsumableArray(o.getChildren());_i142<_arr2.length;_i142++){var _t308=_arr2[_i142];Xb(_t308)&&(d=c.move(c.createRangeOn(_t308),d).end,Lb(c,_t308,_t308.nextSibling),Lb(c,_t308.previousSibling,_t308))}}function Xb(t){return t.is("element","ol")||t.is("element","ul")}var tw=function(_ue56){_inherits(tw,_ue56);var _super168=_createSuper(tw);function tw(){return _classCallCheck(this,tw),_super168.apply(this,arguments)}return _createClass(tw,[{key:"init",value:function(){var _this270=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var o,e=t.data,n=t.editing;t.model.document.registerPostFixer((function(e){return function(t,e){var _step393,n=t.document.differ.getChanges(),o=new Map,i=!1,_iterator393=_createForOfIteratorHelper(n);try{for(_iterator393.s();!(_step393=_iterator393.n()).done;){var _o171=_step393.value;if("insert"==_o171.type&&"listItem"==_o171.name)r(_o171.position);else if("insert"==_o171.type&&"listItem"!=_o171.name){if("$text"!=_o171.name){var _n258=_o171.position.nodeAfter;_n258.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",_n258),i=!0),_n258.hasAttribute("listType")&&(e.removeAttribute("listType",_n258),i=!0),_n258.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",_n258),i=!0),_n258.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",_n258),i=!0),_n258.hasAttribute("listStart")&&(e.removeAttribute("listStart",_n258),i=!0);var _step395,_iterator395=_createForOfIteratorHelper(Array.from(t.createRangeIn(_n258)).filter((function(t){return t.item.is("element","listItem")})));try{for(_iterator395.s();!(_step395=_iterator395.n()).done;){r(_step395.value.previousPosition)}}catch(err){_iterator395.e(err)}finally{_iterator395.f()}}r(_o171.position.getShiftedBy(_o171.length))}else"remove"==_o171.type&&"listItem"==_o171.name?r(_o171.position):("attribute"==_o171.type&&"listIndent"==_o171.attributeKey||"attribute"==_o171.type&&"listType"==_o171.attributeKey)&&r(_o171.range.start)}}catch(err){_iterator393.e(err)}finally{_iterator393.f()}var _step394,_iterator394=_createForOfIteratorHelper(o.values());try{for(_iterator394.s();!(_step394=_iterator394.n()).done;){var _t310=_step394.value;s(_t310),a(_t310)}}catch(err){_iterator394.e(err)}finally{_iterator394.f()}return i;function r(t){var e=t.nodeBefore;if(e&&e.is("element","listItem")){var _t309=e;if(o.has(_t309))return;for(var _e293=_t309.previousSibling;_e293&&_e293.is("element","listItem");_e293=_t309.previousSibling)if(_t309=_e293,o.has(_t309))return;o.set(e,_t309)}else{var _e294=t.nodeAfter;_e294&&_e294.is("element","listItem")&&o.set(_e294,_e294)}}function s(t){for(var n=0,o=null;t&&t.is("element","listItem");){var _r62=t.getAttribute("listIndent");if(_r62>n){var _s38=void 0;null===o?(o=_r62-n,_s38=n):(o>_r62&&(o=_r62),_s38=_r62-o),e.setAttribute("listIndent",_s38,t),i=!0}else o=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){for(var n=[],o=null;t&&t.is("element","listItem");){var _r63=t.getAttribute("listIndent");if(o&&o.getAttribute("listIndent")>_r63&&(n=n.slice(0,_r63+1)),0!=_r63)if(n[_r63]){var _o170=n[_r63];t.getAttribute("listType")!=_o170&&(e.setAttribute("listType",_o170,t),i=!0)}else n[_r63]=t.getAttribute("listType");o=t,t=t.nextSibling}}}(t.model,e)})),n.mapper.registerViewToModelLength("li",ew),e.mapper.registerViewToModelLength("li",ew),n.mapper.on("modelToViewPosition",Kb(n.view)),n.mapper.on("viewToModelPosition",(o=t.model,function(t,e){var n=e.viewPosition,i=n.parent,r=e.mapper;if("ul"==i.name||"ol"==i.name){if(n.isAtEnd){var _t311=r.toModelElement(n.nodeBefore),_i143=r.getModelLength(n.nodeBefore);e.modelPosition=o.createPositionBefore(_t311).getShiftedBy(_i143)}else{var _t312=r.toModelElement(n.nodeAfter);e.modelPosition=o.createPositionBefore(_t312)}t.stop()}else if("li"==i.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){for(var _s39=r.toModelElement(i),_a23=1,_c11=n.nodeBefore;_c11&&Xb(_c11);)_a23+=r.getModelLength(_c11),_c11=_c11.previousSibling;e.modelPosition=o.createPositionBefore(_s39).getShiftedBy(_a23),t.stop()}})),e.mapper.on("modelToViewPosition",Kb(n.view)),t.conversion.for("editingDowncast").add((function(e){e.on("insert",qb,{priority:"high"}),e.on("insert:listItem",Vb(t.model)),e.on("attribute:listType:listItem",Hb,{priority:"high"}),e.on("attribute:listType:listItem",Ub,{priority:"low"}),e.on("attribute:listIndent:listItem",function(t){return function(e,n,o){if(o.consumable.consume(n.item,"attribute:listIndent")){var i=o.mapper.toViewElement(n.item),r=o.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));var s=i.parent,a=s.previousSibling,c=r.createRangeOn(s);r.remove(c),a&&a.nextSibling&&Lb(r,a,a.nextSibling),Jb(n.attributeOldValue+1,n.range.start,c.start,i,o,t),Pb(n.item,i,o,t);var _step396,_iterator396=_createForOfIteratorHelper(n.item.getChildren());try{for(_iterator396.s();!(_step396=_iterator396.n()).done;){var _t313=_step396.value;o.consumable.consume(_t313,"insert")}}catch(err){_iterator396.e(err)}finally{_iterator396.f()}}}}(t.model)),e.on("remove:listItem",function(t){return function(e,n,o){var i=o.mapper.toViewPosition(n.position).getLastMatchingPosition((function(t){return!t.item.is("element","li")})).nodeAfter,r=o.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));var s=i.parent,a=s.previousSibling,c=r.createRangeOn(s),l=r.remove(c);a&&a.nextSibling&&Lb(r,a,a.nextSibling),Jb(o.mapper.toModelElement(i).getAttribute("listIndent")+1,n.position,c.start,i,o,t);var _step397,_iterator397=_createForOfIteratorHelper(r.createRangeIn(l).getItems());try{for(_iterator397.s();!(_step397=_iterator397.n()).done;){var _t314=_step397.value;o.mapper.unbindViewElement(_t314)}}catch(err){_iterator397.e(err)}finally{_iterator397.f()}e.stop()}}(t.model)),e.on("remove",Wb,{priority:"low"})})),t.conversion.for("dataDowncast").add((function(e){e.on("insert",qb,{priority:"high"}),e.on("insert:listItem",Vb(t.model))})),t.conversion.for("upcast").add((function(t){t.on("element:ul",Yb,{priority:"high"}),t.on("element:ol",Yb,{priority:"high"}),t.on("element:li",Qb,{priority:"high"}),t.on("element:li",Gb)})),t.model.on("insertContent",$b,{priority:"high"}),t.commands.add("numberedList",new Tb(t,"numbered")),t.commands.add("bulletedList",new Tb(t,"bulleted")),t.commands.add("indentList",new Bb(t,"forward")),t.commands.add("outdentList",new Bb(t,"backward"));var i=n.view.document;this.listenTo(i,"enter",(function(t,e){var n=_this270.editor.model.document,o=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==o.name&&o.isEmpty&&(_this270.editor.execute("outdentList"),e.preventDefault(),t.stop())}),{context:"li"}),this.listenTo(i,"delete",(function(t,e){if("backward"===e.direction){var n=_this270.editor.model.document.selection;if(n.isCollapsed){var o=n.getFirstPosition();if(o.isAtStart){var i=o.parent;"listItem"===i.name&&(i.previousSibling&&"listItem"===i.previousSibling.name||(_this270.editor.execute("outdentList"),e.preventDefault(),t.stop()))}}}}),{context:"li"});var r=function(t){return function(e,n){_this270.editor.commands.get(t).isEnabled&&(_this270.editor.execute(t),n())}};t.keystrokes.set("Tab",r("indentList")),t.keystrokes.set("Shift+Tab",r("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[fg,vg]}}]),tw}(ue);function ew(t){var _step398,e=1,_iterator398=_createForOfIteratorHelper(t.getChildren());try{for(_iterator398.s();!(_step398=_iterator398.n()).done;){var _n259=_step398.value;if("ul"==_n259.name||"ol"==_n259.name){var _step399,_iterator399=_createForOfIteratorHelper(_n259.getChildren());try{for(_iterator399.s();!(_step399=_iterator399.n()).done;){e+=ew(_step399.value)}}catch(err){_iterator399.e(err)}finally{_iterator399.f()}}}}catch(err){_iterator398.e(err)}finally{_iterator398.f()}return e}var nw=function(_ue57){_inherits(nw,_ue57);var _super169=_createSuper(nw);function nw(){return _classCallCheck(this,nw),_super169.apply(this,arguments)}return _createClass(nw,[{key:"init",value:function(){var t=this.editor.t;jb(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),jb(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}],[{key:"pluginName",get:function(){return"ListUI"}}]),nw}(ue);function ow(t,e){return function(t){t.on("attribute:url:media",n)};function n(n,o,i){if(i.consumable.consume(o.item,n.name)){var r=o.attributeNewValue,s=i.writer,a=i.mapper.toViewElement(o.item),c=_toConsumableArray(a.getChildren()).find((function(t){return t.getCustomProperty("media-content")}));s.remove(c);var l=t.getMediaViewElement(s,r,e);s.insert(s.createPositionAt(a,0),l)}}}function iw(t,e,n,o){var i=t.createContainerElement("figure",{class:"media"});return t.insert(t.createPositionAt(i,0),e.getMediaViewElement(t,n,o)),i}function rw(t){var e=t.getSelectedElement();return e&&e.is("element","media")?e:null}function sw(t,e,n){t.change((function(o){var i=o.createElement("media",{url:e});t.insertContent(i,n),o.setSelection(i,"on")}))}var aw=function(_me24){_inherits(aw,_me24);var _super170=_createSuper(aw);function aw(){return _classCallCheck(this,aw),_super170.apply(this,arguments)}return _createClass(aw,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document.selection,n=rw(e);this.value=n?n.getAttribute("url"):null,this.isEnabled=function(t){var e=t.getSelectedElement();return!!e&&"media"===e.name}(e)||function(t,e){var n=Og(t,e).start.parent;return n.isEmpty&&!e.schema.isLimit(n)&&(n=n.parent),e.schema.checkChild(n,"media")}(e,t)}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document.selection,o=rw(n);o?e.change((function(e){e.setAttribute("url",t,o)})):sw(e,t,Og(n,e))}}]),aw}(me),cw=function(){function cw(t,e){_classCallCheck(this,cw);var n=e.providers,o=e.extraProviders||[],i=new Set(e.removeProviders),r=n.concat(o).filter((function(t){var e=t.name;return e?!i.has(e):(c("media-embed-no-provider-name",{provider:t}),!1)}));this.locale=t,this.providerDefinitions=r}return _createClass(cw,[{key:"hasMedia",value:function(t){return!!this._getMedia(t)}},{key:"getMediaViewElement",value:function(t,e,n){return this._getMedia(e).getViewElement(t,n)}},{key:"_getMedia",value:function(t){if(!t)return new lw(this.locale);t=t.trim();var _step400,_iterator400=_createForOfIteratorHelper(this.providerDefinitions);try{for(_iterator400.s();!(_step400=_iterator400.n()).done;){var _step401,_e296=_step400.value,_n260=_e296.html,_iterator401=_createForOfIteratorHelper(To(_e296.url));try{for(_iterator401.s();!(_step401=_iterator401.n()).done;){var _e297=_step401.value,_o173=this._getUrlMatches(t,_e297);if(_o173)return new lw(this.locale,t,_o173,_n260)}}catch(err){_iterator401.e(err)}finally{_iterator401.f()}}}catch(err){_iterator400.e(err)}finally{_iterator400.f()}return null}},{key:"_getUrlMatches",value:function(t,e){var n=t.match(e);if(n)return n;var o=t.replace(/^https?:\/\//,"");return(n=o.match(e))||((n=(o=o.replace(/^www\./,"")).match(e))||null)}}]),cw}(),lw=function(){function lw(t,e,n,o){_classCallCheck(this,lw),this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=o}return _createClass(lw,[{key:"getViewElement",value:function(t,e){var o,n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");var _i144=this._getPreviewHtml(e);o=t.createRawElement("div",n,(function(t,e){e.setContentOf(t,_i144)}))}else this.url&&(n.url=this.url),o=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,o),o}},{key:"_getPreviewHtml",value:function(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var t=new eh,e=new Jd;return t.text=this._t("Open media in new tab"),e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Id({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(t){return t?t.match(/^https?/)?t:"https://"+t:null}}]),lw}(),dw=n(7442);Zr()(dw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),dw.Z.locals;var uw=function(_ue58){_inherits(uw,_ue58);var _super171=_createSuper(uw);function uw(t){var _this271;return _classCallCheck(this,uw),_this271=_super171.call(this,t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(t[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(t[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(t[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(t){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(t[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),_this271.registry=new cw(t.locale,t.config.get("mediaEmbed")),_this271}return _createClass(uw,[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.t,o=t.conversion,i=t.config.get("mediaEmbed.previewsInData"),r=t.config.get("mediaEmbed.elementName"),s=this.registry;t.commands.add("mediaEmbed",new aw(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),o.for("dataDowncast").elementToElement({model:"media",view:function(t,_ref73){var e=_ref73.writer,n=t.getAttribute("url");return iw(e,s,n,{elementName:r,renderMediaPreview:n&&i})}}),o.for("dataDowncast").add(ow(s,{elementName:r,renderMediaPreview:i})),o.for("editingDowncast").elementToElement({model:"media",view:function(t,_ref74){var e=_ref74.writer,o=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty("media",!0,t),Sg(t,e,{label:n})}(iw(e,s,o,{elementName:r,renderForEditingView:!0}),e,n("media widget"))}}),o.for("editingDowncast").add(ow(s,{elementName:r,renderForEditingView:!0})),o.for("upcast").elementToElement({view:function(t){return["oembed",r].includes(t.name)&&t.getAttribute("url")?{name:!0}:null},model:function(t,_ref75){var e=_ref75.writer,n=t.getAttribute("url");if(s.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(t,_ref76){var e=_ref76.writer,n=t.getAttribute("data-oembed-url");if(s.hasMedia(n))return e.createElement("media",{url:n})}}).add((function(t){t.on("element:figure",(function(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0,classes:"media"})){var _n$convertChildren3=n.convertChildren(e.viewItem,e.modelCursor),o=_n$convertChildren3.modelRange,i=_n$convertChildren3.modelCursor;e.modelRange=o,e.modelCursor=i,wa(o.getItems())||n.consumable.revert(e.viewItem,{name:!0,classes:"media"})}}))}))}}],[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),uw}(ue),gw=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/,mw=function(_ue59){_inherits(mw,_ue59);var _super172=_createSuper(mw);function mw(t){var _this272;return _classCallCheck(this,mw),(_this272=_super172.call(this,t))._timeoutId=null,_this272._positionToInsert=null,_this272}return _createClass(mw,[{key:"init",value:function(){var _this273=this,t=this.editor,e=t.model.document;this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(function(){var t=e.selection.getFirstRange(),n=Ul.fromPosition(t.start);n.stickiness="toPrevious";var o=Ul.fromPosition(t.end);o.stickiness="toNext",e.once("change:data",(function(){_this273._embedMediaBetweenPositions(n,o),n.detach(),o.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(function(){_this273._timeoutId&&(is.window.clearTimeout(_this273._timeoutId),_this273._positionToInsert.detach(),_this273._timeoutId=null,_this273._positionToInsert=null)}),{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(t,e){var _step402,_this274=this,n=this.editor,o=n.plugins.get(uw).registry,i=new ic(t,e),r=i.getWalker({ignoreElementEnd:!0}),s="",_iterator402=_createForOfIteratorHelper(r);try{for(_iterator402.s();!(_step402=_iterator402.n()).done;){var _t316=_step402.value;_t316.item.is("$textProxy")&&(s+=_t316.item.data)}}catch(err){_iterator402.e(err)}finally{_iterator402.f()}(s=s.trim()).match(gw)&&o.hasMedia(s)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ul.fromPosition(t),this._timeoutId=is.window.setTimeout((function(){n.model.change((function(t){var e;_this274._timeoutId=null,t.remove(i),i.detach(),"$graveyard"!==_this274._positionToInsert.root.rootName&&(e=_this274._positionToInsert),sw(n.model,s,e),_this274._positionToInsert.detach(),_this274._positionToInsert=null})),n.plugins.get("Delete").requestUndoOnBackspace()}),100)):i.detach()}}],[{key:"requires",get:function(){return[um,vg,op]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),mw}(ue),pw=n(9292);Zr()(pw.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),pw.Z.locals;var kw=function(_Dd29){_inherits(kw,_Dd29);var _super173=_createSuper(kw);function kw(t,e){var _this275;_classCallCheck(this,kw),_this275=_super173.call(this,e);var n=e.t;return _this275.focusTracker=new Aa,_this275.keystrokes=new Ca,_this275.set("mediaURLInputValue",""),_this275.urlInputView=_this275._createUrlInput(),_this275.saveButtonView=_this275._createButton(n("Save"),Ad_check,"ck-button-save"),_this275.saveButtonView.type="submit",_this275.saveButtonView.bind("isEnabled").to(_assertThisInitialized(_this275),"mediaURLInputValue",(function(t){return!!t})),_this275.cancelButtonView=_this275._createButton(n("Cancel"),Ad_cancel,"ck-button-cancel","cancel"),_this275._focusables=new yd,_this275._focusCycler=new vh({focusables:_this275._focusables,focusTracker:_this275.focusTracker,keystrokeHandler:_this275.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),_this275._validators=t,_this275.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[_this275.urlInputView,_this275.saveButtonView,_this275.cancelButtonView]}),_d(_assertThisInitialized(_this275)),_this275}return _createClass(kw,[{key:"render",value:function(){var _this276=this;_get(_getPrototypeOf(kw.prototype),"render",this).call(this),vd({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((function(t){_this276._focusables.add(t),_this276.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);var t=function(_t317){return _t317.stopPropagation()};this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(function(t,e){e.stopPropagation()}),{priority:"high"})}},{key:"destroy",value:function(){_get(_getPrototypeOf(kw.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(t){this.urlInputView.fieldView.element.value=t.trim()}},{key:"isValid",value:function(){this.resetFormStatus();var _step403,_iterator403=_createForOfIteratorHelper(this._validators);try{for(_iterator403.s();!(_step403=_iterator403.n()).done;){var _e298=(0,_step403.value)(this);if(_e298)return this.urlInputView.errorText=_e298,!1}}catch(err){_iterator403.e(err)}finally{_iterator403.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var _this277=this,t=this.locale.t,e=new lu(this.locale,du),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.on("input",(function(){e.infoText=n.element.value?_this277._urlInputViewInfoTip:_this277._urlInputViewInfoDefault,_this277.mediaURLInputValue=n.element.value.trim()})),e}},{key:"_createButton",value:function(t,e,n,o){var i=new ih(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}}]),kw}(Dd),bw=function(_ue60){_inherits(bw,_ue60);var _super174=_createSuper(bw);function bw(){return _classCallCheck(this,bw),_super174.apply(this,arguments)}return _createClass(bw,[{key:"init",value:function(){var _this278=this,t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(uw).registry;t.ui.componentFactory.add("mediaEmbed",(function(o){var i=Uh(o),r=new kw(function(t,e){return[function(e){if(!e.url.length)return t("The URL must not be empty.")},function(n){if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}(t.t,n),t.locale);return _this278._setUpDropdown(i,r,e,t),_this278._setUpForm(i,r,e),i}))}},{key:"_setUpDropdown",value:function(t,e,n){var o=this.editor,i=o.t,r=t.buttonView;function s(){o.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),r.set({label:i("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),r.on("open",(function(){e.disableCssTransitions(),e.url=n.value||"",e.urlInputView.fieldView.select(),e.focus(),e.enableCssTransitions()}),{priority:"low"}),t.on("submit",(function(){e.isValid()&&(o.execute("mediaEmbed",e.url),s())})),t.on("change:isOpen",(function(){return e.resetFormStatus()})),t.on("cancel",(function(){return s()}))}},{key:"_setUpForm",value:function(t,e,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(t){return!t}))}}],[{key:"requires",get:function(){return[uw]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),bw}(ue),ww=n(4652);function _w(t){if(t.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(t){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function vw(t,e,n){var o=e.parent,i=n.createElement(t.type),r=o.getChildIndex(e)+1;return n.insertChild(r,i,o),t.style&&n.setStyle("list-style-type",t.style,i),t.startIndex&&t.startIndex>1&&n.setAttribute("start",t.startIndex,i),i}function yw(t){var e={},n=t.getStyle("mso-list");if(n){var _t325=n.match(/(^|\s{1,100})l(\d+)/i),_o175=n.match(/\s{0,100}lfo(\d+)/i),_i145=n.match(/\s{0,100}level(\d+)/i);_t325&&_o175&&_i145&&(e.id=_t325[2],e.order=_o175[1],e.indent=_i145[1])}return e}Zr()(ww.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ww.Z.locals;var xw=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Ew=function(){function Ew(t){_classCallCheck(this,Ew),this.document=t}return _createClass(Ew,[{key:"isActive",value:function(t){return xw.test(t)}},{key:"execute",value:function(t){var e=new eg(this.document),n=t._parsedData.body;!function(t,e){var _step408,_iterator408=_createForOfIteratorHelper(t.getChildren());try{for(_iterator408.s();!(_step408=_iterator408.n()).done;){var _n261=_step408.value;if(_n261.is("element","b")&&"normal"===_n261.getStyle("font-weight")){var _o176=t.getChildIndex(_n261);e.remove(_n261),e.insertChild(_o176,_n261.getChildren(),t)}}}catch(err){_iterator408.e(err)}finally{_iterator408.f()}}(n,e),function(t,e){var _step409,_iterator409=_createForOfIteratorHelper(e.createRangeIn(t));try{for(_iterator409.s();!(_step409=_iterator409.n()).done;){var _t326=_step409.value.item;if(_t326.is("element","li")){var _n263=_t326.getChild(0);_n263&&_n263.is("element","p")&&e.unwrapElement(_n263)}}}catch(err){_iterator409.e(err)}finally{_iterator409.f()}}(n,e),t.content=n}}]),Ew}();function Iw(t){return btoa(t.match(/\w{2}/g).map((function(t){return String.fromCharCode(parseInt(t,16))})).join(""))}var Mw=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Tw=/xmlns:o="urn:schemas-microsoft-com/i,Sw=function(){function Sw(t){_classCallCheck(this,Sw),this.document=t}return _createClass(Sw,[{key:"isActive",value:function(t){return Mw.test(t)||Tw.test(t)}},{key:"execute",value:function(t){var _t$_parsedData=t._parsedData,e=_t$_parsedData.body;(function(t,e){if(t.childCount){var n=new eg(t.document),o=function(t,e){var _step404,n=e.createRangeIn(t),o=new Uo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),i=[],_iterator404=_createForOfIteratorHelper(n);try{for(_iterator404.s();!(_step404=_iterator404.n()).done;){var _t319=_step404.value;if("elementStart"===_t319.type&&o.match(_t319.item)){var _e299=yw(_t319.item);i.push({element:_t319.item,id:_e299.id,order:_e299.order,indent:_e299.indent})}}}catch(err){_iterator404.e(err)}finally{_iterator404.f()}return i}(t,n);if(o.length){var i=null,r=1;o.forEach((function(t,s){var d,h,a=function(t,e){if(!t)return!0;if(t.id!==e.id)return e.indent-t.indent!=1;var o,n=e.element.previousSibling;return!n||!((o=n).is("element","ol")||o.is("element","ul"))}(o[s-1],t),l=(h=t,(d=a?null:o[s-1])?h.indent-d.indent:h.indent-1);if(a&&(i=null,r=1),!i||0!==l){var _o174=function(t,e){var r=new RegExp("@list l".concat(t.id,":level").concat(t.indent,"\\s*({[^}]*)"),"gi").exec(e),s="decimal",a="ol",c=null;if(r&&r[1]){var _e300=/mso-level-number-format:([^;]{0,100});/gi.exec(r[1]);if(_e300&&_e300[1]&&(a="bullet"!==(s=_e300[1].trim())&&"image"!==s?"ol":"ul"),"bullet"===s){var _e301=function(t){var e=function(t){if(t.getChild(0).is("$text"))return null;var _step405,_iterator405=_createForOfIteratorHelper(t.getChildren());try{for(_iterator405.s();!(_step405=_iterator405.n()).done;){var _e302=_step405.value;if(_e302.is("element","span")){var _t320=_e302.getChild(0);return _t320.is("$text")?_t320:_t320.getChild(0)}}}catch(err){_iterator405.e(err)}finally{_iterator405.f()}}(t);if(!e)return null;var n=e._data;return"o"===n?"circle":""===n?"disc":""===n?"square":null}(t.element);_e301&&(s=_e301)}else{var _t321=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi.exec(r[1]);_t321&&_t321[1]&&(c=parseInt(_t321[1]))}}return{type:a,startIndex:c,style:_w(s)}}(t,e);if(i){if(t.indent>r){var _t322=i.getChild(i.childCount-1),_e303=_t322.getChild(_t322.childCount-1);i=vw(_o174,_e303,n),r+=1}else if(t.indent<r){var _e304=r-t.indent;i=function(t,e){var _step406,o=null,i=0,_iterator406=_createForOfIteratorHelper(t.getAncestors({parentFirst:!0}));try{for(_iterator406.s();!(_step406=_iterator406.n()).done;){var _t323=_step406.value;if("ul"!==_t323.name&&"ol"!==_t323.name||i++,i===e){o=_t323;break}}}catch(err){_iterator406.e(err)}finally{_iterator406.f()}return o}(i,_e304),r=parseInt(t.indent)}}else i=vw(_o174,t.element,n);t.indent<=r&&(i.is("element",_o174.type)||(i=n.rename(_o174.type,i)))}var u=function(t,e){return function(t,e){var _step407,n=new Uo({name:"span",styles:{"mso-list":"Ignore"}}),_iterator407=_createForOfIteratorHelper(e.createRangeIn(t));try{for(_iterator407.s();!(_step407=_iterator407.n()).done;){var _t324=_step407.value;"elementStart"===_t324.type&&n.match(_t324.item)&&e.remove(_t324.item)}}catch(err){_iterator407.e(err)}finally{_iterator407.f()}}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(u,i)}))}}})(e,_t$_parsedData.stylesString),function(t,e){if(t.childCount){var n=new eg;!function(t,e,n){var _step411,o=n.createRangeIn(e),i=new Uo({name:"img"}),r=[],_iterator411=_createForOfIteratorHelper(o);try{for(_iterator411.s();!(_step411=_iterator411.n()).done;){var _e306=_step411.value;if(i.match(_e306.item)){var _n265=_e306.item,_o177=_n265.getAttribute("v:shapes")?_n265.getAttribute("v:shapes").split(" "):[];_o177.length&&_o177.every((function(e){return t.indexOf(e)>-1}))?r.push(_n265):_n265.getAttribute("src")||r.push(_n265)}}}catch(err){_iterator411.e(err)}finally{_iterator411.f()}for(var _i146=0,_r64=r;_i146<_r64.length;_i146++){var _t328=_r64[_i146];n.remove(_t328)}}(function(t,e){var _step410,n=e.createRangeIn(t),o=new Uo({name:/v:(.+)/}),i=[],_iterator410=_createForOfIteratorHelper(n);try{for(_iterator410.s();!(_step410=_iterator410.n()).done;){var _t327=_step410.value;if("elementStart"==_t327.type){var _e305=_t327.item,_n264=_e305.previousSibling&&_e305.previousSibling.name||null;o.match(_e305)&&_e305.getAttribute("o:gfxdata")&&"v:shapetype"!==_n264&&i.push(_t327.item.getAttribute("id"))}}}catch(err){_iterator410.e(err)}finally{_iterator410.f()}return i}(t,n),t,n),function(t,e){var _step412,n=e.createRangeIn(t),o=new Uo({name:/v:(.+)/}),i=[],_iterator412=_createForOfIteratorHelper(n);try{for(_iterator412.s();!(_step412=_iterator412.n()).done;){var _t330=_step412.value;"elementStart"==_t330.type&&o.match(_t330.item)&&i.push(_t330.item)}}catch(err){_iterator412.e(err)}finally{_iterator412.f()}for(var _i148=0,_i147=i;_i148<_i147.length;_i148++){var _t329=_i147[_i148];e.remove(_t329)}}(t,n);var i=function(t,e){var _step413,n=e.createRangeIn(t),o=new Uo({name:"img"}),i=[],_iterator413=_createForOfIteratorHelper(n);try{for(_iterator413.s();!(_step413=_iterator413.n()).done;){var _t331=_step413.value;o.match(_t331.item)&&_t331.item.getAttribute("src").startsWith("file://")&&i.push(_t331.item)}}catch(err){_iterator413.e(err)}finally{_iterator413.f()}return i}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(var _o178=0;_o178<t.length;_o178++){var _i149="data:".concat(e[_o178].type,";base64,").concat(Iw(e[_o178].hex));n.setAttribute("src",_i149,t[_o178])}}(i,function(t){if(!t)return[];var e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),o=t.match(n),i=[];if(o){var _step414,_iterator414=_createForOfIteratorHelper(o);try{for(_iterator414.s();!(_step414=_iterator414.n()).done;){var _t332=_step414.value,_n266=!1;_t332.includes("\\pngblip")?_n266="image/png":_t332.includes("\\jpegblip")&&(_n266="image/jpeg"),_n266&&i.push({hex:_t332.replace(e,"").replace(/[^\da-fA-F]/g,""),type:_n266})}}catch(err){_iterator414.e(err)}finally{_iterator414.f()}}return i}(e),n)}}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}]),Sw}();function Nw(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(t,e){return 1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)}))}function zw(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e>i?o.setAttribute(t,e,n):o.removeAttribute(t,n)}function Pw(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.createElement("tableCell",n);return t.insertElement("paragraph",o),t.insert(o,e),o}function Lw(t,e){var n=e.parent.parent,o=parseInt(n.getAttribute("headingColumns")||0),i=t.getCellLocation(e).column;return!!o&&i<o}function Rw(t){return function(e){e.on("element:".concat(t),(function(t,e,n){if(e.modelRange&&e.viewItem.isEmpty){var _t337=e.modelRange.start.nodeAfter,_o180=n.writer.createPositionAt(_t337,0);n.writer.insertElement("paragraph",_o180)}}),{priority:"low"})}}function jw(t){for(var e=0,n=0,o=Array.from(t.getChildren()).filter((function(t){return"th"===t.name||"td"===t.name}));n<o.length&&"th"===o[n].name;){var _t338=o[n];e+=parseInt(_t338.getAttribute("colspan")||1),n++}return e}var Fw=function(){function Fw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Fw),this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return _createClass(Fw,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();var e=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{var _n267=t.getChild(this._cellIndex);if(!_n267)return this._advanceToNextRow();var _o181=parseInt(_n267.getAttribute("colspan")||1),_i152=parseInt(_n267.getAttribute("rowspan")||1);(_o181>1||_i152>1)&&this._recordSpans(_n267,_i152,_o181),this._shouldSkipSlot()||(e=this._formatOutValue(_n267)),this._nextCellAtColumn=this._column+_o181}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}},{key:"skipRow",value:function(t){this._skipRows.add(t)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new Vw(this,t,e,n)}}},{key:"_shouldSkipSlot",value:function(){var t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,o=void 0!==this._endColumn&&this._column>this._endColumn;return t||e||n||o}},{key:"_getSpanned",value:function(){var t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}},{key:"_recordSpans",value:function(t,e,n){for(var o={cell:t,row:this._row,column:this._column},_t339=this._row;_t339<this._row+e;_t339++)for(var _e307=this._column;_e307<this._column+n;_e307++)_t339==this._row&&_e307==this._column||this._markSpannedCell(_t339,_e307,o)}},{key:"_markSpannedCell",value:function(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}]),Fw}(),Vw=function(){function Vw(t,e,n,o){_classCallCheck(this,Vw),this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=o,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}return _createClass(Vw,[{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}},{key:"rowIndex",get:function(){return this._rowIndex}},{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}]),Vw}();function Hw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){return e.on("insert:table",(function(e,n,o){var i=n.item;if(o.consumable.consume(i,"insert")){o.consumable.consume(i,"attribute:headingRows:table"),o.consumable.consume(i,"attribute:headingColumns:table");var c,l,d,r=t&&t.asWidget,s=o.writer.createContainerElement("figure",{class:"table"}),a=o.writer.createContainerElement("table");o.writer.insert(o.writer.createPositionAt(s,0),a),r&&(l=s,(d=o.writer).setCustomProperty("table",!0,l),c=Sg(l,d,{hasSelectionHandle:!0}));var _step416,h=new Fw(i),u={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},g=new Map,_iterator416=_createForOfIteratorHelper(h);try{for(_iterator416.s();!(_step416=_iterator416.n()).done;){var _e308=_step416.value,_n268=_e308.row,_r67=_e308.cell,_s40=i.getChild(_n268),_c12=g.get(_n268)||Yw(a,_s40,_n268,u,o);g.set(_n268,_c12),o.consumable.consume(_r67,"insert"),Gw(_e308,u,o.writer.createPositionAt(_c12,"end"),o,t)}}catch(err){_iterator416.e(err)}finally{_iterator416.f()}var _step417,_iterator417=_createForOfIteratorHelper(i.getChildren());try{for(_iterator417.s();!(_step417=_iterator417.n()).done;){var _t340=_step417.value,_e309=_t340.index;_t340.is("element","tableRow")&&!g.has(_e309)&&g.set(_e309,Yw(a,_t340,_e309,u,o))}}catch(err){_iterator417.e(err)}finally{_iterator417.f()}var m=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(i,r?c:s),o.writer.insert(m,r?c:s)}}))}}function Uw(t,e){var n=e.writer;if(t.parent.is("element","tableCell"))return qw(t)?n.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):n.createContainerElement("p")}function qw(t){return 1===t.parent.childCount&&!Zw(t)}function Ww(t,e,n){var o=t.cell,i=Qw(t,e),r=n.mapper.toViewElement(o);r&&r.name!==i&&function(t,e,n){var o=n.writer,i=n.mapper.toViewElement(t),r=Lg(o.createEditableElement(e,i.getAttributes()),o);o.insert(o.createPositionAfter(i),r),o.move(o.createRangeIn(i),o.createPositionAt(r,0)),o.remove(o.createRangeOn(i)),n.mapper.unbindViewElement(i),n.mapper.bindElements(t,r)}(o,i,n)}function Gw(t,e,n,o,i){var r=i&&i.asWidget,s=Qw(t,e),a=r?Lg(o.writer.createEditableElement(s),o.writer):o.writer.createContainerElement(s),c=t.cell,l=c.getChild(0),d=1===c.childCount&&"paragraph"===l.name;if(o.writer.insert(n,a),o.mapper.bindElements(c,a),!r&&d&&!Zw(l)){var _t341=c.getChild(0);o.consumable.consume(_t341,"insert"),o.mapper.bindElements(_t341,a)}}function Yw(t,e,n,o,i){i.consumable.consume(e,"insert");var r=e.isEmpty?i.writer.createEmptyElement("tr"):i.writer.createContainerElement("tr");i.mapper.bindElements(e,r);var s=o.headingRows,a=function(t,e,n){return Kw(t,e)||function(t,e,n){var o=n.writer.createContainerElement(t),i=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(i,o),o}(t,e,n)}(function(t,e){return t<e.headingRows?"thead":"tbody"}(n,o),t,i),c=s>0&&n>=s?n-s:n,l=i.writer.createPositionAt(a,c);return i.writer.insert(l,r),r}function Qw(t,e){var n=t.row,o=t.column,i=e.headingColumns,r=e.headingRows;return r&&r>n||i&&i>o?"th":"td"}function Kw(t,e){var _step418,_iterator418=_createForOfIteratorHelper(e.getChildren());try{for(_iterator418.s();!(_step418=_iterator418.n()).done;){var _n269=_step418.value;if(_n269.name==t)return _n269}}catch(err){_iterator418.e(err)}finally{_iterator418.f()}}function $w(t,e,n){var o=Kw(t,e);o&&0===o.childCount&&n.writer.remove(n.writer.createRangeOn(o))}function Zw(t){return!!_toConsumableArray(t.getAttributeKeys()).length}var Jw=function(_me25){_inherits(Jw,_me25);var _super175=_createSuper(Jw);function Jw(){return _classCallCheck(this,Jw),_super175.apply(this,arguments)}return _createClass(Jw,[{key:"refresh",value:function(){var t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=function(t,e){var n=t.getFirstPosition().parent,o=n===n.root?n:n.parent;return e.checkChild(o,"table")}(e,n)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document.selection,o=this.editor.plugins.get("TableUtils"),i=this.editor.config.get("table"),r=Og(n,e),s=i.defaultHeadings.rows,a=i.defaultHeadings.columns;void 0===t.headingRows&&s&&(t.headingRows=s),void 0===t.headingColumns&&a&&(t.headingColumns=a),e.change((function(n){var i=o.createTable(n,t);e.insertContent(i,r),n.setSelection(n.createPositionAt(i.getNodeByPath([0,0,0]),0))}))}}]),Jw}(me);function Xw(t){var _step419,e=[],_iterator419=_createForOfIteratorHelper(rA(t.getRanges()));try{for(_iterator419.s();!(_step419=_iterator419.n()).done;){var _t342=_step419.value.getContainedElement();_t342&&_t342.is("element","tableCell")&&e.push(_t342)}}catch(err){_iterator419.e(err)}finally{_iterator419.f()}return e}function tA(t){var _step420,e=[],_iterator420=_createForOfIteratorHelper(t.getRanges());try{for(_iterator420.s();!(_step420=_iterator420.n()).done;){var _t343=_step420.value.start.findAncestor("tableCell");_t343&&e.push(_t343)}}catch(err){_iterator420.e(err)}finally{_iterator420.f()}return e}function eA(t){var e=Xw(t);return e.length?e:tA(t)}function nA(t){return sA(t.map((function(t){return t.parent.index})))}function oA(t){var e=t[0].findAncestor("table");return sA(_toConsumableArray(new Fw(e)).filter((function(e){return t.includes(e.cell)})).map((function(t){return t.column})))}function iA(t,e){if(t.length<2||!function(t){var e=t[0].findAncestor("table");if(!cA(nA(t),parseInt(e.getAttribute("headingRows")||0)))return!1;var i=parseInt(e.getAttribute("headingColumns")||0);return cA(oA(t),i)}(t))return!1;var _step421,n=new Set,o=new Set,i=0,_iterator421=_createForOfIteratorHelper(t);try{for(_iterator421.s();!(_step421=_iterator421.n()).done;){var _r68=_step421.value,_e$getCellLocation=e.getCellLocation(_r68),_t344=_e$getCellLocation.row,_s41=_e$getCellLocation.column,_a24=parseInt(_r68.getAttribute("rowspan")||1),_c13=parseInt(_r68.getAttribute("colspan")||1);n.add(_t344),o.add(_s41),_a24>1&&n.add(_t344+_a24-1),_c13>1&&o.add(_s41+_c13-1),i+=_a24*_c13}}catch(err){_iterator421.e(err)}finally{_iterator421.f()}return function(t,e){var n=Array.from(t.values()),o=Array.from(e.values());return(Math.max.apply(Math,_toConsumableArray(n))-Math.min.apply(Math,_toConsumableArray(n))+1)*(Math.max.apply(Math,_toConsumableArray(o))-Math.min.apply(Math,_toConsumableArray(o))+1)}(n,o)==i}function rA(t){return Array.from(t).sort(aA)}function sA(t){var e=t.sort((function(t,e){return t-e}));return{first:e[0],last:e[e.length-1]}}function aA(t,e){var n=t.start,o=e.start;return n.isBefore(o)?-1:1}function cA(_ref78,n){return _ref78.first<n==_ref78.last<n}var lA=function(_me26){_inherits(lA,_me26);var _super176=_createSuper(lA);function lA(t){var _this279,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,lA),(_this279=_super176.call(this,t)).order=e.order||"below",_this279}return _createClass(lA,[{key:"refresh",value:function(){var t=!!eA(this.editor.model.document.selection).length;this.isEnabled=t}},{key:"execute",value:function(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o="above"===this.order,i=eA(e),r=nA(i),s=o?r.first:r.last,a=i[0].findAncestor("table");n.insertRows(a,{at:o?s:s+1,copyStructureFromAbove:!o})}}]),lA}(me),dA=function(_me27){_inherits(dA,_me27);var _super177=_createSuper(dA);function dA(t){var _this280,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,dA),(_this280=_super177.call(this,t)).order=e.order||"right",_this280}return _createClass(dA,[{key:"refresh",value:function(){var t=!!eA(this.editor.model.document.selection).length;this.isEnabled=t}},{key:"execute",value:function(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o="left"===this.order,i=eA(e),r=oA(i),s=o?r.first:r.last,a=i[0].findAncestor("table");n.insertColumns(a,{columns:1,at:o?s:s+1})}}]),dA}(me),hA=function(_me28){_inherits(hA,_me28);var _super178=_createSuper(hA);function hA(t){var _this281,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,hA),(_this281=_super178.call(this,t)).direction=e.direction||"horizontally",_this281}return _createClass(hA,[{key:"refresh",value:function(){var t=eA(this.editor.model.document.selection);this.isEnabled=1===t.length}},{key:"execute",value:function(){var t=eA(this.editor.model.document.selection)[0],e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}]),hA}(me);function uA(t,e,n){for(var o=e.startRow,i=e.startColumn,r=e.endRow,s=e.endColumn,a=n.createElement("table"),c=r-o+1,_t345=0;_t345<c;_t345++)n.insertElement("tableRow",a,"end");var _step422,_iterator422=_createForOfIteratorHelper(_toConsumableArray(new Fw(t,{startRow:o,endRow:r,startColumn:i,endColumn:s,includeAllSlots:!0})));try{for(_iterator422.s();!(_step422=_iterator422.n()).done;){var _step422$value=_step422.value,_t346=_step422$value.row,_e310=_step422$value.column,_c14=_step422$value.cell,_d3=_step422$value.isAnchor,_h3=_step422$value.cellAnchorRow,_u2=_step422$value.cellAnchorColumn,_l7=_t346-o,_g2=a.getChild(_l7);if(_d3){var _o182=n.cloneElement(_c14);n.append(_o182,_g2),kA(_o182,_t346,_e310,r,s,n)}else(_h3<o||_u2<i)&&Pw(n,n.createPositionAt(_g2,"end"))}}catch(err){_iterator422.e(err)}finally{_iterator422.f()}return function(t,e,n,o,i){var r=parseInt(e.getAttribute("headingRows")||0);r>0&&zw("headingRows",r-n,t,i,0);var s=parseInt(e.getAttribute("headingColumns")||0);s>0&&zw("headingColumns",s-o,t,i,0)}(a,t,o,i,n),a}function gA(t,e){var _step423,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=[],i=new Fw(t,{startRow:n,endRow:e-1}),_iterator423=_createForOfIteratorHelper(i);try{for(_iterator423.s();!(_step423=_iterator423.n()).done;){var _t347=_step423.value,_n272=_t347.row,_i153=_t347.cellHeight,_r69=_n272+_i153-1;_n272<e&&e<=_r69&&o.push(_t347)}}catch(err){_iterator423.e(err)}finally{_iterator423.f()}return o}function mA(t,e,n){var o=t.parent,i=o.parent,r=o.index,s=e-r,a={},c=parseInt(t.getAttribute("rowspan"))-s;c>1&&(a.rowspan=c);var l=parseInt(t.getAttribute("colspan")||1);l>1&&(a.colspan=l);var u,_step424,d=r+s,g=null,_iterator424=_createForOfIteratorHelper(_toConsumableArray(new Fw(i,{startRow:r,endRow:d,includeAllSlots:!0})));try{for(_iterator424.s();!(_step424=_iterator424.n()).done;){var _e311=_step424.value,_o183=_e311.row,_i154=_e311.column;_e311.cell===t&&void 0===u&&(u=_i154),void 0!==u&&u===_i154&&_o183===d&&(g=Pw(n,_e311.getPositionBefore(),a))}}catch(err){_iterator424.e(err)}finally{_iterator424.f()}return zw("rowspan",s,t,n),g}function pA(t,e){var _step425,n=[],_iterator425=_createForOfIteratorHelper(new Fw(t));try{for(_iterator425.s();!(_step425=_iterator425.n()).done;){var _t348=_step425.value,_o184=_t348.column,_i155=_t348.cellWidth;_o184<e&&e<=_o184+_i155-1&&n.push(_t348)}}catch(err){_iterator425.e(err)}finally{_iterator425.f()}return n}function fA(t,e,n,o){var i=n-e,r={},s=parseInt(t.getAttribute("colspan"))-i;s>1&&(r.colspan=s);var a=parseInt(t.getAttribute("rowspan")||1);a>1&&(r.rowspan=a);var c=Pw(o,o.createPositionAfter(t),r);return zw("colspan",i,t,o),c}function kA(t,e,n,o,i,r){var s=parseInt(t.getAttribute("colspan")||1),a=parseInt(t.getAttribute("rowspan")||1);n+s-1>i&&zw("colspan",i-n+1,t,r,1),e+a-1>o&&zw("rowspan",o-e+1,t,r,1)}function bA(t,e){var _step426,n=e.getColumns(t),o=new Array(n).fill(0),_iterator426=_createForOfIteratorHelper(new Fw(t));try{for(_iterator426.s();!(_step426=_iterator426.n()).done;){o[_step426.value.column]++}}catch(err){_iterator426.e(err)}finally{_iterator426.f()}var i=o.reduce((function(t,e,n){return e?t:[].concat(_toConsumableArray(t),[n])}),[]);if(i.length>0){var _n273=i[i.length-1];return e.removeColumns(t,{at:_n273}),!0}return!1}function wA(t,e){for(var n=[],o=e.getRows(t),_e313=0;_e313<o;_e313++)t.getChild(_e313).isEmpty&&n.push(_e313);if(n.length>0){var _o185=n[n.length-1];return e.removeRows(t,{at:_o185}),!0}return!1}function AA(t,e){bA(t,e)||wA(t,e)}function CA(t,e){var n=Array.from(new Fw(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every((function(_ref79){return 1===_ref79.cellHeight})))return e.lastRow;var o=n[0].cellHeight-1;return e.lastRow+o}function _A(t,e){var n=Array.from(new Fw(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every((function(_ref80){return 1===_ref80.cellWidth})))return e.lastColumn;var o=n[0].cellWidth-1;return e.lastColumn+o}var vA=function(_me29){_inherits(vA,_me29);var _super179=_createSuper(vA);function vA(t,e){var _this282;return _classCallCheck(this,vA),(_this282=_super179.call(this,t)).direction=e.direction,_this282.isHorizontal="right"==_this282.direction||"left"==_this282.direction,_this282}return _createClass(vA,[{key:"refresh",value:function(){var t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}},{key:"execute",value:function(){var _this283=this,t=this.editor.model,e=tA(t.document.selection)[0],n=this.value,o=this.direction;t.change((function(t){var i="right"==o||"down"==o,r=i?e:n,s=i?n:e,a=s.parent;!function(t,e,n){yA(t)||(yA(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(s,r,t);var c=_this283.isHorizontal?"colspan":"rowspan",l=parseInt(e.getAttribute(c)||1),d=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+d,r),t.setSelection(t.createRangeIn(r));var h=_this283.editor.plugins.get("TableUtils");AA(a.findAncestor("table"),h)}))}},{key:"_getMergeableCell",value:function(){var t=tA(this.editor.model.document.selection)[0];if(t){var e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){var o=t.parent.parent,i="right"==e?t.nextSibling:t.previousSibling,r=(o.getAttribute("headingColumns")||0)>0;if(i){var s="right"==e?t:i,a="right"==e?i:t,c=n.getCellLocation(s).column,l=n.getCellLocation(a).column,d=parseInt(s.getAttribute("colspan")||1),h=Lw(n,s),u=Lw(n,a);if(!r||h==u)return c+d===l?i:void 0}}(t,this.direction,e):function(t,e,n){var o=t.parent,i=o.parent,r=i.getChildIndex(o);if(!("down"==e&&r===n.getRows(i)-1||"up"==e&&0===r)){var s=parseInt(t.getAttribute("rowspan")||1),a=i.getAttribute("headingRows")||0;if(!a||!("down"==e&&r+s===a)&&!("up"==e&&r===a)){var d=parseInt(t.getAttribute("rowspan")||1),h="down"==e?r+d:r,u=_toConsumableArray(new Fw(i,{endRow:h})),g=u.find((function(e){return e.cell===t})).column,m=u.find((function(_ref81){var t=_ref81.row,n=_ref81.cellHeight;return _ref81.column===g&&("down"==e?t===h:h===t+n)}));return m&&m.cell}}}(t,this.direction,e);if(n){var o=this.isHorizontal?"rowspan":"colspan",i=parseInt(t.getAttribute(o)||1);return parseInt(n.getAttribute(o)||1)===i?n:void 0}}}}]),vA}(me);function yA(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}var xA=function(_me30){_inherits(xA,_me30);var _super180=_createSuper(xA);function xA(){return _classCallCheck(this,xA),_super180.apply(this,arguments)}return _createClass(xA,[{key:"refresh",value:function(){var t=eA(this.editor.model.document.selection),e=t[0];if(e){var _n274=e.findAncestor("table"),_o186=this.editor.plugins.get("TableUtils").getRows(_n274)-1,_i156=nA(t),_r72=0===_i156.first&&_i156.last===_o186;this.isEnabled=!_r72}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=eA(t.document.selection),o=nA(n),i=n[0],r=i.findAncestor("table"),s=e.getCellLocation(i).column;t.change((function(t){var n=o.last-o.first+1;e.removeRows(r,{at:o.first,rows:n});var i=function(t,e,n,o){var _step427,i=t.getChild(Math.min(e,o-1)),r=i.getChild(0),s=0,_iterator427=_createForOfIteratorHelper(i.getChildren());try{for(_iterator427.s();!(_step427=_iterator427.n()).done;){var _t349=_step427.value;if(s>n)return r;r=_t349,s+=parseInt(_t349.getAttribute("colspan")||1)}}catch(err){_iterator427.e(err)}finally{_iterator427.f()}return r}(r,o.first,s,e.getRows(r));t.setSelection(t.createPositionAt(i,0))}))}}]),xA}(me),EA=function(_me31){_inherits(EA,_me31);var _super181=_createSuper(EA);function EA(){return _classCallCheck(this,EA),_super181.apply(this,arguments)}return _createClass(EA,[{key:"refresh",value:function(){var t=eA(this.editor.model.document.selection),e=t[0];if(e){var _n275=e.findAncestor("table"),_o187=this.editor.plugins.get("TableUtils").getColumns(_n275),_oA=oA(t),_i157=_oA.first,_r73=_oA.last;this.isEnabled=_r73-_i157<_o187-1}else this.isEnabled=!1}},{key:"execute",value:function(){var _this284=this,_ref83=_slicedToArray(function(t){var e=eA(t),n=e[0],o=e.pop(),i=[n,o];return n.isBefore(o)?i:i.reverse()}(this.editor.model.document.selection),2),t=_ref83[0],e=_ref83[1],n=t.parent.parent,o=_toConsumableArray(new Fw(n)),i={first:o.find((function(e){return e.cell===t})).column,last:o.find((function(t){return t.cell===e})).column},r=function(t,e,n,o){return parseInt(n.getAttribute("colspan")||1)>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:o.first?t.reverse().find((function(_ref84){return _ref84.column<o.first})).cell:t.reverse().find((function(_ref85){return _ref85.column>o.last})).cell}(o,t,e,i);this.editor.model.change((function(t){var e=i.last-i.first+1;_this284.editor.plugins.get("TableUtils").removeColumns(n,{at:i.first,columns:e}),t.setSelection(t.createPositionAt(r,0))}))}}]),EA}(me),DA=function(_me32){_inherits(DA,_me32);var _super182=_createSuper(DA);function DA(){return _classCallCheck(this,DA),_super182.apply(this,arguments)}return _createClass(DA,[{key:"refresh",value:function(){var _this285=this,t=eA(this.editor.model.document.selection),e=t.length>0;this.isEnabled=e,this.value=e&&t.every((function(t){return _this285._isInHeading(t,t.parent.parent)}))}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.forceValue!==this.value){var e=this.editor.model,n=eA(e.document.selection),o=n[0].findAncestor("table"),_nA=nA(n),i=_nA.first,r=_nA.last,s=this.value?i:r+1,a=o.getAttribute("headingRows")||0;e.change((function(t){if(s){var _step428,_iterator428=_createForOfIteratorHelper(gA(o,s,s>a?a:0));try{for(_iterator428.s();!(_step428=_iterator428.n()).done;){mA(_step428.value.cell,s,t)}}catch(err){_iterator428.e(err)}finally{_iterator428.f()}}zw("headingRows",s,o,t,0)}))}}},{key:"_isInHeading",value:function(t,e){var n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}]),DA}(me),IA=function(_me33){_inherits(IA,_me33);var _super183=_createSuper(IA);function IA(){return _classCallCheck(this,IA),_super183.apply(this,arguments)}return _createClass(IA,[{key:"refresh",value:function(){var t=eA(this.editor.model.document.selection),e=this.editor.plugins.get("TableUtils"),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((function(t){return Lw(e,t)}))}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.forceValue!==this.value){var e=this.editor.model,n=eA(e.document.selection),o=n[0].findAncestor("table"),_oA2=oA(n),i=_oA2.first,r=_oA2.last,s=this.value?i:r+1;e.change((function(t){if(s){var _step429,_iterator429=_createForOfIteratorHelper(pA(o,s));try{for(_iterator429.s();!(_step429=_iterator429.n()).done;){var _step429$value=_step429.value;fA(_step429$value.cell,_step429$value.column,s,t)}}catch(err){_iterator429.e(err)}finally{_iterator429.f()}}zw("headingColumns",s,o,t,0)}))}}}]),IA}(me),MA=function(_ue61){_inherits(MA,_ue61);var _super184=_createSuper(MA);function MA(){return _classCallCheck(this,MA),_super184.apply(this,arguments)}return _createClass(MA,[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(t){var _step430,e=t.parent,n=e.parent,o=n.getChildIndex(e),_iterator430=_createForOfIteratorHelper(new Fw(n,{row:o}));try{for(_iterator430.s();!(_step430=_iterator430.n()).done;){var _step430$value=_step430.value,_e316=_step430$value.cell,_n278=_step430$value.row,_o189=_step430$value.column;if(_e316===t)return{row:_n278,column:_o189}}}catch(err){_iterator430.e(err)}finally{_iterator430.f()}}},{key:"createTable",value:function(t,e){var n=t.createElement("table"),o=parseInt(e.rows)||2,i=parseInt(e.columns)||2;return TA(t,n,0,o,i),e.headingRows&&zw("headingRows",Math.min(e.headingRows,o),n,t,0),e.headingColumns&&zw("headingColumns",Math.min(e.headingColumns,i),n,t,0),n}},{key:"insertRows",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,o=e.at||0,i=e.rows||1,r=void 0!==e.copyStructureFromAbove,s=e.copyStructureFromAbove?o-1:o,c=this.getRows(t),l=this.getColumns(t);if(o>c)throw new a("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change((function(e){var n=t.getAttribute("headingRows")||0;if(n>o&&zw("headingRows",n+i,t,e,0),r||0!==o&&o!==c){var _step431,a=r?Math.max(o,s):o,d=new Fw(t,{endRow:a}),h=new Array(l).fill(1),_iterator431=_createForOfIteratorHelper(d);try{for(_iterator431.s();!(_step431=_iterator431.n()).done;){var _step431$value=_step431.value,_t351=_step431$value.row,_n281=_step431$value.column,_a25=_step431$value.cellHeight,_c15=_step431$value.cellWidth,_l8=_step431$value.cell,_d4=_t351+_a25-1,_u3=_t351<=s&&s<=_d4;_t351<o&&o<=_d4?(e.setAttribute("rowspan",_a25+i,_l8),h[_n281]=-_c15):r&&_u3&&(h[_n281]=_c15)}}catch(err){_iterator431.e(err)}finally{_iterator431.f()}for(var _n279=0;_n279<i;_n279++){var _n280=e.createElement("tableRow");e.insert(_n280,t,o);for(var _t350=0;_t350<h.length;_t350++){var _o190=h[_t350],_i158=e.createPositionAt(_n280,"end");_o190>0&&Pw(e,_i158,_o190>1?{colspan:_o190}:null),_t350+=Math.abs(_o190)-1}}}else TA(e,t,o,i,l)}))}},{key:"insertColumns",value:function(t){var _this286=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,o=e.at||0,i=e.columns||1;n.change((function(e){var n=t.getAttribute("headingColumns");o<n&&e.setAttribute("headingColumns",n+i,t);var r=_this286.getColumns(t);if(0!==o&&r!==o){var _step433,s=new Fw(t,{column:o,includeAllSlots:!0}),_iterator433=_createForOfIteratorHelper(s);try{for(_iterator433.s();!(_step433=_iterator433.n()).done;){var _t352=_step433.value,_n283=_t352.row,_r74=_t352.cell,_a26=_t352.cellAnchorColumn,_c16=_t352.cellAnchorRow,_l9=_t352.cellWidth,_d5=_t352.cellHeight;if(_a26<o){e.setAttribute("colspan",_l9+i,_r74);for(var _t353=_c16+_d5-1,_e317=_n283;_e317<=_t353;_e317++)s.skipRow(_e317)}else SA(i,e,_t352.getPositionBefore())}}catch(err){_iterator433.e(err)}finally{_iterator433.f()}}else{var _step432,_iterator432=_createForOfIteratorHelper(t.getChildren());try{for(_iterator432.s();!(_step432=_iterator432.n()).done;){var _n282=_step432.value;_n282.is("element","tableRow")&&SA(i,e,e.createPositionAt(_n282,o?"end":0))}}catch(err){_iterator432.e(err)}finally{_iterator432.f()}}}))}},{key:"removeRows",value:function(t,e){var _this287=this,n=this.editor.model,o=e.rows||1,i=this.getRows(t),r=e.at,s=r+o-1;if(s>i-1)throw new a("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change((function(e){var _ref86=function(t,e,n){var _step434,o=new Map,i=[],_iterator434=_createForOfIteratorHelper(new Fw(t,{endRow:n}));try{for(_iterator434.s();!(_step434=_iterator434.n()).done;){var _step434$value=_step434.value,_r75=_step434$value.row,_s42=_step434$value.column,_a27=_step434$value.cellHeight,_c17=_step434$value.cell,_t354=_r75+_a27-1;if(_r75>=e&&_r75<=n&&_t354>n){var _t355=_a27-(n-_r75+1);o.set(_s42,{cell:_c17,rowspan:_t355})}if(_r75<e&&_t354>=e){var _o191;_o191=_t354>=n?n-e+1:_t354-e+1,i.push({cell:_c17,rowspan:_a27-_o191})}}}catch(err){_iterator434.e(err)}finally{_iterator434.f()}return{cellsToMove:o,cellsToTrim:i}}(t,r,s),n=_ref86.cellsToMove,o=_ref86.cellsToTrim;n.size&&function(t,e,n,o){var s,_step435,i=_toConsumableArray(new Fw(t,{includeAllSlots:!0,row:e})),r=t.getChild(e),_iterator435=_createForOfIteratorHelper(i);try{for(_iterator435.s();!(_step435=_iterator435.n()).done;){var _step435$value=_step435.value,_t356=_step435$value.column,_e318=_step435$value.cell,_a28=_step435$value.isAnchor;if(n.has(_t356)){var _n$get=n.get(_t356),_e319=_n$get.cell,_i159=_n$get.rowspan,_a29=s?o.createPositionAfter(s):o.createPositionAt(r,0);o.move(o.createRangeOn(_e319),_a29),zw("rowspan",_i159,_e319,o),s=_e319}else _a28&&(s=_e318)}}catch(err){_iterator435.e(err)}finally{_iterator435.f()}}(t,s+1,n,e);for(var _n284=s;_n284>=r;_n284--)e.remove(t.getChild(_n284));var _step436,_iterator436=_createForOfIteratorHelper(o);try{for(_iterator436.s();!(_step436=_iterator436.n()).done;){var _step436$value=_step436.value;zw("rowspan",_step436$value.rowspan,_step436$value.cell,e)}}catch(err){_iterator436.e(err)}finally{_iterator436.f()}!function(t,e,n,o){var i=t.getAttribute("headingRows")||0;e<i&&zw("headingRows",n<i?i-(n-e+1):e,t,o,0)}(t,r,s,e),bA(t,_this287)||wA(t,_this287)}))}},{key:"removeColumns",value:function(t,e){var _this288=this,n=this.editor.model,o=e.at,i=e.columns||1,r=e.at+i-1;n.change((function(e){!function(t,e,n){var o=t.getAttribute("headingColumns")||0;if(o&&e.first<o){var _i160=Math.min(o-1,e.last)-e.first+1;n.setAttribute("headingColumns",o-_i160,t)}}(t,{first:o,last:r},e);for(var _n286=r;_n286>=o;_n286--)for(var _i161=0,_arr3=_toConsumableArray(new Fw(t));_i161<_arr3.length;_i161++){var _arr3$_i=_arr3[_i161],_o192=_arr3$_i.cell,_i162=_arr3$_i.column,_r76=_arr3$_i.cellWidth;_i162<=_n286&&_r76>1&&_i162+_r76>_n286?zw("colspan",_r76-1,_o192,e):_i162===_n286&&e.remove(_o192)}wA(t,_this288)||bA(t,_this288)}))}},{key:"splitCellVertically",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,o=t.parent.parent,i=parseInt(t.getAttribute("rowspan")||1),r=parseInt(t.getAttribute("colspan")||1);n.change((function(n){if(r>1){var _NA=NA(r,e),_o193=_NA.newCellsSpan;zw("colspan",_NA.updatedSpan,t,n);var _a30={};_o193>1&&(_a30.colspan=_o193),i>1&&(_a30.rowspan=i),SA(r>e?e-1:r-1,n,n.createPositionAfter(t),_a30)}if(r<e){var _step437,_s44=e-r,_a31=_toConsumableArray(new Fw(o)),_c18=_a31.find((function(_ref87){return _ref87.cell===t})).column,_iterator437=_createForOfIteratorHelper(_a31.filter((function(_ref88){var e=_ref88.cell,n=_ref88.cellWidth,o=_ref88.column;return e!==t&&o===_c18||o<_c18&&o+n>_c18})));try{for(_iterator437.s();!(_step437=_iterator437.n()).done;){var _step437$value=_step437.value,_t358=_step437$value.cell,_e320=_step437$value.cellWidth;n.setAttribute("colspan",_e320+_s44,_t358)}}catch(err){_iterator437.e(err)}finally{_iterator437.f()}var _d6={};i>1&&(_d6.rowspan=i),SA(_s44,n,n.createPositionAfter(t),_d6);var _h4=o.getAttribute("headingColumns")||0;_h4>_c18&&zw("headingColumns",_h4+_s44,o,n)}}))}},{key:"splitCellHorizontally",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,o=t.parent,i=o.parent,r=i.getChildIndex(o),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change((function(n){if(s>1){var _o194=_toConsumableArray(new Fw(i,{startRow:r,endRow:r+s-1,includeAllSlots:!0})),_NA2=NA(s,e),_c19=_NA2.newCellsSpan,_l11=_NA2.updatedSpan;zw("rowspan",_l11,t,n);var _d7=_o194.find((function(_ref89){return _ref89.cell===t})).column,_h5={};_c19>1&&(_h5.rowspan=_c19),a>1&&(_h5.colspan=a);for(var _i163=0,_o195=_o194;_i163<_o195.length;_i163++){var _t359=_o195[_i163],_e321=_t359.column,_o196=_t359.row;_o196>=r+_l11&&_e321===_d7&&(_o196+r+_l11)%_c19==0&&SA(1,n,_t359.getPositionBefore(),_h5)}}if(s<e){var _step438,_o197=e-s,_iterator438=_createForOfIteratorHelper(_toConsumableArray(new Fw(i,{startRow:0,endRow:r})));try{for(_iterator438.s();!(_step438=_iterator438.n()).done;){var _step438$value=_step438.value,_e322=_step438$value.cell,_i165=_step438$value.cellHeight,_s46=_step438$value.row;if(_e322!==t&&_s46+_i165>r){var _t360=_i165+_o197;n.setAttribute("rowspan",_t360,_e322)}}}catch(err){_iterator438.e(err)}finally{_iterator438.f()}var _l12={};a>1&&(_l12.colspan=a),TA(n,i,r+1,_o197,1,_l12);var _d8=i.getAttribute("headingRows")||0;_d8>r&&zw("headingRows",_d8+_o197,i,n)}}))}},{key:"getColumns",value:function(t){return _toConsumableArray(t.getChild(0).getChildren()).reduce((function(t,e){return t+parseInt(e.getAttribute("colspan")||1)}),0)}},{key:"getRows",value:function(t){return Array.from(t.getChildren()).reduce((function(t,e){return e.is("element","tableRow")?t+1:t}),0)}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),MA}(ue);function TA(t,e,n,o,i){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},_s47=0;_s47<o;_s47++){var _o198=t.createElement("tableRow");t.insert(_o198,e,n),SA(i,t,t.createPositionAt(_o198,"end"),r)}}function SA(t,e,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},_i166=0;_i166<t;_i166++)Pw(e,n,o)}function NA(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}var BA=function(_me34){_inherits(BA,_me34);var _super185=_createSuper(BA);function BA(){return _classCallCheck(this,BA),_super185.apply(this,arguments)}return _createClass(BA,[{key:"refresh",value:function(){var t=Xw(this.editor.model.document.selection);this.isEnabled=iA(t,this.editor.plugins.get(MA))}},{key:"execute",value:function(){var t=this.editor.model,e=this.editor.plugins.get(MA);t.change((function(n){var o=Xw(t.document.selection),i=o.shift(),_ref90=function(t,e,n){var _step439,o=0,i=0,_iterator439=_createForOfIteratorHelper(e);try{for(_iterator439.s();!(_step439=_iterator439.n()).done;){var _t361=_step439.value,_n$getCellLocation4=n.getCellLocation(_t361),_e323=_n$getCellLocation4.row;o=LA(_t361,_n$getCellLocation4.column,o,"colspan"),i=LA(_t361,_e323,i,"rowspan")}}catch(err){_iterator439.e(err)}finally{_iterator439.f()}var _n$getCellLocation3=n.getCellLocation(t),r=_n$getCellLocation3.row;return{mergeWidth:o-_n$getCellLocation3.column,mergeHeight:i-r}}(i,o,e),r=_ref90.mergeWidth,s=_ref90.mergeHeight;zw("colspan",r,i,n),zw("rowspan",s,i,n);var _step440,_iterator440=_createForOfIteratorHelper(o);try{for(_iterator440.s();!(_step440=_iterator440.n()).done;){zA(_step440.value,i,n)}}catch(err){_iterator440.e(err)}finally{_iterator440.f()}AA(i.findAncestor("table"),e),n.setSelection(i,"in")}))}}]),BA}(me);function zA(t,e,n){PA(t)||(PA(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function PA(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}function LA(t,e,n,o){var i=parseInt(t.getAttribute(o)||1);return Math.max(n,e+i)}var OA=function(_me35){_inherits(OA,_me35);var _super186=_createSuper(OA);function OA(t){var _this289;return _classCallCheck(this,OA),(_this289=_super186.call(this,t)).affectsData=!1,_this289}return _createClass(OA,[{key:"refresh",value:function(){var t=eA(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){for(var t=this.editor.model,e=eA(t.document.selection),n=nA(e),o=e[0].findAncestor("table"),i=[],_e324=n.first;_e324<=n.last;_e324++){var _step441,_iterator441=_createForOfIteratorHelper(o.getChild(_e324).getChildren());try{for(_iterator441.s();!(_step441=_iterator441.n()).done;){var _n287=_step441.value;i.push(t.createRangeOn(_n287))}}catch(err){_iterator441.e(err)}finally{_iterator441.f()}}t.change((function(t){t.setSelection(i)}))}}]),OA}(me),RA=function(_me36){_inherits(RA,_me36);var _super187=_createSuper(RA);function RA(t){var _this290;return _classCallCheck(this,RA),(_this290=_super187.call(this,t)).affectsData=!1,_this290}return _createClass(RA,[{key:"refresh",value:function(){var t=eA(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){var _step442,t=this.editor.model,e=eA(t.document.selection),n=e[0],o=e.pop(),i=n.findAncestor("table"),r=this.editor.plugins.get("TableUtils"),s=r.getCellLocation(n),a=r.getCellLocation(o),c=Math.min(s.column,a.column),l=Math.max(s.column,a.column),d=[],_iterator442=_createForOfIteratorHelper(new Fw(i,{startColumn:c,endColumn:l}));try{for(_iterator442.s();!(_step442=_iterator442.n()).done;){var _e325=_step442.value;d.push(t.createRangeOn(_e325.cell))}}catch(err){_iterator442.e(err)}finally{_iterator442.f()}t.change((function(t){t.setSelection(d)}))}}]),RA}(me);function FA(t,e){var n=!1,o=function(t){var _step444,e=parseInt(t.getAttribute("headingRows")||0),n=Array.from(t.getChildren()).reduce((function(t,e){return e.is("element","tableRow")?t+1:t}),0),o=[],_iterator444=_createForOfIteratorHelper(new Fw(t));try{for(_iterator444.s();!(_step444=_iterator444.n()).done;){var _step444$value=_step444.value,_i167=_step444$value.row,_r78=_step444$value.cell,_s48=_step444$value.cellHeight;if(!(_s48<2)){var _t363=_i167<e?e:n;if(_i167+_s48>_t363){var _e327=_t363-_i167;o.push({cell:_r78,rowspan:_e327})}}}}catch(err){_iterator444.e(err)}finally{_iterator444.f()}return o}(t);if(o.length){n=!0;var _step445,_iterator445=_createForOfIteratorHelper(o);try{for(_iterator445.s();!(_step445=_iterator445.n()).done;){var _t364=_step445.value;zw("rowspan",_t364.rowspan,_t364.cell,e,1)}}catch(err){_iterator445.e(err)}finally{_iterator445.f()}}return n}function VA(t,e){var _step447,n=!1,o=function(t){var _step446,e=new Array(t.childCount).fill(0),_iterator446=_createForOfIteratorHelper(new Fw(t,{includeAllSlots:!0}));try{for(_iterator446.s();!(_step446=_iterator446.n()).done;){e[_step446.value.rowIndex]++}}catch(err){_iterator446.e(err)}finally{_iterator446.f()}return e}(t),i=[],_iterator447=_createForOfIteratorHelper(o.entries());try{for(_iterator447.s();!(_step447=_iterator447.n()).done;){var _step447$value=_slicedToArray(_step447.value,2),_e328=_step447$value[0];!_step447$value[1]&&t.getChild(_e328).is("element","tableRow")&&i.push(_e328)}}catch(err){_iterator447.e(err)}finally{_iterator447.f()}if(i.length){n=!0;var _step448,_iterator448=_createForOfIteratorHelper(i.reverse());try{for(_iterator448.s();!(_step448=_iterator448.n()).done;){var _n290=_step448.value;e.remove(t.getChild(_n290)),o.splice(_n290,1)}}catch(err){_iterator448.e(err)}finally{_iterator448.f()}}var r=o.filter((function(e,n){return t.getChild(n).is("element","tableRow")})),s=r[0];if(!r.every((function(t){return t===s}))){var _step449,_o199=r.reduce((function(t,e){return e>t?e:t}),0),_iterator449=_createForOfIteratorHelper(r.entries());try{for(_iterator449.s();!(_step449=_iterator449.n()).done;){var _step449$value=_slicedToArray(_step449.value,2),_i168=_step449$value[0],_r79=_o199-_step449$value[1];if(_r79){for(var _n291=0;_n291<_r79;_n291++)Pw(e,e.createPositionAt(t.getChild(_i168),"end"));n=!0}}}catch(err){_iterator449.e(err)}finally{_iterator449.f()}}return n}function HA(t){var e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function qA(t,e){var _step451,n=!1,_iterator451=_createForOfIteratorHelper(t.getChildren());try{for(_iterator451.s();!(_step451=_iterator451.n()).done;){var _o200=_step451.value;_o200.is("element","tableRow")&&(n=WA(_o200,e)||n)}}catch(err){_iterator451.e(err)}finally{_iterator451.f()}return n}function WA(t,e){var _step452,n=!1,_iterator452=_createForOfIteratorHelper(t.getChildren());try{for(_iterator452.s();!(_step452=_iterator452.n()).done;){n=GA(_step452.value,e)||n}}catch(err){_iterator452.e(err)}finally{_iterator452.f()}return n}function GA(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;var _step453,n=Array.from(t.getChildren()).filter((function(t){return t.is("$text")})),_iterator453=_createForOfIteratorHelper(n);try{for(_iterator453.s();!(_step453=_iterator453.n()).done;){var _t365=_step453.value;e.wrap(e.createRangeOn(_t365),"paragraph")}}catch(err){_iterator453.e(err)}finally{_iterator453.f()}return!!n.length}function YA(t){return!(!t.position||!t.position.parent.is("element","tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function KA(t,e){if(!t.is("element","paragraph"))return!1;var n=e.toViewElement(t);return!!n&&qw(t)!==n.is("element","span")}var ZA=n(3881);Zr()(ZA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ZA.Z.locals;var XA=function(_ue62){_inherits(XA,_ue62);var _super188=_createSuper(XA);function XA(){return _classCallCheck(this,XA),_super188.apply(this,arguments)}return _createClass(XA,[{key:"init",value:function(){var t=this.editor,e=t.model,n=e.schema,o=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowChildren:"$block",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add((function(t){t.on("element:figure",(function(t,e,n){if(n.consumable.test(e.viewItem,{name:!0,classes:"table"})){var o=function(t){var _step459,_iterator459=_createForOfIteratorHelper(t.getChildren());try{for(_iterator459.s();!(_step459=_iterator459.n()).done;){var _e334=_step459.value;if(_e334.is("element","table"))return _e334}}catch(err){_iterator459.e(err)}finally{_iterator459.f()}}(e.viewItem);if(o&&n.consumable.test(o,{name:!0})){n.consumable.consume(e.viewItem,{name:!0,classes:"table"});var i=wa(n.convertItem(o,e.modelCursor).modelRange.getItems());i?(n.convertChildren(e.viewItem,n.writer.createPositionAt(i,"end")),n.updateConversionResult(i,e)):n.consumable.revert(e.viewItem,{name:!0,classes:"table"})}}}))})),o.for("upcast").add((function(t){t.on("element:table",(function(t,e,n){var o=e.viewItem;if(n.consumable.test(o,{name:!0})){var _ref77=function(t){for(var i,e={headingRows:0,headingColumns:0},n=[],o=[],_i151=0,_Array$from7=Array.from(t.getChildren());_i151<_Array$from7.length;_i151++){var _r65=_Array$from7[_i151];if("tbody"===_r65.name||"thead"===_r65.name||"tfoot"===_r65.name){"thead"!==_r65.name||i||(i=_r65);var _step415,_iterator415=_createForOfIteratorHelper(Array.from(_r65.getChildren()).filter((function(t){return t.is("element","tr")})));try{for(_iterator415.s();!(_step415=_iterator415.n()).done;){var _r66=_step415.value;if("thead"===_r66.parent.name&&_r66.parent===i)e.headingRows++,n.push(_r66);else{o.push(_r66);var _t335=jw(_r66);_t335>e.headingColumns&&(e.headingColumns=_t335)}}}catch(err){_iterator415.e(err)}finally{_iterator415.f()}}}return e.rows=[].concat(n,o),e}(o),i=_ref77.rows,r=_ref77.headingRows,s=_ref77.headingColumns,a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);var c=n.writer.createElement("table",a);if(n.safeInsert(c,e.modelCursor)){if(n.consumable.consume(o,{name:!0}),i.forEach((function(t){return n.convertItem(t,n.writer.createPositionAt(c,"end"))})),n.convertChildren(o,n.writer.createPositionAt(c,"end")),c.isEmpty){var _t336=n.writer.createElement("tableRow");n.writer.insert(_t336,n.writer.createPositionAt(c,"end")),Pw(n.writer,n.writer.createPositionAt(_t336,"end"))}n.updateConversionResult(c,e)}}}))})),o.for("editingDowncast").add(Hw({asWidget:!0})),o.for("dataDowncast").add(Hw()),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add((function(t){t.on("element:tr",(function(t,e){e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()}),{priority:"high"})})),o.for("editingDowncast").add((function(t){return t.on("insert:tableRow",(function(t,e,n){var o=e.item;if(n.consumable.consume(o,"insert")){var _step461,i=o.parent,r=function(t){var _step460,_iterator460=_createForOfIteratorHelper(t.getChildren());try{for(_iterator460.s();!(_step460=_iterator460.n()).done;){var _e335=_step460.value;if("table"===_e335.name)return _e335}}catch(err){_iterator460.e(err)}finally{_iterator460.f()}}(n.mapper.toViewElement(i)),s=i.getChildIndex(o),a=new Fw(i,{row:s}),c={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},l=new Map,_iterator461=_createForOfIteratorHelper(a);try{for(_iterator461.s();!(_step461=_iterator461.n()).done;){var _t369=_step461.value,_e336=l.get(s)||Yw(r,o,s,c,n);l.set(s,_e336),n.consumable.consume(_t369.cell,"insert"),Gw(_t369,c,n.writer.createPositionAt(_e336,"end"),n,{asWidget:!0})}}catch(err){_iterator461.e(err)}finally{_iterator461.f()}}}))})),o.for("editingDowncast").add((function(t){return t.on("remove:tableRow",(function(t,e,n){t.stop();var _step462,o=n.writer,i=n.mapper,r=i.toViewPosition(e.position).getLastMatchingPosition((function(t){return!t.item.is("element","tr")})).nodeAfter,s=r.parent.parent,a=o.createRangeOn(r),c=o.remove(a),_iterator462=_createForOfIteratorHelper(o.createRangeIn(c).getItems());try{for(_iterator462.s();!(_step462=_iterator462.n()).done;){var _t370=_step462.value;i.unbindViewElement(_t370)}}catch(err){_iterator462.e(err)}finally{_iterator462.f()}$w("thead",s,n),$w("tbody",s,n)}),{priority:"higher"})})),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add(Rw("td")),o.for("upcast").add(Rw("th")),o.for("editingDowncast").add((function(t){return t.on("insert:tableCell",(function(t,e,n){var o=e.item;if(n.consumable.consume(o,"insert")){var _step463,i=o.parent,r=i.parent,s=r.getChildIndex(i),a=new Fw(r,{row:s}),c={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},_iterator463=_createForOfIteratorHelper(a);try{for(_iterator463.s();!(_step463=_iterator463.n()).done;){var _t371=_step463.value;if(_t371.cell===o){var _e337=n.mapper.toViewElement(i);return void Gw(_t371,c,n.writer.createPositionAt(_e337,i.getChildIndex(o)),n,{asWidget:!0})}}}catch(err){_iterator463.e(err)}finally{_iterator463.f()}}}))})),o.for("editingDowncast").elementToElement({model:"paragraph",view:Uw,converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:tC("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:tC("rowspan")},view:"rowspan"}),o.for("editingDowncast").add((function(t){return t.on("attribute:headingColumns:table",(function(t,e,n){var o=e.item;if(n.consumable.consume(e.item,t.name)){var _step464,i={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},r=e.attributeOldValue,s=e.attributeNewValue,_iterator464=_createForOfIteratorHelper(new Fw(o,{endColumn:(r>s?r:s)-1}));try{for(_iterator464.s();!(_step464=_iterator464.n()).done;){Ww(_step464.value,i,n)}}catch(err){_iterator464.e(err)}finally{_iterator464.f()}}}))})),t.data.mapper.on("modelToViewPosition",(function(t,e){var n=e.modelPosition.parent,o=e.modelPosition.nodeBefore;if(n.is("element","tableCell")&&o&&o.is("element","paragraph")){var i=e.mapper.toViewElement(o),r=e.mapper.toViewElement(n);i===r&&(e.viewPosition=e.mapper.findPositionIn(r,o.maxOffset))}})),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new Jw(t)),t.commands.add("insertTableRowAbove",new lA(t,{order:"above"})),t.commands.add("insertTableRowBelow",new lA(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new dA(t,{order:"left"})),t.commands.add("insertTableColumnRight",new dA(t,{order:"right"})),t.commands.add("removeTableRow",new xA(t)),t.commands.add("removeTableColumn",new EA(t)),t.commands.add("splitTableCellVertically",new hA(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new hA(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new BA(t)),t.commands.add("mergeTableCellRight",new vA(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new vA(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new vA(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new vA(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new IA(t)),t.commands.add("setTableRowHeader",new DA(t)),t.commands.add("selectTableRow",new OA(t)),t.commands.add("selectTableColumn",new RA(t)),function(t){t.document.registerPostFixer((function(){return function(t){var _step457,e=t.document.differ,n=new Set,_iterator457=_createForOfIteratorHelper(e.getChanges());try{for(_iterator457.s();!(_step457=_iterator457.n()).done;){var _t368=_step457.value;if("attribute"===_t368.type){var _e331=_t368.range.start.nodeAfter;_e331&&_e331.is("element","table")&&"headingRows"===_t368.attributeKey&&n.add(_e331)}else if("insert"===_t368.type||"remove"===_t368.type)if("tableRow"===_t368.name){var _e332=_t368.position.findAncestor("table"),_o203=_e332.getAttribute("headingRows")||0;_t368.position.offset<_o203&&n.add(_e332)}else if("tableCell"===_t368.name){var _e333=_t368.position.findAncestor("table"),_o204=_e333.getAttribute("headingColumns")||0;_t368.position.offset<_o204&&n.add(_e333)}}}catch(err){_iterator457.e(err)}finally{_iterator457.f()}if(n.size){var _step458,_iterator458=_createForOfIteratorHelper(n.values());try{for(_iterator458.s();!(_step458=_iterator458.n()).done;){var _t367=_step458.value;e.refreshItem(_t367)}}catch(err){_iterator458.e(err)}finally{_iterator458.f()}return!0}return!1}(t)}))}(e),function(t){t.document.registerPostFixer((function(e){return function(t,e){var _step443,n=e.document.differ.getChanges(),o=!1,i=new Set,_iterator443=_createForOfIteratorHelper(n);try{for(_iterator443.s();!(_step443=_iterator443.n()).done;){var _e326=_step443.value,_n288=void 0;"table"==_e326.name&&"insert"==_e326.type&&(_n288=_e326.position.nodeAfter),"tableRow"!=_e326.name&&"tableCell"!=_e326.name||(_n288=_e326.position.findAncestor("table")),HA(_e326)&&(_n288=_e326.range.start.findAncestor("table")),_n288&&!i.has(_n288)&&(o=FA(_n288,t)||o,o=VA(_n288,t)||o,i.add(_n288))}}catch(err){_iterator443.e(err)}finally{_iterator443.f()}return o}(e,t)}))}(e),function(t,e){t.document.registerPostFixer((function(){return function(t,e){var _step454,n=new Set,_iterator454=_createForOfIteratorHelper(t.getChanges());try{for(_iterator454.s();!(_step454=_iterator454.n()).done;){var _e330=_step454.value,_t366="attribute"==_e330.type?_e330.range.start.parent:_e330.position.parent;_t366.is("element","tableCell")&&n.add(_t366)}}catch(err){_iterator454.e(err)}finally{_iterator454.f()}var _step455,_iterator455=_createForOfIteratorHelper(n.values());try{for(_iterator455.s();!(_step455=_iterator455.n()).done;){var _step456,_iterator456=_createForOfIteratorHelper(_toConsumableArray(_step455.value.getChildren()).filter((function(t){return KA(t,e)})));try{for(_iterator456.s();!(_step456=_iterator456.n()).done;){var _n293=_step456.value;t.refreshItem(_n293)}}catch(err){_iterator456.e(err)}finally{_iterator456.f()}}}catch(err){_iterator455.e(err)}finally{_iterator455.f()}return!1}(t.document.differ,e)}))}(e,t.editing.mapper),function(t){t.document.registerPostFixer((function(e){return function(t,e){var _step450,o=!1,_iterator450=_createForOfIteratorHelper(e.document.differ.getChanges());try{for(_iterator450.s();!(_step450=_iterator450.n()).done;){var _e329=_step450.value;"insert"==_e329.type&&"table"==_e329.name&&(o=qA(_e329.position.nodeAfter,t)||o),"insert"==_e329.type&&"tableRow"==_e329.name&&(o=WA(_e329.position.nodeAfter,t)||o),"insert"==_e329.type&&"tableCell"==_e329.name&&(o=GA(_e329.position.nodeAfter,t)||o),YA(_e329)&&(o=GA(_e329.position.parent,t)||o)}}catch(err){_iterator450.e(err)}finally{_iterator450.f()}return o}(e,t)}))}(e)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[MA]}}]),XA}(ue);function tC(t){return function(e){var n=parseInt(e.getAttribute(t));return Number.isNaN(n)||n<=0?null:n}}var eC=n(1613);Zr()(eC.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),eC.Z.locals;var oC=function(_Dd30){_inherits(oC,_Dd30);var _super189=_createSuper(oC);function oC(t){var _this291;_classCallCheck(this,oC);var e=(_this291=_super189.call(this,t)).bindTemplate;return _this291.items=_this291._createGridCollection(),_this291.set("rows",0),_this291.set("columns",0),_this291.bind("label").to(_assertThisInitialized(_this291),"columns",_assertThisInitialized(_this291),"rows",(function(t,e){return"".concat(e,"  ").concat(t)})),_this291.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:_this291.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to((function(t){t.preventDefault()})),click:e.to((function(){_this291.fire("execute")}))}}),_this291.on("boxover",(function(t,e){var _e$target$dataset=e.target.dataset,n=_e$target$dataset.row,o=_e$target$dataset.column;_this291.set({rows:parseInt(n),columns:parseInt(o)})})),_this291.on("change:columns",(function(){_this291._highlightGridBoxes()})),_this291.on("change:rows",(function(){_this291._highlightGridBoxes()})),_this291}return _createClass(oC,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var t=this.rows,e=this.columns;this.items.map((function(n,o){var i=Math.floor(o/10)<t&&o%10<e;n.set("isOn",i)}))}},{key:"_createGridCollection",value:function(){for(var t=[],_e338=0;_e338<100;_e338++){var _n294=Math.floor(_e338/10),_o205=_e338%10;t.push(new iC(this.locale,_n294+1,_o205+1))}return this.createCollection(t)}}]),oC}(Dd),iC=function(_Dd31){_inherits(iC,_Dd31);var _super190=_createSuper(iC);function iC(t,e,n){var _this292;_classCallCheck(this,iC);var o=(_this292=_super190.call(this,t)).bindTemplate;return _this292.set("isOn",!1),_this292.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",o.if("isOn","ck-on")],"data-row":e,"data-column":n}}),_this292}return iC}(Dd),rC=function(_ue63){_inherits(rC,_ue63);var _super191=_createSuper(rC);function rC(){return _classCallCheck(this,rC),_super191.apply(this,arguments)}return _createClass(rC,[{key:"init",value:function(){var _this293=this,t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(function(n){var r,o=t.commands.get("insertTable"),i=Uh(n);return i.bind("isEnabled").to(o),i.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("Insert table"),tooltip:!0}),i.on("change:isOpen",(function(){r||(r=new oC(n),i.panelView.children.add(r),r.delegate("execute").to(i),i.buttonView.on("open",(function(){r.rows=0,r.columns=0})),i.on("execute",(function(){t.execute("insertTable",{rows:r.rows,columns:r.columns}),t.editing.view.focus()})))})),i})),t.ui.componentFactory.add("tableColumn",(function(t){var o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return _this293._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',o,t)})),t.ui.componentFactory.add("tableRow",(function(t){var n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return _this293._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)})),t.ui.componentFactory.add("mergeTableCells",(function(t){var o=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return _this293._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',o,t)}))}},{key:"_prepareDropdown",value:function(t,e,n,o){var i=this.editor,r=Uh(o),s=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:t,icon:e,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",(function(){for(var _len28=arguments.length,t=new Array(_len28),_key28=0;_key28<_len28;_key28++)t[_key28]=arguments[_key28];return t.some((function(t){return t}))})),this.listenTo(r,"execute",(function(t){i.execute(t.source.commandName),i.editing.view.focus()})),r}},{key:"_prepareMergeSplitButtonDropdown",value:function(t,e,n,o){var i=this.editor,r=Uh(o,mh),s="mergeTableCells",a=i.commands.get(s),c=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),r.bind("isEnabled").toMany([a].concat(_toConsumableArray(c)),"isEnabled",(function(){for(var _len29=arguments.length,t=new Array(_len29),_key29=0;_key29<_len29;_key29++)t[_key29]=arguments[_key29];return t.some((function(t){return t}))})),this.listenTo(r.buttonView,"execute",(function(){i.execute(s),i.editing.view.focus()})),this.listenTo(r,"execute",(function(t){i.execute(t.source.commandName),i.editing.view.focus()})),r}},{key:"_fillDropdownWithListOptions",value:function(t,e){var _step465,n=this.editor,o=[],i=new Io,_iterator465=_createForOfIteratorHelper(e);try{for(_iterator465.s();!(_step465=_iterator465.n()).done;){sC(_step465.value,n,o,i)}}catch(err){_iterator465.e(err)}finally{_iterator465.f()}return Wh(t,i,n.ui.componentFactory),o}}],[{key:"pluginName",get:function(){return"TableUI"}}]),rC}(ue);function sC(t,e,n,o){var i=t.model=new uu(t.model),_t$model2=t.model,r=_t$model2.commandName,s=_t$model2.bindIsOn;if("button"===t.type||"switchbutton"===t.type){var _t374=e.commands.get(r);n.push(_t374),i.set({commandName:r}),i.bind("isEnabled").to(_t374),s&&i.bind("isOn").to(_t374,"value")}i.set({withText:!0}),o.add(t)}var aC=n(6945);Zr()(aC.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),aC.Z.locals;var lC=function(_ue64){_inherits(lC,_ue64);var _super192=_createSuper(lC);function lC(){return _classCallCheck(this,lC),_super192.apply(this,arguments)}return _createClass(lC,[{key:"init",value:function(){var _this294=this,t=this.editor.model;this.listenTo(t,"deleteContent",(function(t,e){return _this294._handleDeleteContent(t,e)}),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var t=Xw(this.editor.model.document.selection);return 0==t.length?null:t}},{key:"getSelectionAsFragment",value:function(){var _this295=this,t=this.getSelectedTableCells();return t?this.editor.model.change((function(e){var n=e.createDocumentFragment(),o=_this295.editor.plugins.get("TableUtils"),_oA3=oA(t),i=_oA3.first,r=_oA3.last,_nA2=nA(t),s=_nA2.first,a=_nA2.last,c=t[0].findAncestor("table"),l=a,d=r;if(iA(t,o)){var _t375={firstColumn:i,lastColumn:r,firstRow:s,lastRow:a};l=CA(c,_t375),d=_A(c,_t375)}var h=uA(c,{startRow:s,startColumn:i,endRow:l,endColumn:d},e);return e.insert(h,n,0),n})):null}},{key:"setCellSelection",value:function(t,e){var n=this._getCellsToSelect(t,e);this.editor.model.change((function(t){t.setSelection(n.cells.map((function(e){return t.createRangeOn(e)})),{backward:n.backward})}))}},{key:"getFocusCell",value:function(){var t=_toConsumableArray(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}},{key:"getAnchorCell",value:function(){var t=wa(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}},{key:"_defineSelectionConverter",value:function(){var _this296=this,t=this.editor,e=new Set;t.conversion.for("editingDowncast").add((function(t){return t.on("selection",(function(t,n,o){var i=o.writer;!function(t){var _step466,_iterator466=_createForOfIteratorHelper(e);try{for(_iterator466.s();!(_step466=_iterator466.n()).done;){var _n295=_step466.value;t.removeClass("ck-editor__editable_selected",_n295)}}catch(err){_iterator466.e(err)}finally{_iterator466.f()}e.clear()}(i);var r=_this296.getSelectedTableCells();if(r){var _step467,_iterator467=_createForOfIteratorHelper(r);try{for(_iterator467.s();!(_step467=_iterator467.n()).done;){var _t376=_step467.value,_n296=o.mapper.toViewElement(_t376);i.addClass("ck-editor__editable_selected",_n296),e.add(_n296)}}catch(err){_iterator467.e(err)}finally{_iterator467.f()}var s=o.mapper.toViewElement(r[r.length-1]);i.setSelection(s,0)}}),{priority:"lowest"})}))}},{key:"_enablePluginDisabling",value:function(){var _this297=this,t=this.editor;this.on("change:isEnabled",(function(){if(!_this297.isEnabled){var _e339=_this297.getSelectedTableCells();if(!_e339)return;t.model.change((function(n){var o=n.createPositionAt(_e339[0],0),i=t.model.schema.getNearestSelectionRange(o);n.setSelection(i)}))}}))}},{key:"_handleDeleteContent",value:function(t,e){var _e340=_slicedToArray(e,2),n=_e340[0],o=_e340[1],i=this.editor.model,r=!o||"backward"==o.direction,s=Xw(n);s.length&&(t.stop(),i.change((function(t){var e=s[r?s.length-1:0];i.change((function(t){var _step468,_iterator468=_createForOfIteratorHelper(s);try{for(_iterator468.s();!(_step468=_iterator468.n()).done;){var _e341=_step468.value;i.deleteContent(t.createSelection(_e341,"in"))}}catch(err){_iterator468.e(err)}finally{_iterator468.f()}}));var o=i.schema.getNearestSelectionRange(t.createPositionAt(e,0));n.is("documentSelection")?t.setSelection(o):n.setTo(o)})))}},{key:"_getCellsToSelect",value:function(t,e){var _step469,n=this.editor.plugins.get("TableUtils"),o=n.getCellLocation(t),i=n.getCellLocation(e),r=Math.min(o.row,i.row),s=Math.max(o.row,i.row),a=Math.min(o.column,i.column),c=Math.max(o.column,i.column),l=new Array(s-r+1).fill(null).map((function(){return[]})),d={startRow:r,endRow:s,startColumn:a,endColumn:c},_iterator469=_createForOfIteratorHelper(new Fw(t.findAncestor("table"),d));try{for(_iterator469.s();!(_step469=_iterator469.n()).done;){var _step469$value=_step469.value,_e342=_step469$value.row,_n297=_step469$value.cell;l[_e342-r].push(_n297)}}catch(err){_iterator469.e(err)}finally{_iterator469.f()}var h=i.row<o.row,u=i.column<o.column;return h&&l.reverse(),u&&l.forEach((function(t){return t.reverse()})),{cells:l.flat(),backward:h||u}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[MA]}}]),lC}(ue),dC=function(_ue65){_inherits(dC,_ue65);var _super193=_createSuper(dC);function dC(){return _classCallCheck(this,dC),_super193.apply(this,arguments)}return _createClass(dC,[{key:"init",value:function(){var _this298=this,t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(function(t,e){return _this298._onCopyCut(t,e)})),this.listenTo(e,"cut",(function(t,e){return _this298._onCopyCut(t,e)})),this.listenTo(t.model,"insertContent",(function(t,e){return _this298._onInsertContent.apply(_this298,[t].concat(_toConsumableArray(e)))}),{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(t,e){var n=this.editor.plugins.get(lC);if(n.getSelectedTableCells()&&("cut"!=t.name||!this.editor.isReadOnly)){e.preventDefault(),t.stop();var o=this.editor.data,i=this.editor.editing.view.document,r=o.toView(n.getSelectionAsFragment());i.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:r,method:t.name})}}},{key:"_onInsertContent",value:function(t,e,n){var _this299=this;if(!n||n.is("documentSelection")){var o=this.editor.model,i=this.editor.plugins.get(MA),r=function(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);var _step470,n=e.createRangeIn(t),_iterator470=_createForOfIteratorHelper(n.getItems());try{for(_iterator470.s();!(_step470=_iterator470.n()).done;){var _t377=_step470.value;if(_t377.is("element","table")){var _o206=e.createRange(n.start,e.createPositionBefore(_t377));if(e.hasContent(_o206,{ignoreWhitespaces:!0}))return null;var _i169=e.createRange(e.createPositionAfter(_t377),n.end);return e.hasContent(_i169,{ignoreWhitespaces:!0})?null:_t377}}}catch(err){_iterator470.e(err)}finally{_iterator470.f()}return null}(e,o);if(r){var s=eA(o.document.selection);s.length?(t.stop(),o.change((function(t){var e={width:i.getColumns(r),height:i.getRows(r)},n=function(t,e,n,o){var i=t[0].findAncestor("table"),r=oA(t),s=nA(t),a={firstColumn:r.first,lastColumn:r.last,firstRow:s.first,lastRow:s.last},c=1===t.length;return c&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,function(t,e,n,o){var i=o.getColumns(t),r=o.getRows(t);n>i&&o.insertColumns(t,{at:i,columns:n-i}),e>r&&o.insertRows(t,{at:r,rows:e-r})}(i,a.lastRow+1,a.lastColumn+1,o)),c||!iA(t,o)?function(t,e,n){var o=e.firstRow,i=e.lastRow,r=e.firstColumn,s=e.lastColumn,a={first:o,last:i},c={first:r,last:s};uC(t,r,a,n),uC(t,s+1,a,n),hC(t,o,c,n),hC(t,i+1,c,n,o)}(i,a,n):(a.lastRow=CA(i,a),a.lastColumn=_A(i,a)),a}(s,e,t,i),o=n.lastRow-n.firstRow+1,a=n.lastColumn-n.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(o,e.height)-1,endColumn:Math.min(a,e.width)-1};r=uA(r,c,t);var l=s[0].findAncestor("table"),d=_this299._replaceSelectedCellsWithPasted(r,e,l,n,t);if(_this299.editor.plugins.get("TableSelection").isEnabled){var _e343=rA(d.map((function(e){return t.createRangeOn(e)})));t.setSelection(_e343)}else t.setSelection(d[0],0)}))):AA(r,i)}}}},{key:"_replaceSelectedCellsWithPasted",value:function(t,e,n,o,i){for(var d,r=e.width,s=e.height,a=function(t,e,n){var _step471,o=new Array(n).fill(null).map((function(){return new Array(e).fill(null)})),_iterator471=_createForOfIteratorHelper(new Fw(t));try{for(_iterator471.s();!(_step471=_iterator471.n()).done;){var _step471$value=_step471.value,_e344=_step471$value.column,_n298=_step471$value.row,_i170=_step471$value.cell;o[_n298][_e344]=_i170}}catch(err){_iterator471.e(err)}finally{_iterator471.f()}return o}(t,r,s),l=[],_i171=0,_c21=_toConsumableArray(new Fw(n,{startRow:o.firstRow,endRow:o.lastRow,startColumn:o.firstColumn,endColumn:o.lastColumn,includeAllSlots:!0}));_i171<_c21.length;_i171++){var _t378=_c21[_i171],_e345=_t378.row,_n299=_t378.column;_n299===o.firstColumn&&(d=_t378.getPositionBefore());var _c22=_e345-o.firstRow,_h6=_n299-o.firstColumn,_u4=a[_c22%s][_h6%r],_g3=_u4?i.cloneElement(_u4):null,_m2=this._replaceTableSlotCell(_t378,_g3,d,i);_m2&&(kA(_m2,_e345,_n299,o.lastRow,o.lastColumn,i),l.push(_m2),d=i.createPositionAfter(_m2))}var h=parseInt(n.getAttribute("headingRows")||0),u=parseInt(n.getAttribute("headingColumns")||0),g=o.firstRow<h&&h<=o.lastRow,m=o.firstColumn<u&&u<=o.lastColumn;if(g){var _t379=hC(n,h,{first:o.firstColumn,last:o.lastColumn},i,o.firstRow);l.push.apply(l,_toConsumableArray(_t379))}if(m){var _t380=uC(n,u,{first:o.firstRow,last:o.lastRow},i);l.push.apply(l,_toConsumableArray(_t380))}return l}},{key:"_replaceTableSlotCell",value:function(t,e,n,o){var i=t.cell;return t.isAnchor&&o.remove(i),e?(o.insert(e,n),e):null}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[lC,MA]}}]),dC}(ue);function hC(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!(e<1))return gA(t,e,i).filter((function(_ref91){return gC(_ref91.column,_ref91.cellWidth,n)})).map((function(_ref92){return mA(_ref92.cell,e,o)}))}function uC(t,e,n,o){if(!(e<1))return pA(t,e).filter((function(_ref93){return gC(_ref93.row,_ref93.cellHeight,n)})).map((function(_ref94){return fA(_ref94.cell,_ref94.column,e,o)}))}function gC(t,e,n){var o=t+e-1,i=n.first,r=n.last;return t>=i&&t<=r||t<i&&o>=i}var mC=function(_ue66){_inherits(mC,_ue66);var _super194=_createSuper(mC);function mC(){return _classCallCheck(this,mC),_super194.apply(this,arguments)}return _createClass(mC,[{key:"init",value:function(){var _this300=this,t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(function(){return _this300._handleTabOnSelectedTable.apply(_this300,arguments)}),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"arrowKey",(function(){return _this300._onArrowKey.apply(_this300,arguments)}),{context:"table"})}},{key:"_handleTabOnSelectedTable",value:function(t,e){var n=this.editor,o=n.model.document.selection.getSelectedElement();o&&o.is("element","table")&&(e(),n.model.change((function(t){t.setSelection(t.createRangeIn(o.getChild(0).getChild(0)))})))}},{key:"_getTabHandler",value:function(t){var _this301=this,e=this.editor;return function(n,o){var i=tA(e.model.document.selection)[0];if(i||(i=_this301.editor.plugins.get("TableSelection").getFocusCell()),i){o();var r=i.parent,s=r.parent,a=s.getChildIndex(r),c=r.getChildIndex(i),l=0===c;if(t||!l||0!==a){var d=_this301.editor.plugins.get("TableUtils"),h=c===r.childCount-1,u=a===d.getRows(s)-1;if(t&&u&&h&&(e.execute("insertTableRowBelow"),a===d.getRows(s)-1))e.model.change((function(t){t.setSelection(t.createRangeOn(s))}));else{var g;if(t&&h){var _t381=s.getChild(a+1);g=_t381.getChild(0)}else if(!t&&l){var _t382=s.getChild(a-1);g=_t382.getChild(_t382.childCount-1)}else g=r.getChild(c+(t?1:-1));e.model.change((function(t){t.setSelection(t.createRangeIn(g))}))}}else e.model.change((function(t){t.setSelection(t.createRangeOn(s))}))}}}},{key:"_onArrowKey",value:function(t,e){var n=this.editor,o=pr(e.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(o,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}},{key:"_handleArrowKeys",value:function(t,e){var _n300,n=this.editor.model,o=n.document.selection,i=["right","down"].includes(t),r=Xw(o);if(r.length)return _n300=e?this.editor.plugins.get("TableSelection").getFocusCell():i?r[r.length-1]:r[0],this._navigateFromCellInDirection(_n300,t,e),!0;var s=o.focus.findAncestor("tableCell");if(!s)return!1;if(!o.isCollapsed)if(e){if(o.isBackward==i&&!o.containsEntireContent(s))return!1}else{var _t383=o.getSelectedElement();if(!_t383||!n.schema.isObject(_t383))return!1}return!!this._isSelectionAtCellEdge(o,s,i)&&(this._navigateFromCellInDirection(s,t,e),!0)}},{key:"_isSelectionAtCellEdge",value:function(t,e,n){var o=this.editor.model,i=this.editor.model.schema,r=n?t.getLastPosition():t.getFirstPosition();if(!i.getLimitElement(r).is("element","tableCell"))return o.createPositionAt(e,n?"end":0).isTouching(r);var s=o.createSelection(r);return o.modifySelection(s,{direction:n?"forward":"backward"}),r.isEqual(s.focus)}},{key:"_navigateFromCellInDirection",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.editor.model,i=t.findAncestor("table"),r=_toConsumableArray(new Fw(i,{includeAllSlots:!0})),_r80=r[r.length-1],s=_r80.row,a=_r80.column,c=r.find((function(_ref95){return _ref95.cell==t})),l=c.row,d=c.column;switch(e){case"left":d--;break;case"up":l--;break;case"right":d+=c.cellWidth;break;case"down":l+=c.cellHeight}if(l<0||l>s||d<0&&l<=0||d>a&&l>=s)o.change((function(t){t.setSelection(t.createRangeOn(i))}));else{d<0?(d=n?0:a,l--):d>a&&(d=n?a:0,l++);var h=r.find((function(t){return t.row==l&&t.column==d})).cell,u=["right","down"].includes(e),g=this.editor.plugins.get("TableSelection");if(n&&g.isEnabled){var _e346=g.getAnchorCell()||t;g.setCellSelection(_e346,h)}else{var _t384=o.createPositionAt(h,u?0:"end");o.change((function(e){e.setSelection(_t384)}))}}}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[lC]}}]),mC}(ue),pC=function(_qs8){_inherits(pC,_qs8);var _super195=_createSuper(pC);function pC(t){var _this302;return _classCallCheck(this,pC),(_this302=_super195.call(this,t)).domEventType=["mousemove","mouseleave"],_this302}return _createClass(pC,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),pC}(qs),fC=function(_ue67){_inherits(fC,_ue67);var _super196=_createSuper(fC);function fC(){return _classCallCheck(this,fC),_super196.apply(this,arguments)}return _createClass(fC,[{key:"init",value:function(){this.editor.editing.view.addObserver(pC),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var _this303=this,t=this.editor,e=!1,n=t.plugins.get(lC);this.listenTo(t.editing.view.document,"mousedown",(function(o,i){if(_this303.isEnabled&&n.isEnabled&&i.domEvent.shiftKey){var r=n.getAnchorCell()||tA(t.model.document.selection)[0];if(r){var s=_this303._getModelTableCellFromDomEvent(i);s&&kC(r,s)&&(e=!0,n.setCellSelection(r,s),i.preventDefault())}}})),this.listenTo(t.editing.view.document,"mouseup",(function(){e=!1})),this.listenTo(t.editing.view.document,"selectionChange",(function(t){e&&t.stop()}),{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,n,_this304=this,t=this.editor,o=!1,i=!1,r=t.plugins.get(lC);this.listenTo(t.editing.view.document,"mousedown",(function(t,n){_this304.isEnabled&&r.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=_this304._getModelTableCellFromDomEvent(n)))})),this.listenTo(t.editing.view.document,"mousemove",(function(t,s){if(s.domEvent.buttons&&e){var a=_this304._getModelTableCellFromDomEvent(s);a&&kC(e,a)&&(n=a,o||n==e||(o=!0)),o&&(i=!0,r.setCellSelection(e,n),s.preventDefault())}})),this.listenTo(t.editing.view.document,"mouseup",(function(){o=!1,i=!1,e=null,n=null})),this.listenTo(t.editing.view.document,"selectionChange",(function(t){i&&t.stop()}),{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(t){var e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[lC]}}]),fC}(ue);function kC(t,e){return t.parent.parent==e.parent.parent}var bC=n(6306);function AC(t){var e=t.getSelectedElement();return e&&_C(e)?e:null}function CC(t){for(var e=t.getFirstPosition().parent;e;){if(e.is("element")&&_C(e))return e;e=e.parent}return null}function _C(t){return!!t.getCustomProperty("table")&&Tg(t)}Zr()(bC.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),bC.Z.locals;var vC={autoRefresh:!0},xC=function(){function xC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vC;if(_classCallCheck(this,xC),!t)throw new a("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:function(){return e=t,new Promise((function(t,n){var o=new XMLHttpRequest;o.open("GET",e),o.addEventListener("load",(function(){var e=o.status,i=o.response;return e<200||e>299?n(new a("token-cannot-download-new-token",null)):t(i)})),o.addEventListener("error",(function(){return n(new Error("Network Error"))})),o.addEventListener("abort",(function(){return n(new Error("Abort"))})),o.send()}));var e},this._options=Object.assign({},vC,e)}return _createClass(xC,[{key:"init",value:function(){var _this305=this;return new Promise((function(t,e){_this305.value?(_this305._options.autoRefresh&&_this305._registerRefreshTokenTimeout(),t(_this305)):_this305.refreshToken().then(t).catch(e)}))}},{key:"refreshToken",value:function(){var _this306=this;return this._refresh().then((function(t){_this306._validateTokenValue(t),_this306.set("value",t),_this306._options.autoRefresh&&_this306._registerRefreshTokenTimeout()})).then((function(){return _this306}))}},{key:"destroy",value:function(){clearTimeout(this._tokenRefreshTimeout)}},{key:"_validateTokenValue",value:function(t){var e="string"==typeof t,n=!/^".*"$/.test(t),o=e&&3===t.split(".").length;if(!n||!o)throw new a("token-not-in-jwt-format",this)}},{key:"_registerRefreshTokenTimeout",value:function(){var _this307=this,t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((function(){_this307.refreshToken()}),t)}},{key:"_getTokenRefreshTimeoutTime",value:function(){try{var _t385=_slicedToArray(this.value.split("."),2)[1],_e347=JSON.parse(atob(_t385)).exp;return _e347?Math.floor((1e3*_e347-Date.now())/2):36e5}catch(t){return 36e5}}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vC;return new xC(t,e).init()}}]),xC}();he(xC,re);var EC=xC,DC=/^data:(\S*?);base64,/,IC=function(){function IC(t,e,n){if(_classCallCheck(this,IC),!t)throw new a("fileuploader-missing-file",null);if(!e)throw new a("fileuploader-missing-token",null);if(!n)throw new a("fileuploader-missing-api-address",null);this.file=function(t){if("string"!=typeof t)return!1;var e=t.match(DC);return!(!e||!e.length)}(t)?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{for(var _n301=t.match(DC)[1],_o207=atob(t.replace(DC,"")),_i172=[],_t386=0;_t386<_o207.length;_t386+=e){for(var _n302=_o207.slice(_t386,_t386+e),_r81=new Array(_n302.length),_t387=0;_t387<_n302.length;_t387++)_r81[_t387]=_n302.charCodeAt(_t387);_i172.push(new Uint8Array(_r81))}return new Blob(_i172,{type:_n301})}catch(t){throw new a("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=n}return _createClass(IC,[{key:"onProgress",value:function(t){return this.on("progress",(function(e,n){return t(n)})),this}},{key:"onError",value:function(t){return this.once("error",(function(e,n){return t(n)})),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}},{key:"_attachXHRListeners",value:function(){var _this308=this,t=this,e=this.xhr;function n(e){return function(){return t.fire("error",e)}}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",(function(t){t.lengthComputable&&_this308.fire("progress",{total:t.total,uploaded:t.loaded})})),e.addEventListener("load",(function(){var t=e.status,n=e.response;if(t<200||t>299)return _this308.fire("error",n.message||n.error)}))}},{key:"_sendRequest",value:function(){var _this309=this,t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((function(n,o){e.addEventListener("load",(function(){var t=e.status,i=e.response;return t<200||t>299?i.message?o(new a("fileuploader-uploading-data-failed",_this309,{message:i.message})):o(i.error):n(i)})),e.addEventListener("error",(function(){return o(new Error("Network Error"))})),e.addEventListener("abort",(function(){return o(new Error("Abort"))})),e.send(t)}))}}]),IC}();he(IC,f);var MC=function(){function MC(t,e){if(_classCallCheck(this,MC),!t)throw new a("uploadgateway-missing-token",null);if(!e)throw new a("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}return _createClass(MC,[{key:"upload",value:function(t){return new IC(t,this._token,this._apiAddress)}}]),MC}(),TC=function(_Lo3){_inherits(TC,_Lo3);var _super197=_createSuper(TC);function TC(){return _classCallCheck(this,TC),_super197.apply(this,arguments)}return _createClass(TC,[{key:"createToken",value:function(t,e){return new EC(t,e)}},{key:"createUploadGateway",value:function(t,e){return new MC(t,e)}}],[{key:"pluginName",get:function(){return"CloudServicesCore"}}]),TC}(Lo),SC=function(_sg){_inherits(SC,_sg);var _super198=_createSuper(SC);function SC(){return _classCallCheck(this,SC),_super198.apply(this,arguments)}return SC}(sg);SC.builtinPlugins=[function(_ue68){_inherits(_class3,_ue68);var _super199=_createSuper(_class3);function _class3(){return _classCallCheck(this,_class3),_super199.apply(this,arguments)}return _createClass(_class3,null,[{key:"requires",get:function(){return[um,fg,_m,fm,Im,op]}},{key:"pluginName",get:function(){return"Essentials"}}]),_class3}(ue),function(_ue69){_inherits(_class4,_ue69);var _super200=_createSuper(_class4);function _class4(){return _classCallCheck(this,_class4),_super200.apply(this,arguments)}return _createClass(_class4,[{key:"init",value:function(){var _this310=this,t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(rp).createUploadAdapter=function(e){return new up(e,t,_this310.editor.t)})}}],[{key:"requires",get:function(){return[rp]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),_class4}(ue),function(_ue70){_inherits(_class5,_ue70);var _super201=_createSuper(_class5);function _class5(){return _classCallCheck(this,_class5),_super201.apply(this,arguments)}return _createClass(_class5,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}},{key:"_addListAutoformats",value:function(){var _this311=this,t=this.editor.commands;t.get("bulletedList")&&gp(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&gp(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&gp(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&gp(this.editor,this,/^\[\s?x\s?\]\s$/,(function(){_this311.editor.execute("todoList"),_this311.editor.execute("checkTodoList")}))}},{key:"_addBasicStylesAutoformats",value:function(){var t=this.editor.commands;if(t.get("bold")){var _t388=fp(this.editor,"bold");mp(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,_t388),mp(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,_t388)}if(t.get("italic")){var _t389=fp(this.editor,"italic");mp(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,_t389),mp(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,_t389)}if(t.get("code")){var _t390=fp(this.editor,"code");mp(this.editor,this,/(`)([^`]+)(`)$/g,_t390)}if(t.get("strikethrough")){var _t391=fp(this.editor,"strikethrough");mp(this.editor,this,/(~~)([^~]+)(~~)$/g,_t391)}}},{key:"_addHeadingAutoformats",value:function(){var _this312=this,t=this.editor.commands.get("heading");t&&t.modelElements.filter((function(t){return t.match(/^heading[1-6]$/)})).forEach((function(e){var n=e[7],o=new RegExp("^(#{".concat(n,"})\\s$"));gp(_this312.editor,_this312,o,(function(){if(!t.isEnabled||t.value===e)return!1;_this312.editor.execute("heading",{value:e})}))}))}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&gp(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){var _this313=this,t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&gp(t,this,/^```$/,(function(){if(e.getFirstPosition().parent.is("element","listItem"))return!1;_this313.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}},{key:"_addHorizontalLineAutoformats",value:function(){this.editor.commands.get("horizontalLine")&&gp(this.editor,this,/^---$/,"horizontalLine")}}],[{key:"requires",get:function(){return[vg]}},{key:"pluginName",get:function(){return"Autoformat"}}]),_class5}(ue),function(_ue71){_inherits(_class6,_ue71);var _super202=_createSuper(_class6);function _class6(){return _classCallCheck(this,_class6),_super202.apply(this,arguments)}return _createClass(_class6,null,[{key:"requires",get:function(){return[wp,Cp]}},{key:"pluginName",get:function(){return"Bold"}}]),_class6}(ue),function(_ue72){_inherits(_class7,_ue72);var _super203=_createSuper(_class7);function _class7(){return _classCallCheck(this,_class7),_super203.apply(this,arguments)}return _createClass(_class7,null,[{key:"requires",get:function(){return[vp,xp]}},{key:"pluginName",get:function(){return"Italic"}}]),_class7}(ue),function(_ue73){_inherits(_class8,_ue73);var _super204=_createSuper(_class8);function _class8(){return _classCallCheck(this,_class8),_super204.apply(this,arguments)}return _createClass(_class8,null,[{key:"requires",get:function(){return[Tp,Bp]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),_class8}(ue),function(_ue74){_inherits(_class9,_ue74);var _super205=_createSuper(_class9);function _class9(){return _classCallCheck(this,_class9),_super205.apply(this,arguments)}return _createClass(_class9,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return["Link","CKFinderUploadAdapter",Op,zp]}}]),_class9}(ue),function(_Lo4){_inherits(_class10,_Lo4);var _super206=_createSuper(_class10);function _class10(){return _classCallCheck(this,_class10),_super206.apply(this,arguments)}return _createClass(_class10,[{key:"init",value:function(){var t=this.context.config.get("cloudServices")||{};for(var _e348 in t)this[_e348]=t[_e348];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}},{key:"registerTokenUrl",value:function(t){if(this._tokens.has(t))return Promise.resolve(this.getTokenFor(t));var e=this.context.plugins.get("CloudServicesCore").createToken(t);return this._tokens.set(t,e),e.init()}},{key:"getTokenFor",value:function(t){var e=this._tokens.get(t);if(!e)throw new a("cloudservices-token-not-registered",this);return e}},{key:"destroy",value:function(){_get(_getPrototypeOf(_class10.prototype),"destroy",this).call(this);var _step472,_iterator472=_createForOfIteratorHelper(this._tokens.values());try{for(_iterator472.s();!(_step472=_iterator472.n()).done;){_step472.value.destroy()}}catch(err){_iterator472.e(err)}finally{_iterator472.f()}}}],[{key:"pluginName",get:function(){return"CloudServices"}},{key:"requires",get:function(){return[TC]}}]),_class10}(Lo),function(_ue75){_inherits(_class11,_ue75);var _super207=_createSuper(_class11);function _class11(){return _classCallCheck(this,_class11),_super207.apply(this,arguments)}return _createClass(_class11,[{key:"init",value:function(){var t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||c("easy-image-image-feature-missing",t)}}],[{key:"requires",get:function(){return[Rp,"ImageUpload"]}},{key:"pluginName",get:function(){return"EasyImage"}}]),_class11}(ue),function(_ue76){_inherits(_class12,_ue76);var _super208=_createSuper(_class12);function _class12(){return _classCallCheck(this,_class12),_super208.apply(this,arguments)}return _createClass(_class12,null,[{key:"requires",get:function(){return[Yp,$p]}},{key:"pluginName",get:function(){return"Heading"}}]),_class12}(ue),function(_ue77){_inherits(_class13,_ue77);var _super209=_createSuper(_class13);function _class13(){return _classCallCheck(this,_class13),_super209.apply(this,arguments)}return _createClass(_class13,null,[{key:"requires",get:function(){return[Sf,Bf]}},{key:"pluginName",get:function(){return"Image"}}]),_class13}(ue),function(_ue78){_inherits(_class14,_ue78);var _super210=_createSuper(_class14);function _class14(){return _classCallCheck(this,_class14),_super210.apply(this,arguments)}return _createClass(_class14,null,[{key:"requires",get:function(){return[Of,jf]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),_class14}(ue),function(_ue79){_inherits(_class15,_ue79);var _super211=_createSuper(_class15);function _class15(){return _classCallCheck(this,_class15),_super211.apply(this,arguments)}return _createClass(_class15,null,[{key:"requires",get:function(){return[nk,rk]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),_class15}(ue),function(_ue80){_inherits(_class16,_ue80);var _super212=_createSuper(_class16);function _class16(){return _classCallCheck(this,_class16),_super212.apply(this,arguments)}return _createClass(_class16,[{key:"afterInit",value:function(){var i,t=this.editor,e=t.t,n=t.plugins.get(Zp),o=t.plugins.get("ImageUtils");n.register("image",{ariaLabel:e("Image toolbar"),items:(i=t.config.get("image.toolbar")||[],i.map((function(t){return y(t)?t.name:t}))),getRelatedElement:function(t){return o.getClosestSelectedImageWidget(t)}})}}],[{key:"requires",get:function(){return[Zp,hf]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),_class16}(ue),function(_ue81){_inherits(_class17,_ue81);var _super213=_createSuper(_class17);function _class17(){return _classCallCheck(this,_class17),_super213.apply(this,arguments)}return _createClass(_class17,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[Ek,uk,wk]}}]),_class17}(ue),function(_ue82){_inherits(_class18,_ue82);var _super214=_createSuper(_class18);function _class18(){return _classCallCheck(this,_class18),_super214.apply(this,arguments)}return _createClass(_class18,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[Ik,Sk]}}]),_class18}(ue),function(_ue83){_inherits(_class19,_ue83);var _super215=_createSuper(_class19);function _class19(){return _classCallCheck(this,_class19),_super215.apply(this,arguments)}return _createClass(_class19,null,[{key:"requires",get:function(){return[mb,xb,Ib]}},{key:"pluginName",get:function(){return"Link"}}]),_class19}(ue),function(_ue84){_inherits(_class20,_ue84);var _super216=_createSuper(_class20);function _class20(){return _classCallCheck(this,_class20),_super216.apply(this,arguments)}return _createClass(_class20,null,[{key:"requires",get:function(){return[tw,nw]}},{key:"pluginName",get:function(){return"List"}}]),_class20}(ue),function(_ue85){_inherits(_class21,_ue85);var _super217=_createSuper(_class21);function _class21(){return _classCallCheck(this,_class21),_super217.apply(this,arguments)}return _createClass(_class21,null,[{key:"requires",get:function(){return[uw,bw,mw,em]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),_class21}(ue),Up,function(_ue86){_inherits(_class22,_ue86);var _super218=_createSuper(_class22);function _class22(){return _classCallCheck(this,_class22),_super218.apply(this,arguments)}return _createClass(_class22,[{key:"init",value:function(){var t=this.editor,e=t.editing.view.document,n=[];n.push(new Sw(e)),n.push(new Ew(e)),t.plugins.get("ClipboardPipeline").on("inputTransformation",(function(t,o){if(!o._isTransformedWithPasteFromOffice){var i=o.dataTransfer.getData("text/html"),r=n.find((function(t){return t.isActive(i)}));r&&(o._parsedData=function(t,e){var n=new DOMParser,o=function(t){return Nw(Nw(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){var e="</body>",o=t.indexOf(e);if(o<0)return t;var i=t.indexOf("</html>",o+e.length);return t.substring(0,o+e.length)+(i>=0?t.substring(i):"")}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=n.parseFromString(o,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach((function(t){var e=t.innerText.length||0;t.innerHTML=Array(e+1).join("  ").substr(0,e)}))}(i);var r=i.body.innerHTML,s=function(t,e){for(var n=new Ji(e),o=new us(n,{renderingMode:"data"}),i=t.createDocumentFragment(),r=t.body.childNodes;r.length>0;)i.appendChild(r[0]);return o.domToView(i,{skipComments:!0})}(i,e),a=function(t){for(var e=[],n=[],_i150=0,_o179=Array.from(t.getElementsByTagName("style"));_i150<_o179.length;_i150++){var _t333=_o179[_i150];_t333.sheet&&_t333.sheet.cssRules&&_t333.sheet.cssRules.length&&(e.push(_t333.sheet),n.push(_t333.innerHTML))}return{styles:e,stylesString:n.join(" ")}}(i);return{body:s,bodyString:r,styles:a.styles,stylesString:a.stylesString}}(i,e.stylesProcessor),r.execute(o),o._isTransformedWithPasteFromOffice=!0)}}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[hg]}}]),_class22}(ue),function(_ue87){_inherits(_class23,_ue87);var _super219=_createSuper(_class23);function _class23(){return _classCallCheck(this,_class23),_super219.apply(this,arguments)}return _createClass(_class23,null,[{key:"requires",get:function(){return[XA,rC,lC,fC,mC,dC,em]}},{key:"pluginName",get:function(){return"Table"}}]),_class23}(ue),function(_ue88){_inherits(_class24,_ue88);var _super220=_createSuper(_class24);function _class24(){return _classCallCheck(this,_class24),_super220.apply(this,arguments)}return _createClass(_class24,[{key:"afterInit",value:function(){var t=this.editor,e=t.t,n=t.plugins.get(Zp),o=t.config.get("table.contentToolbar"),i=t.config.get("table.tableToolbar");o&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:CC}),i&&n.register("table",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:AC})}}],[{key:"requires",get:function(){return[Zp]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),_class24}(ue),function(_ue89){_inherits(_class25,_ue89);var _super221=_createSuper(_class25);function _class25(t){var _this314;return _classCallCheck(this,_class25),_this314=_super221.call(this,t),t.config.define("typing",{transformations:{include:Vm}}),_this314}return _createClass(_class25,[{key:"init",value:function(){var _this315=this,t=this.editor.model.document.selection;t.on("change:range",(function(){_this315.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var t=this.editor,e=t.model,n=t.plugins.get("Delete"),o=function(t){var e=t.extra||[],n=t.remove||[],o=function(t){return!n.includes(t)};return function(t){var _step473,e=new Set,_iterator473=_createForOfIteratorHelper(t);try{for(_iterator473.s();!(_step473=_iterator473.n()).done;){var _n303=_step473.value;if(Fm[_n303]){var _step474,_iterator474=_createForOfIteratorHelper(Fm[_n303]);try{for(_iterator474.s();!(_step474=_iterator474.n()).done;){var _t393=_step474.value;e.add(_t393)}}catch(err){_iterator474.e(err)}finally{_iterator474.f()}}else e.add(_n303)}}catch(err){_iterator473.e(err)}finally{_iterator473.f()}return Array.from(e)}(t.include.concat(e).filter(o)).filter(o).map((function(t){return jm[t]||t})).filter((function(t){return"object"==_typeof(t)})).map((function(t){return{from:Hm(t.from),to:Um(t.to)}}))}(t.config.get("typing.transformations")),i=new Tm(t.model,(function(t){var _step475,_iterator475=_createForOfIteratorHelper(o);try{for(_iterator475.s();!(_step475=_iterator475.n()).done;){var _e349=_step475.value;if(_e349.from.test(t))return{normalizedTransformation:_e349}}}catch(err){_iterator475.e(err)}finally{_iterator475.f()}}));i.on("matched:data",(function(t,o){if(o.batch.isTyping){var _o$normalizedTransfor=o.normalizedTransformation,i=_o$normalizedTransfor.from,r=_o$normalizedTransfor.to,s=i.exec(o.text),a=r(s.slice(1)),c=o.range,l=s.index;e.enqueueChange((function(t){for(var _n304=1;_n304<s.length;_n304++){var _o208=s[_n304],_i173=a[_n304-1];if(null!=_i173){var _r82=c.start.getShiftedBy(l),_d9=e.createRange(_r82,_r82.getShiftedBy(_o208.length)),_h7=qm(_r82);e.insertContent(t.createText(_i173,_h7),_d9),l+=_i173.length}else l+=_o208.length}e.enqueueChange((function(){n.requestUndoOnBackspace()}))}))}})),i.bind("isEnabled").to(this)}}],[{key:"requires",get:function(){return["Delete","Input"]}},{key:"pluginName",get:function(){return"TextTransformation"}}]),_class25}(ue)],SC.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}(),o.default}()}))})),require.register("Utils/fullcalendar.min.js",(function(exports,require,module){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}
/*!
FullCalendar v5.10.0
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){var _t2=function(e,n){return(_t2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}_t2(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var _r2=function(){return(_r2=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}var i,a,s,l,u,c={},d=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var r,o,i,a=arguments,s={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:s[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return g(e,s,r,o,null)}function g(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++i.__v:o};return null!=i.vnode&&i.vnode(a),a}function m(e){return e.children}function y(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?E(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function b(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!D.__r++||l!==i.debounceRendering)&&((l=i.debounceRendering)||s)(D)}function D(){for(var e;D.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=f({},o)).__v=o.__v+1,I(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?E(o):i,o.__h),P(n,o),o.__e!=i&&S(o)))}))}function C(e,t,n,r,o,i,a,s,l,u){var p,f,h,v,y,S,b,D=r&&r.__k||d,C=D.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(v=n.__k[p]=null==(v=t[p])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?g(null,v,null,null,v):Array.isArray(v)?g(m,{children:v},null,null,null):v.__b>0?g(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(h=D[p])||h&&v.key==h.key&&v.type===h.type)D[p]=void 0;else for(f=0;f<C;f++){if((h=D[f])&&v.key==h.key&&v.type===h.type){D[f]=void 0;break}h=null}I(e,v,h=h||c,o,i,a,s,l,u),y=v.__e,(f=v.ref)&&h.ref!=f&&(b||(b=[]),h.ref&&b.push(h.ref,null,v),b.push(f,v.__c||y,v)),null!=y?(null==S&&(S=y),"function"==typeof v.type&&null!=v.__k&&v.__k===h.__k?v.__d=l=w(v,l,e):l=_(e,v,h,D,y,l),u||"option"!==n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=E(h))}for(n.__e=S,p=C;p--;)null!=D[p]&&("function"==typeof n.type&&null!=D[p].__e&&D[p].__e==n.__d&&(n.__d=E(r,p+1)),O(D[p],D[p]));if(b)for(p=0;p<b.length;p++)H(b[p],b[++p],b[++p])}function w(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,t="function"==typeof o.type?w(o,t,n):_(n,o,o,e.__k,o.__e,t));return t}function R(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){R(e,t)})):t.push(e)),t}function _(e,t,n,r,o,i){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(s=i,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function T(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function k(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||T(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||T(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?M:x,i):e.removeEventListener(t,i?M:x,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function x(e){this.l[e.type+!1](i.event?i.event(e):e)}function M(e){this.l[e.type+!0](i.event?i.event(e):e)}function I(e,t,n,r,o,a,s,l,u){var c,d,p,h,v,g,E,S,b,D,w,R=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(c=i.__b)&&c(t);try{e:if("function"==typeof R){if(S=t.props,b=(c=R.contextType)&&r[c.__c],D=c?b?b.props.value:c.__:r,n.__c?E=(d=t.__c=n.__c).__=d.__E:("prototype"in R&&R.prototype.render?t.__c=d=new R(S,D):(t.__c=d=new y(S,D),d.constructor=R,d.render=A),b&&b.sub(d),d.props=S,d.state||(d.state={}),d.context=D,d.__n=r,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=R.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,R.getDerivedStateFromProps(S,d.__s))),h=d.props,v=d.state,p)null==R.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==R.getDerivedStateFromProps&&S!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(S,D),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(S,d.__s,D)||t.__v===n.__v){d.props=S,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(S,d.__s,D),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,v,g)}))}d.context=D,d.props=S,d.state=d.__s,(c=i.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(r=f(f({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(h,v)),w=null!=c&&c.type===m&&null==c.key?c.props.children:c,C(e,Array.isArray(w)?w:[w],t,n,r,o,a,s,l,u),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),E&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,r,o,a,s,u);(c=i.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=l,t.__h=!!u,a[a.indexOf(l)]=null),i.__e(e,t,n)}}function P(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function N(e,t,n,r,o,i,a,s){var l,u,p,f,v=n.props,g=t.props,m=t.type,y=0;if("svg"===m&&(o=!0),null!=i)for(;y<i.length;y++)if((l=i[y])&&(l===e||(m?l.localName==m:3==l.nodeType))){e=l,i[y]=null;break}if(null==e){if(null===m)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,g.is&&g),i=null,s=!1}if(null===m)v===g||s&&e.data===g||(e.data=g);else{if(i=i&&d.slice.call(e.childNodes),u=(v=n.props||c).dangerouslySetInnerHTML,p=g.dangerouslySetInnerHTML,!s){if(null!=i)for(v={},f=0;f<e.attributes.length;f++)v[e.attributes[f].name]=e.attributes[f].value;(p||u)&&(p&&(u&&p.__html==u.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||k(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||k(e,i,t[i],n[i],r)}(e,g,v,o,s),p)t.__k=[];else if(y=t.props.children,C(e,Array.isArray(y)?y:[y],t,n,r,o&&"foreignObject"!==m,i,a,e.firstChild,s),null!=i)for(y=i.length;y--;)null!=i[y]&&h(i[y]);s||("value"in g&&void 0!==(y=g.value)&&(y!==e.value||"progress"===m&&!y)&&k(e,"value",y,v.value,!1),"checked"in g&&void 0!==(y=g.checked)&&y!==e.checked&&k(e,"checked",y,v.checked,!1))}return e}function H(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function O(e,t,n){var r,o,a;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||H(r,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&O(r[a],t,n);null!=o&&h(o)}function A(e,t,n){return this.constructor(e,n)}function L(e,t,n){var r,o,a;i.__&&i.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],I(t,e=(!r&&n||t).__k=v(m,null,[e]),o||c,c,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?d.slice.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r),P(a,e)}i={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e},__v:0},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},y.prototype.render=m,a=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,D.__r=0,u=0;var U,W=[],V=i.__b,F=i.__r,B=i.diffed,z=i.__c,j=i.unmount;function G(){W.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(Y),e.__H.__h.forEach(Z),e.__H.__h=[]}catch(t){e.__H.__h=[],i.__e(t,e.__v)}})),W=[]}i.__b=function(e){V&&V(e)},i.__r=function(e){F&&F(e);var t=e.__c.__H;t&&(t.__h.forEach(Y),t.__h.forEach(Z),t.__h=[])},i.diffed=function(e){B&&B(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==W.push(t)&&U===i.requestAnimationFrame||((U=i.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),q&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);q&&(t=requestAnimationFrame(n))})(G))},i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Y),e.__h=e.__h.filter((function(e){return!e.__||Z(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],i.__e(n,e.__v)}})),z&&z(e,t)},i.unmount=function(e){j&&j(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(Y)}catch(e){i.__e(e,t.__v)}};var q="function"==typeof requestAnimationFrame;function Y(e){"function"==typeof e.__c&&e.__c()}function Z(e){e.__c=e.__()}function X(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function K(e){this.props=e}(K.prototype=new y).isPureReactComponent=!0,K.prototype.shouldComponentUpdate=function(e,t){return X(this.props,e)||X(this.state,t)};var $=i.__b;i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),$&&$(e)};var J=i.__e;i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);J(e,t,n)};var Q=i.unmount;function ee(){this.__u=0,this.t=null,this.__b=null}function te(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function ne(){this.u=null,this.o=null}i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Q&&Q(e)},(ee.prototype=new y).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=te(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&v(m,null,e.fallback);return o&&(o.__h=null),[v(m,null,t.__e?null:e.children),o]};var re=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function oe(e){return this.getChildContext=function(){return e.context},e.children}function ie(e){var t=this,n=e.i;t.componentWillUnmount=function(){L(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),L(v(oe,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(ne.prototype=new y).__e=function(e){var t=this,n=te(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),re(t,e,r)):o()};n?n(i):i()}},ne.prototype.render=function(e){this.u=null,this.o=new Map;var t=R(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ne.prototype.componentDidUpdate=ne.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){re(e,n,t)}))};var ae="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,le=function(e){return("undefined"!=typeof Symbol&&"symbol"==_typeof(Symbol())?/fil|che|rad/i:/fil|che|ra/i).test(e)};y.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(y.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ue=i.event;function ce(){}function de(){return this.cancelBubble}function pe(){return this.defaultPrevented}i.event=function(e){return ue&&(e=ue(e)),e.persist=ce,e.isPropagationStopped=de,e.isDefaultPrevented=pe,e.nativeEvent=e};var fe={configurable:!0,get:function(){return this.class}},he=i.vnode;i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var i=n[o];"value"===o&&"defaultValue"in n&&null==i||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!le(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():se.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=R(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=R(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r}t&&n.class!=n.className&&(fe.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",fe)),e.$$typeof=ae,he&&he(e)};var ve=i.__r;i.__r=function(e){ve&&ve(e)},"object"==("undefined"==typeof performance?"undefined":_typeof(performance))&&"function"==typeof performance.now&&performance.now.bind(performance);var ge="undefined"!=typeof globalThis?globalThis:window;ge.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):ge.FullCalendarVDom={Component:y,createElement:v,render:L,createRef:function(){return{current:null}},Fragment:m,createContext:function(e){var t=function(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(b)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}(e),n=t.Provider;return t.Provider=function(){var e=this,t=!this.getChildContext,r=n.apply(this,arguments);if(t){var o=[];this.shouldComponentUpdate=function(t){e.props.value!==t.value&&o.forEach((function(e){e.context=t.value,e.forceUpdate()}))},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}}return r},t},createPortal:function(e,t){return v(ie,{__v:e,i:t})},flushToDom:function(){var e=i.debounceRendering,t=[];for(i.debounceRendering=function(e){t.push(e)},L(v(me,{}),document.createElement("div"));t.length;)t.shift()();i.debounceRendering=e},unmountComponentAtNode:function(e){L(null,e)}};var me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return v("div",{})},t.prototype.componentDidMount=function(){this.setState({})},t}(y),ye=function(){function e(e,t){this.context=e,this.internalEventSource=t}return e.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},e.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(e.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),e}();function Ee(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(be(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function be(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function De(e,t){for(var n=e instanceof HTMLElement?[e]:e,r=[],o=0;o<n.length;o+=1)for(var i=n[o].querySelectorAll(t),a=0;a<i.length;a+=1)r.push(i[a]);return r}var Ce=/(top|left|right|bottom|width|height)$/i;function we(e,t){for(var n in t)Re(e,n,t[n])}function Re(e,t,n){null==n?e.style[t]="":"number"==typeof n&&Ce.test(t)?e.style[t]=n+"px":e.style[t]=n}function _e(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}function Te(e){return e.getRootNode?e.getRootNode():document}var ke=0;function xe(){return"fc-dom-"+(ke+=1)}function Me(e){e.preventDefault()}function Ie(e,t,n,r){var o=function(e,t){return function(n){var r=Se(n.target,e);r&&t.call(r,n,r)}}(n,r);return e.addEventListener(t,o),function(){e.removeEventListener(t,o)}}var Pe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Ne(e,t){var n=function n(r){t(r),Pe.forEach((function(t){e.removeEventListener(t,n)}))};Pe.forEach((function(t){e.addEventListener(t,n)}))}function He(e){return _r2({onClick:e},Oe(e))}function Oe(e){return{tabIndex:0,onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}var Ae=0;function Le(){return String(Ae+=1)}function Ue(){document.body.classList.add("fc-not-allowed")}function We(){document.body.classList.remove("fc-not-allowed")}function Ve(e){e.classList.add("fc-unselectable"),e.addEventListener("selectstart",Me)}function Fe(e){e.classList.remove("fc-unselectable"),e.removeEventListener("selectstart",Me)}function Be(e){e.addEventListener("contextmenu",Me)}function ze(e){e.removeEventListener("contextmenu",Me)}function je(e){var t,n,r=[],o=[];for("string"==typeof e?o=e.split(/\s*,\s*/):"function"==typeof e?o=[e]:Array.isArray(e)&&(o=e),t=0;t<o.length;t+=1)"string"==typeof(n=o[t])?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r}function Ge(e,t,n){var r,o;for(r=0;r<n.length;r+=1)if(o=qe(e,t,n[r]))return o;return 0}function qe(e,t,n){return n.func?n.func(e,t):Ye(e[n.field],t[n.field])*(n.order||1)}function Ye(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function Ze(e,t){var n=String(e);return"000".substr(0,t-n.length)+n}function Xe(e,t,n){return"function"==typeof e?e.apply(void 0,t):"string"==typeof e?t.reduce((function(e,t,n){return e.replace("$"+n,t||"")}),e):n}function Ke(e,t){return e-t}function $e(e){return e%1==0}function Je(e){var t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var Qe=["sun","mon","tue","wed","thu","fri","sat"];function et(e,t){var n=ft(e);return n[2]+=7*t,ht(n)}function tt(e,t){var n=ft(e);return n[2]+=t,ht(n)}function nt(e,t){var n=ft(e);return n[6]+=t,ht(n)}function rt(e,t){return ot(e,t)/7}function ot(e,t){return(t.valueOf()-e.valueOf())/864e5}function it(e,t){var n=lt(e),r=lt(t);return{years:0,months:0,days:Math.round(ot(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function at(e,t){var n=st(e,t);return null!==n&&n%7==0?n/7:null}function st(e,t){return gt(e)===gt(t)?Math.round(ot(e,t)):null}function lt(e){return ht([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function ut(e,t,n,r){var o=ht([t,0,1+ct(t,n,r)]),i=lt(e),a=Math.round(ot(o,i));return Math.floor(a/7)+1}function ct(e,t,n){var r=7+t-n;return-(7+ht([e,0,r]).getUTCDay()-t)%7+r-1}function dt(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function pt(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function ft(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function ht(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC.apply(Date,e))}function vt(e){return!isNaN(e.valueOf())}function gt(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function mt(e,t,n,r){return{instanceId:Le(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}var yt=Object.prototype.hasOwnProperty;function Et(e,t){var n={};if(t)for(var r in t){for(var o=[],i=e.length-1;i>=0;i-=1){var a=e[i][r];if("object"==_typeof(a)&&a)o.unshift(a);else if(void 0!==a){n[r]=a;break}}o.length&&(n[r]=Et(o))}for(i=e.length-1;i>=0;i-=1){var s=e[i];for(var l in s)l in n||(n[l]=s[l])}return n}function St(e,t){var n={};for(var r in e)t(e[r],r)&&(n[r]=e[r]);return n}function bt(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n}function Dt(e){for(var t={},n=0,r=e;n<r.length;n++)t[r[n]]=!0;return t}function Ct(e){var t=[];for(var n in e)t.push(e[n]);return t}function wt(e,t){if(e===t)return!0;for(var n in e)if(yt.call(e,n)&&!(n in t))return!1;for(var n in t)if(yt.call(t,n)&&e[n]!==t[n])return!1;return!0}function Rt(e,t){var n=[];for(var r in e)yt.call(e,r)&&(r in t||n.push(r));for(var r in t)yt.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function _t(e,t,n){if(void 0===n&&(n={}),e===t)return!0;for(var r in t)if(!(r in e)||!Tt(e[r],t[r],n[r]))return!1;for(var r in e)if(!(r in t))return!1;return!0}function Tt(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function kt(e,t,n,r){void 0===t&&(t=0),void 0===r&&(r=1);var o=[];null==n&&(n=Object.keys(e).length);for(var i=t;i<n;i+=r){var a=e[i];void 0!==a&&o.push(a)}return o}function xt(e,t,n){var r=n.dateEnv,o=n.pluginHooks,i=n.options,a=e.defs,s=e.instances;for(var l in s=St(s,(function(e){return!a[e.defId].recurringDef})),a){var u=a[l];if(u.recurringDef){var c=u.recurringDef.duration;c||(c=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);for(var d=0,p=Mt(u,c,t,r,o.recurringTypes);d<p.length;d++){var f=p[d],h=mt(l,{start:f,end:r.add(f,c)});s[h.instanceId]=h}}}return{defs:a,instances:s}}function Mt(e,t,n,r,o){var i=o[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(i=i.map(lt)),i}var It=["years","months","days","milliseconds"],Pt=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Nt(e,t){var n;return"string"==typeof e?function(e){var t=Pt.exec(e);if(t){var n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==_typeof(e)&&e?Ht(e):"number"==typeof e?Ht(((n={})[t||"milliseconds"]=e,n)):null}function Ht(e){var t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function Ot(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function At(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function Lt(e){return Ut(e)/864e5}function Ut(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Wt(e,t){for(var n=null,r=0;r<It.length;r+=1){var o=It[r];if(t[o]){var i=e[o]/t[o];if(!$e(i)||null!==n&&n!==i)return null;n=i}else if(e[o])return null}return n}function Vt(e){var t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Ft(e,t,n){void 0===n&&(n=!1);var r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",jt(t,!0)))),r}function Bt(e){return e.toISOString().replace(/T.*$/,"")}function zt(e){return Ze(e.getUTCHours(),2)+":"+Ze(e.getUTCMinutes(),2)+":"+Ze(e.getUTCSeconds(),2)}function jt(e,t){void 0===t&&(t=!1);var n=e<0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=Math.round(r%60);return t?n+Ze(o,2)+":"+Ze(i,2):"GMT"+n+o+(i?":"+Ze(i,2):"")}function Gt(e,t,n){if(e===t)return!0;var r,o=e.length;if(o!==t.length)return!1;for(r=0;r<o;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}function qt(e,t,n){var r,o;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r){if(!Gt(r,i)){n&&n(o);var s=e.apply(this,i);t&&t(s,o)||(o=s)}}else o=e.apply(this,i);return r=i,o}}function Yt(e,t,n){var r,o,i=this;return function(a){if(r){if(!wt(r,a)){n&&n(o);var s=e.call(i,a);t&&t(s,o)||(o=s)}}else o=e.call(i,a);return r=a,o}}var Zt={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Xt={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Kt=/\s*([ap])\.?m\.?/i,$t=/,/g,Jt=/\s+/g,Qt=/\u200e/g,en=/UTC|GMT/,tn=function(){function e(e){var t={},n={},r=0;for(var o in e)o in Zt?(n[o]=e[o],r=Math.max(Zt[o],r)):(t[o]=e[o],o in Xt&&(r=Math.max(Xt[o],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=qt(nn)}return e.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},e.prototype.formatRange=function(e,t,n,r){var o=this.standardDateProps,i=this.extendedSettings,a=function(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:gt(e)!==gt(t)?1:0}(e.marker,t.marker,n.calendarSystem);if(!a)return this.format(e,n);var s=a;!(s>1)||"numeric"!==o.year&&"2-digit"!==o.year||"numeric"!==o.month&&"2-digit"!==o.month||"numeric"!==o.day&&"2-digit"!==o.day||(s=1);var l=this.format(e,n),u=this.format(t,n);if(l===u)return l;var c=nn(function(e,t){var n={};for(var r in e)(!(r in Xt)||Xt[r]<=t)&&(n[r]=e[r]);return n}(o,s),i,n),d=c(e),p=c(t),f=function(e,t,n,r){for(var o=0;o<e.length;){var i=e.indexOf(t,o);if(-1===i)break;var a=e.substr(0,i);o=i+t.length;for(var s=e.substr(o),l=0;l<n.length;){var u=n.indexOf(r,l);if(-1===u)break;var c=n.substr(0,u);l=u+r.length;var d=n.substr(l);if(a===c&&s===d)return{before:a,after:s}}}return null}(l,d,u,p),h=i.separator||r||n.defaultSeparator||"";return f?f.before+d+h+p+f.after:l+h+u},e.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},e}();function nn(e,t,n){var o=Object.keys(e).length;return 1===o&&"short"===e.timeZoneName?function(e){return jt(e.timeZoneOffset)}:0===o&&t.week?function(e){return function(e,t,n,r,o){var i=[];return"long"===o?i.push(n):"short"!==o&&"narrow"!==o||i.push(t),"long"!==o&&"short"!==o||i.push(" "),i.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&i.reverse(),i.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week)}:function(e,t,n){e=_r2({},e),t=_r2({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";var o,i=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){var a=_r2({},e);delete a.minute,o=new Intl.DateTimeFormat(n.locale.codes,a)}return function(r){var a=r.marker;return function(e,t,n,r,o){return e=e.replace(Qt,""),"short"===n.timeZoneName&&(e=function(e,t){var n=!1;return e=e.replace(en,(function(){return n=!0,t})),n||(e+=" "+t),e}(e,"UTC"===o.timeZone||null==t.timeZoneOffset?"UTC":jt(t.timeZoneOffset))),r.omitCommas&&(e=e.replace($t,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),!1===r.meridiem?e=e.replace(Kt,"").trim():"narrow"===r.meridiem?e=e.replace(Kt,(function(e,t){return t.toLocaleLowerCase()})):"short"===r.meridiem?e=e.replace(Kt,(function(e,t){return t.toLocaleLowerCase()+"m"})):"lowercase"===r.meridiem&&(e=e.replace(Kt,(function(e){return e.toLocaleLowerCase()}))),(e=e.replace(Jt," ")).trim()}((o&&!a.getUTCMinutes()?o:i).format(a),r,e,t,n)}}(e,t,n)}function rn(e,t){var n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function on(e,t,n,r){var o=rn(e,n.calendarSystem);return{date:o,start:o,end:t?rn(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var an=function(){function e(e){this.cmdStr=e}return e.prototype.format=function(e,t,n){return t.cmdFormatter(this.cmdStr,on(e,null,t,n))},e.prototype.formatRange=function(e,t,n,r){return n.cmdFormatter(this.cmdStr,on(e,t,n,r))},e}(),sn=function(){function e(e){this.func=e}return e.prototype.format=function(e,t,n){return this.func(on(e,null,t,n))},e.prototype.formatRange=function(e,t,n,r){return this.func(on(e,t,n,r))},e}();function ln(e){return"object"==_typeof(e)&&e?new tn(e):"string"==typeof e?new an(e):"function"==typeof e?new sn(e):null}var un={navLinkDayClick:yn,navLinkWeekClick:yn,duration:Nt,bootstrapFontAwesome:yn,buttonIcons:yn,customButtons:yn,defaultAllDayEventDuration:Nt,defaultTimedEventDuration:Nt,nextDayThreshold:Nt,scrollTime:Nt,scrollTimeReset:Boolean,slotMinTime:Nt,slotMaxTime:Nt,dayPopoverFormat:ln,slotDuration:Nt,snapDuration:Nt,headerToolbar:yn,footerToolbar:yn,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ln,dayHeaderClassNames:yn,dayHeaderContent:yn,dayHeaderDidMount:yn,dayHeaderWillUnmount:yn,dayCellClassNames:yn,dayCellContent:yn,dayCellDidMount:yn,dayCellWillUnmount:yn,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:yn,weekNumbers:Boolean,weekNumberClassNames:yn,weekNumberContent:yn,weekNumberDidMount:yn,weekNumberWillUnmount:yn,editable:Boolean,viewClassNames:yn,viewDidMount:yn,viewWillUnmount:yn,nowIndicator:Boolean,nowIndicatorClassNames:yn,nowIndicatorContent:yn,nowIndicatorDidMount:yn,nowIndicatorWillUnmount:yn,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:yn,locale:yn,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:yn,eventOrder:je,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:yn,contentHeight:yn,direction:String,weekNumberFormat:ln,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:yn,initialDate:yn,now:yn,eventDataTransform:yn,stickyHeaderDates:yn,stickyFooterScrollbar:yn,viewHeight:yn,defaultAllDay:Boolean,eventSourceFailure:yn,eventSourceSuccess:yn,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:yn,eventConstraint:yn,eventAllow:yn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:yn,eventContent:yn,eventDidMount:yn,eventWillUnmount:yn,selectConstraint:yn,selectOverlap:yn,selectAllow:yn,droppable:Boolean,unselectCancel:String,slotLabelFormat:yn,slotLaneClassNames:yn,slotLaneContent:yn,slotLaneDidMount:yn,slotLaneWillUnmount:yn,slotLabelClassNames:yn,slotLabelContent:yn,slotLabelDidMount:yn,slotLabelWillUnmount:yn,dayMaxEvents:yn,dayMaxEventRows:yn,dayMinWidth:Number,slotLabelInterval:Nt,allDayText:String,allDayClassNames:yn,allDayContent:yn,allDayDidMount:yn,allDayWillUnmount:yn,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ln,rerenderDelay:Number,moreLinkText:yn,moreLinkHint:yn,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:yn,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Nt,hiddenDays:yn,monthMode:Boolean,fixedWeekCount:Boolean,validRange:yn,visibleRange:yn,titleFormat:yn,eventInteractive:Boolean,noEventsText:String,viewHint:yn,navLinkHint:yn,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:yn,moreLinkClassNames:yn,moreLinkContent:yn,moreLinkDidMount:yn,moreLinkWillUnmount:yn},cn={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},dn={datesSet:yn,eventsSet:yn,eventAdd:yn,eventChange:yn,eventRemove:yn,windowResize:yn,eventClick:yn,eventMouseEnter:yn,eventMouseLeave:yn,select:yn,unselect:yn,loading:yn,_unmount:yn,_beforeprint:yn,_afterprint:yn,_noEventDrop:yn,_noEventResize:yn,_resize:yn,_scrollRequest:yn},pn={buttonText:yn,buttonHints:yn,views:yn,plugins:yn,initialEvents:yn,events:yn,eventSources:yn},fn={headerToolbar:hn,footerToolbar:hn,buttonText:hn,buttonHints:hn,buttonIcons:hn};function hn(e,t){return"object"==_typeof(e)&&"object"==_typeof(t)&&e&&t?wt(e,t):e===t}var vn={type:String,component:yn,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:yn,usesMinMaxTime:Boolean,classNames:yn,content:yn,didMount:yn,willUnmount:yn};function gn(e){return Et(e,fn)}function mn(e,t){var n={},r={};for(var o in t)o in e&&(n[o]=t[o](e[o]));for(var o in e)o in t||(r[o]=e[o]);return{refined:n,extra:r}}function yn(e){return e}function En(e,t,n,r){for(var o={defs:{},instances:{}},i=An(n),a=0,s=e;a<s.length;a++){var l=Hn(s[a],t,n,r,i);l&&Sn(l,o)}return o}function Sn(e,t){return void 0===t&&(t={defs:{},instances:{}}),t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function bn(e,t){var n=e.instances[t];if(n){var r=e.defs[n.defId],o=wn(e,(function(e){return t=r,n=e,Boolean(t.groupId&&t.groupId===n.groupId);var t,n}));return o.defs[r.defId]=r,o.instances[n.instanceId]=n,o}return{defs:{},instances:{}}}function Cn(e,t){return{defs:_r2(_r2({},e.defs),t.defs),instances:_r2(_r2({},e.instances),t.instances)}}function wn(e,t){var n=St(e.defs,t),r=St(e.instances,(function(e){return n[e.defId]}));return{defs:n,instances:r}}function Rn(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}var _n={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:yn,overlap:yn,allow:yn,className:Rn,classNames:Rn,color:String,backgroundColor:String,borderColor:String,textColor:String},Tn={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function kn(e,t){var n=function(e,t){return Array.isArray(e)?En(e,null,t,!0):"object"==_typeof(e)&&e?En([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function xn(e){return e.reduce(Mn,Tn)}function Mn(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var In={id:String,groupId:String,title:String,url:String,interactive:Boolean},Pn={start:yn,end:yn,date:yn,allDay:Boolean},Nn=_r2(_r2(_r2({},In),Pn),{extendedProps:yn});function Hn(e,t,n,r,o){void 0===o&&(o=An(n));var i=On(e,n,o),a=i.refined,s=i.extra,l=function(e,t){var n=null;return e&&(n=e.defaultAllDay),null==n&&(n=t.options.defaultAllDay),n}(t,n),u=function(e,t,n,r){for(var o=0;o<r.length;o+=1){var i=r[o].parse(e,n);if(i){var a=e.allDay;return null==a&&null==(a=t)&&null==(a=i.allDayGuess)&&(a=!1),{allDay:a,duration:i.duration,typeData:i.typeData,typeId:o}}}return null}(a,l,n.dateEnv,n.pluginHooks.recurringTypes);if(u)return(c=Ln(a,s,t?t.sourceId:"",u.allDay,Boolean(u.duration),n)).recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:c,instance:null};var c,d=function(e,t,n,r){var o,i,a=e.allDay,s=null,l=!1,u=null,c=null!=e.start?e.start:e.date;if(o=n.dateEnv.createMarkerMeta(c))s=o.marker;else if(!r)return null;return null!=e.end&&(i=n.dateEnv.createMarkerMeta(e.end)),null==a&&(a=null!=t?t:(!o||o.isTimeUnspecified)&&(!i||i.isTimeUnspecified)),a&&s&&(s=lt(s)),i&&(u=i.marker,a&&(u=lt(u)),s&&u<=s&&(u=null)),u?l=!0:r||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(s,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:a,hasEnd:l,range:{start:s,end:u},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:i?i.forcedTzo:null}}(a,l,n,r);return d?{def:c=Ln(a,s,t?t.sourceId:"",d.allDay,d.hasEnd,n),instance:mt(c.defId,d.range,d.forcedStartTzo,d.forcedEndTzo)}:null}function On(e,t,n){return void 0===n&&(n=An(t)),mn(e,n)}function An(e){return _r2(_r2(_r2({},_n),Nn),e.pluginHooks.eventRefiners)}function Ln(e,t,n,o,i,a){for(var s={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:Le(),sourceId:n,allDay:o,hasEnd:i,interactive:e.interactive,ui:kn(e,a),extendedProps:_r2(_r2({},e.extendedProps||{}),t)},l=0,u=a.pluginHooks.eventDefMemberAdders;l<u.length;l++){var c=u[l];_r2(s,c(e))}return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function Un(e){var t=Math.floor(ot(e.start,e.end))||1,n=lt(e.start);return{start:n,end:tt(n,t)}}function Wn(e,t){void 0===t&&(t=Nt(0));var n=null,r=null;if(e.end){r=lt(e.end);var o=e.end.valueOf()-r.valueOf();o&&o>=Ut(t)&&(r=tt(r,1))}return e.start&&(n=lt(e.start),r&&r<=n&&(r=tt(n,1))),{start:n,end:r}}function Vn(e){var t=Wn(e);return ot(t.start,t.end)>1}function Fn(e,t,n,r){return"year"===r?Nt(n.diffWholeYears(e,t),"year"):"month"===r?Nt(n.diffWholeMonths(e,t),"month"):it(e,t)}function Bn(e,t){var n,r,o=[],i=t.start;for(e.sort(zn),n=0;n<e.length;n+=1)(r=e[n]).start>i&&o.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<t.end&&o.push({start:i,end:t.end}),o}function zn(e,t){return e.start.valueOf()-t.start.valueOf()}function jn(e,t){var n=e.start,r=e.end,o=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(o={start:n,end:r}),o}function Gn(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function qn(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function Yn(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Zn(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Xn(e,t,n,r){var o={},i={},a={},s=[],l=[],u=Qn(e.defs,t);for(var c in e.defs)"inverse-background"===(f=u[(S=e.defs[c]).defId]).display&&(S.groupId?(o[S.groupId]=[],a[S.groupId]||(a[S.groupId]=S)):i[c]=[]);for(var d in e.instances){var p=e.instances[d],f=u[(S=e.defs[p.defId]).defId],h=p.range,v=!S.allDay&&r?Wn(h,r):h,g=jn(v,n);g&&("inverse-background"===f.display?S.groupId?o[S.groupId].push(g):i[p.defId].push(g):"none"!==f.display&&("background"===f.display?s:l).push({def:S,ui:f,instance:p,range:g,isStart:v.start&&v.start.valueOf()===g.start.valueOf(),isEnd:v.end&&v.end.valueOf()===g.end.valueOf()}))}for(var m in o)for(var y=0,E=Bn(o[m],n);y<E.length;y++){var S,b=E[y];f=u[(S=a[m]).defId],s.push({def:S,ui:f,instance:null,range:b,isStart:!1,isEnd:!1})}for(var c in i)for(var D=0,C=Bn(i[c],n);D<C.length;D++)b=C[D],s.push({def:e.defs[c],ui:u[c],instance:null,range:b,isStart:!1,isEnd:!1});return{bg:s,fg:l}}function Kn(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function $n(e,t){e.fcSeg=t}function Jn(e){return e.fcSeg||e.parentNode.fcSeg||null}function Qn(e,t){return bt(e,(function(e){return er(e,t)}))}function er(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),xn(n)}function tr(e,t){var n=e.map(nr);return n.sort((function(e,n){return Ge(e,n,t)})),n.map((function(e){return e._seg}))}function nr(e){var t=e.eventRange,n=t.def,o=t.instance?t.instance.range:t.range,i=o.start?o.start.valueOf():0,a=o.end?o.end.valueOf():0;return _r2(_r2(_r2({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:e})}function rr(e,t){for(var n=t.pluginHooks.isDraggableTransformers,r=e.eventRange,o=r.def,i=r.ui,a=i.startEditable,s=0,l=n;s<l.length;s++)a=(0,l[s])(a,o,i,t);return a}function or(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function ir(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function ar(e,t,n,r,o,i,a){var s=n.dateEnv,l=n.options,u=l.displayEventTime,c=l.displayEventEnd,d=e.eventRange.def,p=e.eventRange.instance;null==u&&(u=!1!==r),null==c&&(c=!1!==o);var f=p.range.start,h=p.range.end,v=i||e.start||e.eventRange.range.start,g=a||e.end||e.eventRange.range.end,m=lt(f).valueOf()===lt(v).valueOf(),y=lt(nt(h,-1)).valueOf()===lt(nt(g,-1)).valueOf();return u&&!d.allDay&&(m||y)?(v=m?f:v,g=y?h:g,c&&d.hasEnd?s.formatRange(v,g,t,{forcedStartTzo:i?null:p.forcedStartTzo,forcedEndTzo:a?null:p.forcedEndTzo}):s.format(v,t,{forcedTzo:i?null:p.forcedStartTzo})):""}function sr(e,t,n){var r=e.eventRange.range;return{isPast:r.end<(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&Zn(t,r.start)}}function lr(e){var t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function ur(e){return e.instance?e.instance.instanceId:e.def.defId+":"+e.range.start.toISOString()}function cr(e,t){var n=e.eventRange,r=n.def,o=n.instance,i=r.url;if(i)return{href:i};var a=t.emitter,s=t.options.eventInteractive;return null==s&&null==(s=r.interactive)&&(s=Boolean(a.hasHandlers("eventClick"))),s?Oe((function(e){a.trigger("eventClick",{el:e.target,event:new xr(t,r,o),jsEvent:e,view:t.viewApi})})):{}}var dr={start:yn,end:yn,allDay:Boolean};function fr(e,t){return Gn(e.range,t.range)&&e.allDay===t.allDay&&function(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}(e,t)}function hr(e,t,n){return _r2(_r2({},vr(e,t,n)),{timeZone:t.timeZone})}function vr(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function gr(e,t,n){var r=On({editable:!1},n),o=Ln(r.refined,r.extra,"",e.allDay,!0,n);return{def:o,ui:er(o,t),instance:mt(o.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function mr(e,t,n){n.emitter.trigger("select",_r2(_r2({},yr(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function yr(e,t){for(var n,o,i={},a=0,s=t.pluginHooks.dateSpanTransforms;a<s.length;a++){var l=s[a];_r2(i,l(e,t))}return _r2(i,(n=e,o=t.dateEnv,_r2(_r2({},vr(n.range,o,n.allDay)),{allDay:n.allDay}))),i}function Er(e,t,n){var r=n.dateEnv,o=n.options,i=t;return e?(i=lt(i),i=r.add(i,o.defaultAllDayEventDuration)):i=r.add(i,o.defaultTimedEventDuration),i}function Sr(e,t,n,r){var o=Qn(e.defs,t),i={defs:{},instances:{}};for(var a in e.defs){var s=e.defs[a];i.defs[a]=br(s,o[a],n,r)}for(var l in e.instances){var u=e.instances[l];s=i.defs[u.defId],i.instances[l]=Dr(u,s,o[u.defId],n,r)}return i}function br(e,t,n,o){var i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);var a=_r2(_r2(_r2({},e),i),{ui:_r2(_r2({},e.ui),i.ui)});n.extendedProps&&(a.extendedProps=_r2(_r2({},a.extendedProps),n.extendedProps));for(var s=0,l=o.pluginHooks.eventDefMutationAppliers;s<l.length;s++)(0,l[s])(a,n,o);return!a.hasEnd&&o.options.forceEventDuration&&(a.hasEnd=!0),a}function Dr(e,t,n,o,i){var a=i.dateEnv,s=o.standardProps&&!0===o.standardProps.allDay,l=o.standardProps&&!1===o.standardProps.hasEnd,u=_r2({},e);return s&&(u.range=Un(u.range)),o.datesDelta&&n.startEditable&&(u.range={start:a.add(u.range.start,o.datesDelta),end:a.add(u.range.end,o.datesDelta)}),o.startDelta&&n.durationEditable&&(u.range={start:a.add(u.range.start,o.startDelta),end:u.range.end}),o.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:a.add(u.range.end,o.endDelta)}),l&&(u.range={start:u.range.start,end:Er(t.allDay,u.range.start,i)}),t.allDay&&(u.range={start:lt(u.range.start),end:lt(u.range.end)}),u.range.end<u.range.start&&(u.range.end=Er(t.allDay,u.range.start,i)),u}var Cr=function(){function e(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}return Object.defineProperty(e.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),e.prototype.getOption=function(e){return this.getCurrentData().options[e]},e}(),wr={id:String,defaultAllDay:Boolean,url:String,format:String,events:yn,eventDataTransform:yn,success:yn,failure:yn};function Rr(e,t,n){var r;if(void 0===n&&(n=_r(t)),"string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==_typeof(e)&&e&&(r=e),r){var o=mn(r,n),i=o.refined,a=o.extra,s=function(e,t){for(var n=t.pluginHooks.eventSourceDefs,r=n.length-1;r>=0;r-=1){var o=n[r].parseMeta(e);if(o)return{sourceDefId:r,meta:o}}return null}(i,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Le(),sourceDefId:s.sourceDefId,meta:s.meta,ui:kn(i,t),extendedProps:a}}return null}function _r(e){return _r2(_r2(_r2({},_n),wr),e.pluginHooks.eventSourceRefiners)}function Tr(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}var kr=function(){function e(){}return e.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},e.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(e.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),e.prototype.batchRendering=function(e){e()},e.prototype.updateSize=function(){this.trigger("_resize",!0)},e.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},e.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},e.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},e.prototype.on=function(e,t){var n=this.currentDataManager;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},e.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},e.prototype.trigger=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(t=this.currentDataManager.emitter).trigger.apply(t,o([e],n))},e.prototype.changeView=function(e,t){var n=this;this.batchRendering((function(){if(n.unselect(),t)if(t.start&&t.end)n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),n.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var r=n.getCurrentData().dateEnv;n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))},e.prototype.zoomTo=function(e,t){var n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},e.prototype.getUnitViewSpec=function(e){var t,n,r=this.getCurrentData(),o=r.viewSpecs,i=r.toolbarConfig,a=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(var s in o)a.push(s);for(t=0;t<a.length;t+=1)if((n=o[a[t]])&&n.singleUnit===e)return n;return null},e.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},e.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},e.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},e.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},e.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Tr(e.calendarOptions.now,e.dateEnv)})},e.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},e.prototype.incrementDate=function(e){var t=this.getCurrentData(),n=Nt(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))},e.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},e.prototype.formatDate=function(e,t){var n=this.getCurrentData().dateEnv;return n.format(n.createMarker(e),ln(t))},e.prototype.formatRange=function(e,t,n){var r=this.getCurrentData().dateEnv;return r.formatRange(r.createMarker(e),r.createMarker(t),ln(n),n)},e.prototype.formatIso=function(e,t){var n=this.getCurrentData().dateEnv;return n.formatIso(n.createMarker(e),{omitTime:t})},e.prototype.select=function(e,t){var n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};var r=this.getCurrentData(),o=function(e,t,n){var o=function(e,t){var n=mn(e,dr),o=n.refined,i=n.extra,a=o.start?t.createMarkerMeta(o.start):null,s=o.end?t.createMarkerMeta(o.end):null,l=o.allDay;return null==l&&(l=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified)),_r2({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:l},i)}(e,t),i=o.range;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return o}(n,r.dateEnv,Nt({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),mr(o,null,r))},e.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))},e.prototype.addEvent=function(e,t){if(e instanceof xr){var n=e._def,r=e._instance;return this.getCurrentData().eventStore.defs[n.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Sn({def:n,instance:r})}),this.triggerEventAdd(e)),e}var o,i=this.getCurrentData();if(t instanceof ye)o=t.internalEventSource;else if("boolean"==typeof t)t&&(o=Ct(i.eventSources)[0]);else if(null!=t){var a=this.getEventSourceById(t);if(!a)return console.warn('Could not find an event source with ID "'+t+'"'),null;o=a.internalEventSource}var s=Hn(e,o,i,!1);if(s){var l=new xr(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Sn(s)}),this.triggerEventAdd(l),l}return null},e.prototype.triggerEventAdd=function(e){var t=this;this.getCurrentData().emitter.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:Mr(e)})}})},e.prototype.getEventById=function(e){var t=this.getCurrentData(),n=t.eventStore,r=n.defs,o=n.instances;for(var i in e=String(e),r){var a=r[i];if(a.publicId===e){if(a.recurringDef)return new xr(t,a,null);for(var s in o){var l=o[s];if(l.defId===a.defId)return new xr(t,a,l)}}}return null},e.prototype.getEvents=function(){var e=this.getCurrentData();return Ir(e.eventStore,e)},e.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},e.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,n=[];for(var r in t)n.push(new ye(e,t[r]));return n},e.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),n=t.eventSources;for(var r in e=String(e),n)if(n[r].publicId===e)return new ye(t,n[r]);return null},e.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof ye)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var n=Rr(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new ye(t,n)):null},e.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},e.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},e.prototype.scrollToTime=function(e){var t=Nt(e);t&&this.trigger("_scrollRequest",{time:t})},e}(),xr=function(){function e(e,t,n){this._context=e,this._def=t,this._instance=n||null}return e.prototype.setProp=function(e,t){var n,r;if(e in Pn)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=In[e](t),this.mutate({standardProps:{publicId:t}});else if(e in In)t=In[e](t),this.mutate({standardProps:(n={},n[e]=t,n)});else if(e in _n){var o=_n[e](t);"color"===e?o={backgroundColor:t,borderColor:t}:"editable"===e?o={startEditable:t,durationEditable:t}:((r={})[e]=t,o=r),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},e.prototype.setExtendedProp=function(e,t){var n;this.mutate({extendedProps:(n={},n[e]=t,n)})},e.prototype.setStart=function(e,t){void 0===t&&(t={});var n=this._context.dateEnv,r=n.createMarker(e);if(r&&this._instance){var o=Fn(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}},e.prototype.setEnd=function(e,t){void 0===t&&(t={});var n,r=this._context.dateEnv;if((null==e||(n=r.createMarker(e)))&&this._instance)if(n){var o=Fn(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},e.prototype.setDates=function(e,t,n){void 0===n&&(n={});var r,o,i,a=this._context.dateEnv,s={allDay:n.allDay},l=a.createMarker(e);if(l&&(null==t||(r=a.createMarker(t)))&&this._instance){var u=this._instance.range;!0===n.allDay&&(u=Un(u));var c=Fn(u.start,l,a,n.granularity);if(r){var d=Fn(u.end,r,a,n.granularity);i=d,(o=c).years===i.years&&o.months===i.months&&o.days===i.days&&o.milliseconds===i.milliseconds?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}},e.prototype.moveStart=function(e){var t=Nt(e);t&&this.mutate({startDelta:t})},e.prototype.moveEnd=function(e){var t=Nt(e);t&&this.mutate({endDelta:t})},e.prototype.moveDates=function(e){var t=Nt(e);t&&this.mutate({datesDelta:t})},e.prototype.setAllDay=function(e,t){void 0===t&&(t={});var n={allDay:e},r=t.maintainDuration;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})},e.prototype.formatRange=function(e){var t=this._context.dateEnv,n=this._instance,r=ln(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})},e.prototype.mutate=function(t){var n=this._instance;if(n){var r=this._def,o=this._context,i=o.getCurrentData().eventStore,a=bn(i,n.instanceId);a=Sr(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,o);var s=new e(o,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],o.dispatch({type:"MERGE_EVENTS",eventStore:a}),o.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:Ir(a,o,n),revert:function(){o.dispatch({type:"RESET_EVENTS",eventStore:i})}})}},e.prototype.remove=function(){var e=this._context,t=Mr(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(e.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new ye(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),e.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._def,n=t.ui,o=this.startStr,i=this.endStr,a={};return t.title&&(a.title=t.title),o&&(a.start=o),i&&(a.end=i),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&"auto"!==n.display&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?_r2(a,t.extendedProps):a.extendedProps=t.extendedProps),a},e.prototype.toJSON=function(){return this.toPlainObject()},e}();function Mr(e){var t,n,r=e._def,o=e._instance;return{defs:(t={},t[r.defId]=r,t),instances:o?(n={},n[o.instanceId]=o,n):{}}}function Ir(e,t,n){var r=e.defs,o=e.instances,i=[],a=n?n.instanceId:"";for(var s in o){var l=o[s],u=r[l.defId];l.instanceId!==a&&i.push(new xr(t,u,l))}return i}var Nr,Pr={};Nr=function(){function e(){}return e.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},e.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},e.prototype.getMarkerDay=function(e){return e.getUTCDate()},e.prototype.arrayToMarker=function(e){return ht(e)},e.prototype.markerToArray=function(e){return ft(e)},e}(),Pr.gregory=Nr;var Or=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ar(e){var t=Or.exec(e);if(t){var n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(vt(n)){var r=null;return t[13]&&(r=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:r}}}return null}var Lr=function(){function e(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new Pr[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return e.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return null===t?null:t.marker},e.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ht(dt(new Date))},e.prototype.createMarkerMeta=function(e){if("string"==typeof e)return this.parse(e);var t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ht(e)),null!==t&&vt(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},e.prototype.parse=function(e){var t=Ar(e);if(null===t)return null;var n=t.marker,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}},e.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},e.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},e.prototype.add=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.subtract=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.addYears=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.addMonths=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.diffWholeYears=function(e,t){var n=this.calendarSystem;return gt(e)===gt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null},e.prototype.diffWholeMonths=function(e,t){var n=this.calendarSystem;return gt(e)===gt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null},e.prototype.greatestWholeUnit=function(e,t){var n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(e,t))?{unit:"month",value:n}:null!==(n=at(e,t))?{unit:"week",value:n}:null!==(n=st(e,t))?{unit:"day",value:n}:$e(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t))?{unit:"hour",value:n}:$e(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t))?{unit:"minute",value:n}:$e(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t))?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}},e.prototype.countDurationsBetween=function(e,t,n){var r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(Lt(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/function(e){return Lt(e)/30}(n):n.days&&null!==(r=st(e,t))?r/Lt(n):(t.valueOf()-e.valueOf())/Ut(n)},e.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?lt(e):"hour"===t?function(e){return ht([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return ht([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return ht([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null},e.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},e.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},e.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},e.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){var r=e.getUTCFullYear(),o=ut(e,r,t,n);if(o<1)return ut(e,r-1,t,n);var i=ut(e,r+1,t,n);return i>=1?Math.min(o,i):o}(e,this.weekDow,this.weekDoy)},e.prototype.format=function(e,t,n){return void 0===n&&(n={}),t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)},e.prototype.formatRange=function(e,t,n,r){return void 0===r&&(r={}),r.isEndExclusive&&(t=nt(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)},e.prototype.formatIso=function(e,t){void 0===t&&(t={});var n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),Ft(e,n,t.omitTime)},e.prototype.timestampToMarker=function(e){return"local"===this.timeZone?ht(dt(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ht(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},e.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-pt(ft(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ft(e)):null},e.prototype.toDate=function(e,t){return"local"===this.timeZone?pt(ft(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(ft(e))*60):new Date(e.valueOf()-(t||0))},e}(),Ur=[],Wr={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Vr=_r2(_r2({},Wr),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(e,t){return"day"===t?"Today":"This "+e}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(e){return"Show "+e+" more event"+(1===e?"":"s")}});function Fr(e){for(var t=e.length>0?e[0].code:"en",n=Ur.concat(e),r={en:Vr},o=0,i=n;o<i.length;o++){var a=i[o];r[a.code]=a}return{map:r,defaultCode:t}}function Br(e,t){return"object"!=_typeof(e)||Array.isArray(e)?function(e,t){var n=[].concat(e||[]),r=function(e,t){for(var n=0;n<e.length;n+=1)for(var r=e[n].toLocaleLowerCase().split("-"),o=r.length;o>0;o-=1){var i=r.slice(0,o).join("-");if(t[i])return t[i]}return null}(n,t)||Vr;return zr(e,n,r)}(e,t):zr(e.code,[e.code],e)}function zr(e,t,n){var r=Et([Wr,n],["buttonText"]);delete r.code;var o=r.week;return delete r.week,{codeArg:e,codes:t,week:o,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function jr(e){var t=Br(e.locale||"en",Fr([]).map);return new Lr(_r2(_r2({timeZone:cn.timeZone,calendarSystem:"gregory"},e),{locale:t}))}var Gr,qr={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Yr(e,t){return En(function(e){return(!0===e?[{}]:Array.isArray(e)?e.filter((function(e){return e.daysOfWeek})):"object"==_typeof(e)&&e?[e]:[]).map((function(e){return _r2(_r2({},qr),e)}))}(e),null,t)}function Zr(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Xr(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Kr(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function $r(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function Jr(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Qr(){return null==Gr&&(Gr=function(){if("undefined"==typeof document)return!0;var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);var t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),Gr}var eo={defs:{},instances:{}},to=function(){function e(){this.getKeysForEventDefs=qt(this._getKeysForEventDefs),this.splitDateSelection=qt(this._splitDateSpan),this.splitEventStore=qt(this._splitEventStore),this.splitIndividualUi=qt(this._splitIndividualUi),this.splitEventDrag=qt(this._splitInteraction),this.splitEventResize=qt(this._splitInteraction),this.eventUiBuilders={}}return e.prototype.splitProps=function(e){var t=this,n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,r),a=this.splitEventStore(e.eventStore,r),s=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};for(var c in this.eventUiBuilders=bt(n,(function(e,n){return t.eventUiBuilders[n]||qt(no)})),n){var d=n[c],p=a[c]||eo,f=this.eventUiBuilders[c];u[c]={businessHours:d.businessHours||e.businessHours,dateSelection:o[c]||null,eventStore:p,eventUiBases:f(e.eventUiBases[""],d.ui,i[c]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[c]||null,eventResize:l[c]||null}}return u},e.prototype._splitDateSpan=function(e){var t={};if(e)for(var n=0,r=this.getKeysForDateSpan(e);n<r.length;n++)t[r[n]]=e;return t},e.prototype._getKeysForEventDefs=function(e){var t=this;return bt(e.defs,(function(e){return t.getKeysForEventDef(e)}))},e.prototype._splitEventStore=function(e,t){var n=e.defs,r=e.instances,o={};for(var i in n)for(var a=0,s=t[i];a<s.length;a++)o[p=s[a]]||(o[p]={defs:{},instances:{}}),o[p].defs[i]=n[i];for(var l in r)for(var u=r[l],c=0,d=t[u.defId];c<d.length;c++){var p;o[p=d[c]]&&(o[p].instances[l]=u)}return o},e.prototype._splitIndividualUi=function(e,t){var n={};for(var r in e)if(r)for(var o=0,i=t[r];o<i.length;o++){var a=i[o];n[a]||(n[a]={}),n[a][r]=e[r]}return n},e.prototype._splitInteraction=function(e){var t={};if(e){var n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),i=function(r){t[r]||(t[r]={affectedEvents:n[r]||eo,mutatedEvents:o[r]||eo,isEvent:e.isEvent})};for(var a in n)i(a);for(var a in o)i(a)}return t},e}();function no(e,t,n){var o=[];e&&o.push(e),t&&o.push(t);var i={"":xn(o)};return n&&_r2(i,n),i}function ro(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&!Zn(r.activeRange,e)),isOther:Boolean(r&&!Zn(r.currentRange,e)),isToday:Boolean(t&&Zn(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function oo(e,t){var n=["fc-day","fc-day-"+Qe[e.dow]];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}var io=ln({year:"numeric",month:"long",day:"numeric"}),ao=ln({week:"long"});function so(e,t,n,o){void 0===n&&(n="day"),void 0===o&&(o=!0);var i=e.dateEnv,a=e.options,s=e.calendarApi,l=i.format(t,"week"===n?ao:io);if(a.navLinks){var u=i.toDate(t),c=function(e){var r="day"===n?a.navLinkDayClick:"week"===n?a.navLinkWeekClick:null;"function"==typeof r?r.call(s,i.toDate(t),e):("string"==typeof r&&(n=r),s.zoomTo(t,n))};return _r2({title:Xe(a.navLinkHint,[l,u],l),"data-navlink":""},o?He(c):{onClick:c})}return{"aria-label":l}}var lo,uo=null;function co(){return null===uo&&(uo=function(){var e=document.createElement("div");we(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);var t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return Ee(e),t}()),uo}function po(){return lo||(lo=function(){var e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);var t=fo(e);return document.body.removeChild(e),t}()),lo}function fo(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function ho(e,t){void 0===t&&(t=!1);var n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,o=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,s=fo(e),l=s.y-r-o,u={borderLeft:r,borderRight:o,borderTop:i,borderBottom:a,scrollbarBottom:s.x-i-a,scrollbarLeft:0,scrollbarRight:0};return co()&&"rtl"===n.direction?u.scrollbarLeft=l:u.scrollbarRight=l,t&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function vo(e,t,n){void 0===t&&(t=!1);var r=n?e.getBoundingClientRect():go(e),o=ho(e,t),i={left:r.left+o.borderLeft+o.scrollbarLeft,right:r.right-o.borderRight-o.scrollbarRight,top:r.top+o.borderTop,bottom:r.bottom-o.borderBottom-o.scrollbarBottom};return t&&(i.left+=o.paddingLeft,i.right-=o.paddingRight,i.top+=o.paddingTop,i.bottom-=o.paddingBottom),i}function go(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function mo(e){for(var t=[];e instanceof HTMLElement;){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function yo(e,t,n){var r=!1,o=function(){r||(r=!0,t.apply(this,arguments))},i=function(){r||(r=!0,n&&n.apply(this,arguments))},a=e(o,i);a&&"function"==typeof a.then&&a.then(o,i)}var Eo=function(){function e(){this.handlers={},this.thisContext=null}return e.prototype.setThisContext=function(e){this.thisContext=e},e.prototype.setOptions=function(e){this.options=e},e.prototype.on=function(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)},e.prototype.off=function(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter((function(e){return e!==n}))):delete e[t]}(this.handlers,e,t)},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=this.handlers[e]||[],o=this.options&&this.options[e],i=[].concat(o||[],r),a=0,s=i;a<s.length;a++){var l=s[a];l.apply(this.thisContext,t)}},e.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},e}(),So=function(){function e(e,t,n,r){this.els=t;var o=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}return e.prototype.buildElHorizontals=function(e){for(var t=[],n=[],r=0,o=this.els;r<o.length;r++){var i=o[r].getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n},e.prototype.buildElVerticals=function(e){for(var t=[],n=[],r=0,o=this.els;r<o.length;r++){var i=o[r].getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n},e.prototype.leftToIndex=function(e){var t,n=this.lefts,r=this.rights,o=n.length;for(t=0;t<o;t+=1)if(e>=n[t]&&e<r[t])return t},e.prototype.topToIndex=function(e){var t,n=this.tops,r=this.bottoms,o=n.length;for(t=0;t<o;t+=1)if(e>=n[t]&&e<r[t])return t},e.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},e.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},e}(),bo=function(){function e(){}return e.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},e.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},e.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},e.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},e.prototype.canScrollUp=function(){return this.getScrollTop()>0},e.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},e.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},e.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},e}(),Do=function(e){function t(t){var n=e.call(this)||this;return n.el=t,n}return n(t,e),t.prototype.getScrollTop=function(){return this.el.scrollTop},t.prototype.getScrollLeft=function(){return this.el.scrollLeft},t.prototype.setScrollTop=function(e){this.el.scrollTop=e},t.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},t.prototype.getScrollWidth=function(){return this.el.scrollWidth},t.prototype.getScrollHeight=function(){return this.el.scrollHeight},t.prototype.getClientHeight=function(){return this.el.clientHeight},t.prototype.getClientWidth=function(){return this.el.clientWidth},t}(bo),Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(bo),wo=function(){function e(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return e.prototype.setIconOverride=function(e){var t,n;if("object"==_typeof(e)&&e){for(n in t=_r2({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},e.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},e.prototype.getClass=function(e){return this.classes[e]||""},e.prototype.getIconClass=function(e,t){var n;return(n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e])?this.baseIconClass+" "+n:""},e.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},e}();if(wo.prototype.classes={},wo.prototype.iconClasses={},wo.prototype.baseIconClass="",wo.prototype.iconOverridePrefix="","undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var Ro=FullCalendarVDom.Component,_o=FullCalendarVDom.createElement,To=FullCalendarVDom.render,ko=FullCalendarVDom.createRef,xo=FullCalendarVDom.Fragment,Mo=FullCalendarVDom.createContext,Io=FullCalendarVDom.createPortal,Po=FullCalendarVDom.flushToDom,No=FullCalendarVDom.unmountComponentAtNode,Ho=function(){function e(e,t,n,o){var i=this;this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=o,this.handleScrollRequest=function(e){i.queuedRequest=_r2({},i.queuedRequest||{},e),i.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return e.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},e.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},e.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},e.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},e}(),Oo=Mo({});function Ao(e,t,n,r,o,i,a,s,l,u,c,d,p){return{dateEnv:o,options:n,pluginHooks:a,emitter:u,dispatch:s,getCurrentData:l,calendarApi:c,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:i,isRtl:"rtl"===n.direction,addResizeHandler:function(e){u.on("_resize",e)},removeResizeHandler:function(e){u.off("_resize",e)},createScrollResponder:function(e){return new Ho(e,u,Nt(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:p}}var Lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.debug&&console.log(Rt(e,this.props),Rt(t,this.state)),!_t(this.props,e,this.propEquality)||!_t(this.state,t,this.stateEquality)},t.addPropsEquality=Wo,t.addStateEquality=Vo,t.contextType=Oo,t}(Ro);Lo.prototype.propEquality={},Lo.prototype.stateEquality={};var Uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.contextType=Oo,t}(Lo);function Wo(e){var t=Object.create(this.prototype.propEquality);_r2(t,e),this.prototype.propEquality=t}function Vo(e){var t=Object.create(this.prototype.stateEquality);_r2(t,e),this.prototype.stateEquality=t}function Fo(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uid=Le(),t}return n(t,e),t.prototype.prepareHits=function(){},t.prototype.queryHit=function(e,t,n,r){return null},t.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!Se(e,".fc-event-mirror")},t.prototype.isValidDateDownEl=function(e){return!(Se(e,".fc-event:not(.fc-bg-event)")||Se(e,".fc-more-link")||Se(e,"a[data-navlink]")||Se(e,".fc-popover"))},t}(Uo);function zo(e){return{id:Le(),deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,contentTypeHandlers:e.contentTypeHandlers||{},listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}var Go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(wo);function qo(e,t,n,o){if(t[e])return t[e];var i=function(e,t,n,o){var i=n[e],a=o[e],s=function(e){return i&&null!==i[e]?i[e]:a&&null!==a[e]?a[e]:null},l=s("component"),u=s("superType"),c=null;if(u){if(u===e)throw new Error("Can't have a custom view type that references itself");c=qo(u,t,n,o)}return!l&&c&&(l=c.component),l?{type:e,component:l,defaults:_r2(_r2({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:_r2(_r2({},c?c.overrides:{}),a?a.rawOptions:{})}:null}(e,t,n,o);return i&&(t[e]=i),i}Go.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Go.prototype.baseIconClass="fc-icon",Go.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Go.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Go.prototype.iconOverrideOption="buttonIcons",Go.prototype.iconOverrideCustomButtonOption="icon",Go.prototype.iconOverridePrefix="fc-icon-";var Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=ko(),t.handleRootEl=function(e){Fo(t.rootElRef,e),t.props.elRef&&Fo(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.hookProps;return _o($o,{hookProps:n,didMount:t.didMount,willUnmount:t.willUnmount,elRef:this.handleRootEl},(function(r){return _o(Xo,{hookProps:n,content:t.content,defaultContent:t.defaultContent,backupElRef:e.rootElRef},(function(e,o){return t.children(r,Qo(t.classNames,n),e,o)}))}))},t}(Uo),Zo=Mo(0);function Xo(e){return _o(Zo.Consumer,null,(function(t){return _o(Ko,_r2({renderId:t},e))}))}var Ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerElRef=ko(),t}return n(t,e),t.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},t.prototype.componentDidMount=function(){this.updateCustomContent()},t.prototype.componentDidUpdate=function(){this.updateCustomContent()},t.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},t.prototype.renderInnerContent=function(){var e=this.customContentInfo,t=this.getInnerContent(),n=this.getContentMeta(t);return e&&e.contentKey===n.contentKey?e&&(e.contentVal=t[n.contentKey]):(e&&(e.destroy&&e.destroy(),e=this.customContentInfo=null),n.contentKey&&(e=this.customContentInfo=_r2({contentKey:n.contentKey,contentVal:t[n.contentKey]},n.buildLifecycleFuncs()))),e?[]:t},t.prototype.getInnerContent=function(){var e=this.props,t=ei(e.content,e.hookProps);return void 0===t&&(t=ei(e.defaultContent,e.hookProps)),null==t?null:t},t.prototype.getContentMeta=function(e){var t=this.context.pluginHooks.contentTypeHandlers,n="",r=null;if(e)for(var o in t)if(void 0!==e[o]){n=o,r=t[o];break}return{contentKey:n,buildLifecycleFuncs:r}},t.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},t}(Uo),$o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Fo(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){return this.props.children(this.handleRootEl)},t.prototype.componentDidMount=function(){var e=this.props.didMount;e&&e(_r2(_r2({},this.props.hookProps),{el:this.rootEl}))},t.prototype.componentWillUnmount=function(){var e=this.props.willUnmount;e&&e(_r2(_r2({},this.props.hookProps),{el:this.rootEl}))},t}(Uo);function Jo(){var e,t,n=[];return function(r,o){return t&&wt(t,o)&&r===e||(e=r,t=o,n=Qo(r,o)),n}}function Qo(e,t){return"function"==typeof e&&(e=e(t)),Rn(e)}function ei(e,t){return"function"==typeof e?e(t,_o):e}var ti=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalizeClassNames=Jo(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r={view:t.viewApi},o=this.normalizeClassNames(n.viewClassNames,r);return _o($o,{hookProps:r,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount,elRef:e.elRef},(function(t){return e.children(t,["fc-"+e.viewSpec.type+"-view","fc-view"].concat(o))}))},t}(Uo);function ni(e){return bt(e,ri)}function ri(e){var t,n="function"==typeof e?{component:e}:e,o=n.component;return n.content&&(t=n,o=function(e){return _o(Oo.Consumer,null,(function(n){return _o(ti,{viewSpec:n.viewSpec},(function(o,i){var a=_r2(_r2({},e),{nextDayThreshold:n.options.nextDayThreshold});return _o(Yo,{hookProps:a,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:o},(function(e,t,n,r){return _o("div",{className:i.concat(t).join(" "),ref:e},r)}))}))}))}),{superType:n.type,component:o,rawOptions:n}}function oi(e,t,n,o){var i=ni(e),a=ni(t.views);return bt(function(e,t){var n,r={};for(n in e)qo(n,r,e,t);for(n in t)qo(n,r,e,t);return r}(i,a),(function(e){return function(e,t,n,o,i){var a=e.overrides.duration||e.defaults.duration||o.duration||n.duration,s=null,l="",u="",c={};if(a&&(s=function(e){var t=JSON.stringify(e),n=ii[t];return void 0===n&&(n=Nt(e),ii[t]=n),n}(a))){var d=Vt(s);l=d.unit,1===d.value&&(u=l,c=t[l]?t[l].rawOptions:{})}var p=function(t){var n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null},f=function(t){var n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[u]?n[u]:null};return{type:e.type,component:e.component,duration:s,durationUnit:l,singleUnit:u,optionDefaults:e.defaults,optionOverrides:_r2(_r2({},c),e.overrides),buttonTextOverride:p(o)||p(n)||e.overrides.buttonText,buttonTextDefault:p(i)||e.defaults.buttonText||p(cn)||e.type,buttonTitleOverride:f(o)||f(n)||e.overrides.buttonHint,buttonTitleDefault:f(i)||e.defaults.buttonHint||f(cn)}}(e,a,t,n,o)}))}var ii={},ai=function(){function e(e){this.props=e,this.nowDate=Tr(e.nowInput,e.dateEnv),this.initHiddenDays()}return e.prototype.buildPrev=function(e,t,n){var r=this.props.dateEnv,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,n)},e.prototype.buildNext=function(e,t,n){var r=this.props.dateEnv,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,n)},e.prototype.build=function(e,t,n){void 0===n&&(n=!0);var r,o,i,a,s,l,u,c,d=this.props;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(u=e,e=null!=(c=r).start&&u<c.start?c.start:null!=c.end&&u>=c.end?new Date(c.end.valueOf()-1):u),o=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,i),s=a=this.trimHiddenDays(a),d.showNonCurrentDates||(s=jn(s,o.range)),s=jn(s=this.adjustActiveRange(s),r),l=qn(o.range,r),{validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:i,activeRange:s,renderRange:a,slotMinTime:d.slotMinTime,slotMaxTime:d.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(o.duration)}},e.prototype.buildValidRange=function(){var e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}},e.prototype.buildCurrentRangeInfo=function(e,t){var n,r=this.props,o=null,i=null,a=null;return r.duration?(o=r.duration,i=r.durationUnit,a=this.buildRangeFromDuration(e,t,o,i)):(n=this.props.dayCount)?(i="day",a=this.buildRangeFromDayCount(e,t,n)):(a=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=Vt(o=this.getFallbackDuration()).unit,a=this.buildRangeFromDuration(e,t,o,i)),{duration:o,unit:i,range:a}},e.prototype.getFallbackDuration=function(){return Nt({day:1})},e.prototype.adjustActiveRange=function(e){var t=this.props,n=t.dateEnv,r=t.usesMinMaxTime,o=t.slotMinTime,i=t.slotMaxTime,a=e.start,s=e.end;return r&&(Lt(o)<0&&(a=lt(a),a=n.add(a,o)),Lt(i)>1&&(s=tt(s=lt(s),-1),s=n.add(s,i))),{start:a,end:s}},e.prototype.buildRangeFromDuration=function(e,t,n,r){var o,i,a,s=this.props,l=s.dateEnv,u=s.dateAlignment;if(!u){var c=this.props.dateIncrement;u=c&&Ut(c)<Ut(n)?Vt(c).unit:r}function d(){o=l.startOf(e,u),i=l.add(o,n),a={start:o,end:i}}return Lt(n)<=1&&this.isHiddenDay(o)&&(o=lt(o=this.skipHiddenDays(o,t))),d(),this.trimHiddenDays(a)||(e=this.skipHiddenDays(e,t),d()),a},e.prototype.buildRangeFromDayCount=function(e,t,n){var r,o=this.props,i=o.dateEnv,a=o.dateAlignment,s=0,l=e;a&&(l=i.startOf(l,a)),l=lt(l),r=l=this.skipHiddenDays(l,t);do{r=tt(r,1),this.isHiddenDay(r)||(s+=1)}while(s<n);return{start:l,end:r}},e.prototype.buildCustomVisibleRange=function(e){var t=this.props,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,o=this.refineRange(r);return!o||null!=o.start&&null!=o.end?o:null},e.prototype.buildRenderRange=function(e,t,n){return e},e.prototype.buildDateIncrement=function(e){var t;return this.props.dateIncrement||((t=this.props.dateAlignment)?Nt(1,t):e||Nt({days:1}))},e.prototype.refineRange=function(e){if(e){var t=(n=e,r=this.props.dateEnv,o=null,i=null,n.start&&(o=r.createMarker(n.start)),n.end&&(i=r.createMarker(n.end)),o||i?o&&i&&i<o?null:{start:o,end:i}:null);return t&&(t=Wn(t)),t}var n,r,o,i;return null},e.prototype.initHiddenDays=function(){var e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(e){var t=e.start,n=e.end;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null},e.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},e.prototype.skipHiddenDays=function(e,t,n){for(void 0===t&&(t=1),void 0===n&&(n=!1);this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=tt(e,t);return e},e}();function ui(e){for(var t in e)if(e[t].isFetching)return!0;return!1}function ci(e,t,n,o){for(var i={},a=0,s=t;a<s.length;a++){var l=s[a];i[l.sourceId]=l}return n&&(i=di(i,n,o)),_r2(_r2({},e),i)}function di(e,t,n){return pi(e,St(e,(function(e){return function(e,t,n){return vi(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}(e,t,n)})),t,!1,n)}function pi(e,t,n,r,o){var i={};for(var a in e){var s=e[a];t[a]?i[a]=fi(s,n,r,o):i[a]=s}return i}function fi(e,t,n,o){var i=o.options,a=o.calendarApi,s=o.pluginHooks.eventSourceDefs[e.sourceDefId],l=Le();return s.fetch({eventSource:e,range:t,isRefetch:n,context:o},(function(n){var r=n.rawEvents;i.eventSourceSuccess&&(r=i.eventSourceSuccess.call(a,r,n.xhr)||r),e.success&&(r=e.success.call(a,r,n.xhr)||r),o.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:r})}),(function(n){console.warn(n.message,n),i.eventSourceFailure&&i.eventSourceFailure.call(a,n),e.failure&&e.failure(n),o.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})})),_r2(_r2({},e),{isFetching:!0,latestFetchId:l})}function hi(e,t){return St(e,(function(e){return vi(e,t)}))}function vi(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function mi(e,t){var n;if(t){n=[];for(var r=0,o=e;r<o.length;r++){var i=o[r],a=t(i);a?n.push(a):null==a&&n.push(i)}}else n=e;return n}function yi(e,t){return wn(e,(function(e){return e.sourceId!==t}))}function Ei(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function Si(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function bi(e,t){var n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Di(e,t){var n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Ci(e,t,n,r,o){return{header:e.headerToolbar?wi(e.headerToolbar,e,t,n,r,o):null,footer:e.footerToolbar?wi(e.footerToolbar,e,t,n,r,o):null}}function wi(e,t,n,r,o,i){var a={},s=[],l=!1;for(var u in e){var c=Ri(e[u],t,n,r,o,i);a[u]=c.widgets,s.push.apply(s,c.viewsWithButtons),l=l||c.hasTitle}return{sectionWidgets:a,viewsWithButtons:s,hasTitle:l}}function Ri(e,t,n,r,o,i){var a="rtl"===t.direction,s=t.customButtons||{},l=n.buttonText||{},u=t.buttonText||{},c=n.buttonHints||{},d=t.buttonHints||{},p=e?e.split(" "):[],f=[],h=!1;return{widgets:p.map((function(e){return e.split(",").map((function(e){if("title"===e)return h=!0,{buttonName:e};var n,p,v,g,m,y;if(n=s[e])v=function(e){n.click&&n.click.call(e.target,e,e.target)},(g=r.getCustomButtonIconClass(n))||(g=r.getIconClass(e,a))||(m=n.text),y=n.hint||n.text;else if(p=o[e]){f.push(e),v=function(){i.changeView(e)},(m=p.buttonTextOverride)||(g=r.getIconClass(e,a))||(m=p.buttonTextDefault);var E=p.buttonTextOverride||p.buttonTextDefault;y=Xe(p.buttonTitleOverride||p.buttonTitleDefault||t.viewHint,[E,e],E)}else if(i[e])if(v=function(){i[e]()},(m=l[e])||(g=r.getIconClass(e,a))||(m=u[e]),"prevYear"===e||"nextYear"===e){var S="prevYear"===e?"prev":"next";y=Xe(c[S]||d[S],[u.year||"year","year"],u[e])}else y=function(t){return Xe(c[e]||d[e],[u[t]||t,t],u[e])};return{buttonName:e,buttonClick:v,buttonIcon:g,buttonText:m,buttonHint:y}}))})),viewsWithButtons:f,hasTitle:h}}function _i(e,t,n,r,o){var i=null;"GET"===(e=e.toUpperCase())?t=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+Ti(t)}(t,n):i=Ti(n);var a=new XMLHttpRequest;a.open(e,t,!0),"GET"!==e&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var e=!1,t=void 0;try{t=JSON.parse(a.responseText),e=!0}catch(e){}e?r(t,a):o("Failure parsing JSON",a)}else o("Request failed",a)},a.onerror=function(){o("Request failed",a)},a.send(i)}function Ti(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function ki(e,t){for(var n=Ct(t.getCurrentData().eventSources),r=[],o=0,i=e;o<i.length;o++){for(var a=i[o],s=!1,l=0;l<n.length;l+=1)if(n[l]._raw===a){n.splice(l,1),s=!0;break}s||r.push(a)}for(var u=0,c=n;u<c.length;u++){var d=c[u];t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:d.sourceId})}for(var p=0,f=r;p<f.length;p++){var h=f[p];t.calendarApi.addEventSource(h)}}var xi=[zo({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(e){return Array.isArray(e.events)?e.events:null},fetch:function(e,t){t({rawEvents:e.eventSource.meta})}}]}),zo({eventSourceDefs:[{parseMeta:function(e){return"function"==typeof e.events?e.events:null},fetch:function(e,t,n){var r=e.context.dateEnv;yo(e.eventSource.meta.bind(null,hr(e.range,r)),(function(e){t({rawEvents:e})}),n)}}]}),zo({eventSourceRefiners:{method:String,extraParams:yn,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(e){return!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch:function(e,t,n){var o=e.eventSource.meta,i=function(e,t,n){var o,i,a,s,l=n.dateEnv,u=n.options,c={};return null==(o=e.startParam)&&(o=u.startParam),null==(i=e.endParam)&&(i=u.endParam),null==(a=e.timeZoneParam)&&(a=u.timeZoneParam),s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},_r2(c,s),c[o]=l.formatIso(t.start),c[i]=l.formatIso(t.end),"local"!==l.timeZone&&(c[a]=l.timeZone),c}(o,e.range,e.context);_i(o.method,o.url,i,(function(e,n){t({rawEvents:e,xhr:n})}),(function(e,t){n({message:e,xhr:t})}))}}]}),zo({recurringTypes:[{parse:function(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null},r=void 0;return e.duration&&(r=e.duration),!r&&e.startTime&&e.endTime&&(o=e.endTime,i=e.startTime,r={years:o.years-i.years,months:o.months-i.months,days:o.days-i.days,milliseconds:o.milliseconds-i.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:r,typeData:n}}var o,i;return null},expand:function(e,t,n){var r=jn(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r){for(var o=e?Dt(e):null,i=lt(n.start),a=n.end,s=[];i<a;){var l=void 0;o&&!o[i.getUTCDay()]||(l=t?r.add(i,t):i,s.push(l)),i=tt(i,1)}return s}(e.daysOfWeek,e.startTime,r,n):[]}}],eventRefiners:{daysOfWeek:yn,startTime:Nt,endTime:Nt,duration:Nt,startRecur:yn,endRecur:yn}}),zo({optionChangeHandlers:{events:function(e,t){ki([e],t)},eventSources:ki}}),zo({isLoadingFuncs:[function(e){return ui(e.eventSources)}],contentTypeHandlers:{html:function(){var e=null,t="";return{render:function(n,r){n===e&&r===t||(n.innerHTML=r),e=n,t=r},destroy:function(){e.innerHTML="",e=null,t=""}}},domNodes:function(){var e=null,t=[];function n(){t.forEach(Ee),t=[],e=null}return{render:function(r,o){var i=Array.prototype.slice.call(o);if(r!==e||!Gt(t,i)){for(var a=0,s=i;a<s.length;a++){var l=s[a];r.appendChild(l)}n()}e=r,t=i},destroy:n}}},propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",_r2(_r2({},hr(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){var n=t.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ir(e,t))}}})],Mi=function(){function e(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return e.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},e.prototype.pause=function(e){void 0===e&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},e.prototype.resume=function(e,t){void 0===e&&(e="");var n=this.pauseDepths;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())},e.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},e.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},e.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},e.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},e.prototype.drained=function(){this.drainedOption&&this.drainedOption()},e}(),Ii=function(){function e(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Mi(this.drain.bind(this))}return e.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},e.prototype.pause=function(e){this.delayedRunner.pause(e)},e.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},e.prototype.drain=function(){for(var e=this.queue;e.length;){for(var t=[],n=void 0;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}},e.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},e.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},e}();function Pi(e,t,n){var r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,ln(t.titleFormat||function(e){var t=e.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var n=st(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}var Ni=function(){function e(e){var t=this;this.computeOptionsData=qt(this._computeOptionsData),this.computeCurrentViewData=qt(this._computeCurrentViewData),this.organizeRawLocales=qt(Fr),this.buildLocale=qt(Br),this.buildPluginHooks=function(){var e,t=[],n=[];return function(o,i){return e&&Gt(o,t)&&Gt(i,n)||(e=function(e,t){var n={},o={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(var t=0,a=e;t<a.length;t++){var s=a[t];n[s.id]||(n[s.id]=!0,i(s.deps),u=s,o={reducers:(l=o).reducers.concat(u.reducers),isLoadingFuncs:l.isLoadingFuncs.concat(u.isLoadingFuncs),contextInit:l.contextInit.concat(u.contextInit),eventRefiners:_r2(_r2({},l.eventRefiners),u.eventRefiners),eventDefMemberAdders:l.eventDefMemberAdders.concat(u.eventDefMemberAdders),eventSourceRefiners:_r2(_r2({},l.eventSourceRefiners),u.eventSourceRefiners),isDraggableTransformers:l.isDraggableTransformers.concat(u.isDraggableTransformers),eventDragMutationMassagers:l.eventDragMutationMassagers.concat(u.eventDragMutationMassagers),eventDefMutationAppliers:l.eventDefMutationAppliers.concat(u.eventDefMutationAppliers),dateSelectionTransformers:l.dateSelectionTransformers.concat(u.dateSelectionTransformers),datePointTransforms:l.datePointTransforms.concat(u.datePointTransforms),dateSpanTransforms:l.dateSpanTransforms.concat(u.dateSpanTransforms),views:_r2(_r2({},l.views),u.views),viewPropsTransformers:l.viewPropsTransformers.concat(u.viewPropsTransformers),isPropsValid:u.isPropsValid||l.isPropsValid,externalDefTransforms:l.externalDefTransforms.concat(u.externalDefTransforms),viewContainerAppends:l.viewContainerAppends.concat(u.viewContainerAppends),eventDropTransformers:l.eventDropTransformers.concat(u.eventDropTransformers),calendarInteractions:l.calendarInteractions.concat(u.calendarInteractions),componentInteractions:l.componentInteractions.concat(u.componentInteractions),themeClasses:_r2(_r2({},l.themeClasses),u.themeClasses),eventSourceDefs:l.eventSourceDefs.concat(u.eventSourceDefs),cmdFormatter:u.cmdFormatter||l.cmdFormatter,recurringTypes:l.recurringTypes.concat(u.recurringTypes),namedTimeZonedImpl:u.namedTimeZonedImpl||l.namedTimeZonedImpl,initialView:l.initialView||u.initialView,elementDraggingImpl:l.elementDraggingImpl||u.elementDraggingImpl,optionChangeHandlers:_r2(_r2({},l.optionChangeHandlers),u.optionChangeHandlers),scrollGridImpl:u.scrollGridImpl||l.scrollGridImpl,contentTypeHandlers:_r2(_r2({},l.contentTypeHandlers),u.contentTypeHandlers),listenerRefiners:_r2(_r2({},l.listenerRefiners),u.listenerRefiners),optionRefiners:_r2(_r2({},l.optionRefiners),u.optionRefiners),propSetHandlers:_r2(_r2({},l.propSetHandlers),u.propSetHandlers)})}var l,u}return e&&i(e),i(t),o}(o,i)),t=o,n=i,e}}(),this.buildDateEnv=qt(Hi),this.buildTheme=qt(Oi),this.parseToolbars=qt(Ci),this.buildViewSpecs=qt(oi),this.buildDateProfileGenerator=Yt(Ai),this.buildViewApi=qt(Li),this.buildViewUiProps=Yt(Vi),this.buildEventUiBySource=qt(Ui,wt),this.buildEventUiBases=qt(Wi),this.parseContextBusinessHours=Yt(Bi),this.buildTitle=qt(Pi),this.emitter=new Eo,this.actionRunner=new Ii(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(e){t.actionRunner.request(e)},this.props=e,this.actionRunner.pause();var n={},o=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=o.calendarOptions.initialView||o.pluginHooks.initialView,a=this.computeCurrentViewData(i,o,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var s,l,u,c=(s=o.calendarOptions,l=o.dateEnv,null!=(u=s.initialDate)?l.createMarker(u):Tr(s.now,l)),d=a.dateProfileGenerator.build(c);Zn(d.activeRange,c)||(c=d.currentRange.start);for(var p={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=0,h=o.pluginHooks.contextInit;f<h.length;f++)(0,h[f])(p);for(var v=function(e,t,n){var r=t?t.activeRange:null;return ci({},function(e,t){var n=_r(t),r=[].concat(e.eventSources||[]),o=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(var i=0,a=r;i<a.length;i++){var s=Rr(a[i],t,n);s&&o.push(s)}return o}(e,n),r,n)}(o.calendarOptions,d,p),g={dynamicOptionOverrides:n,currentViewType:i,currentDate:c,dateProfile:d,businessHours:this.parseContextBusinessHours(p),eventSources:v,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(p).selectionConfig},m=_r2(_r2({},p),g),y=0,E=o.pluginHooks.reducers;y<E.length;y++){var S=E[y];_r2(g,S(null,null,m))}Fi(g,p)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}return e.prototype.resetOptions=function(e,t){var n=this.props;n.optionOverrides=t?_r2(_r2({},n.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},e.prototype._handleAction=function(e){var t=this,n=t.props,o=t.state,i=t.emitter,a=function(e,t){var n;switch(t.type){case"SET_OPTION":return _r2(_r2({},e),((n={})[t.optionName]=t.rawOptionValue,n));default:return e}}(o.dynamicOptionOverrides,e),s=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),l=function(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}(o.currentViewType,e),u=this.computeCurrentViewData(l,s,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(u.options);var c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},d=o.currentDate,p=o.dateProfile;this.data&&this.data.dateProfileGenerator!==u.dateProfileGenerator&&(p=u.dateProfileGenerator.build(d)),p=function(e,t,n,r){var o;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((o=r.buildPrev(e,n)).isValid)return o;break;case"NEXT":if((o=r.buildNext(e,n)).isValid)return o}return e}(p,e,d=function(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}(d,e),u.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&Zn(p.currentRange,d)||(d=p.currentRange.start);for(var f=function(e,t,n,o){var i,a,s=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return ci(e,t.sources,s,o);case"REMOVE_EVENT_SOURCE":return i=e,a=t.sourceId,St(i,(function(e){return e.sourceId!==a}));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?di(e,s,o):e;case"FETCH_EVENT_SOURCES":return pi(e,t.sourceIds?Dt(t.sourceIds):hi(e,o),s,t.isRefetch||!1,o);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,o){var i,a=e[t];return a&&n===a.latestFetchId?_r2(_r2({},e),((i={})[t]=_r2(_r2({},a),{isFetching:!1,fetchRange:o}),i)):e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(o.eventSources,e,p,c),h=function(e,t,n,r,o){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,o,i){if(t&&n===t.latestFetchId){var a=En(function(e,t,n){var r=n.options.eventDataTransform,o=t?t.eventDataTransform:null;return o&&(e=mi(e,o)),r&&(e=mi(e,r)),e}(o,t,i),t,i);return r&&(a=xt(a,r,i)),Cn(yi(e,t.sourceId),a)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,o);case"ADD_EVENTS":return function(e,t,n,r){return n&&(t=xt(t,n,r)),Cn(e,t)}(e,t.eventStore,r?r.activeRange:null,o);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Cn(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?xt(e,r.activeRange,o):e;case"REMOVE_EVENTS":return function(e,t){var n=e.defs,r=e.instances,o={},i={};for(var a in n)t.defs[a]||(o[a]=n[a]);for(var s in r)!t.instances[s]&&o[r[s].defId]&&(i[s]=r[s]);return{defs:o,instances:i}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return yi(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return wn(e,(function(e){return!e.sourceId}));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}(o.eventStore,e,f,p,c),v=ui(f)&&!u.options.progressiveEventRendering&&o.renderableEventStore||h,g=this.buildViewUiProps(c),m=g.eventUiSingleBase,y=g.selectionConfig,E=this.buildEventUiBySource(f),S={dynamicOptionOverrides:a,currentViewType:l,currentDate:d,dateProfile:p,eventSources:f,eventStore:h,renderableEventStore:v,selectionConfig:y,eventUiBases:this.buildEventUiBases(v.defs,m,E),businessHours:this.parseContextBusinessHours(c),dateSelection:Ei(o.dateSelection,e),eventSelection:Si(o.eventSelection,e),eventDrag:bi(o.eventDrag,e),eventResize:Di(o.eventResize,e)},b=_r2(_r2({},c),S),D=0,C=s.pluginHooks.reducers;D<C.length;D++){var w=C[D];_r2(S,w(o,e,b))}var R=Fi(o,c),_=Fi(S,c);!R&&_?i.trigger("loading",!0):R&&!_&&i.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(e)},e.prototype.updateData=function(){var e,t,n,o,i,a,s,l,u,c=this.props,d=this.state,p=this.data,f=this.computeOptionsData(c.optionOverrides,d.dynamicOptionOverrides,c.calendarApi),h=this.computeCurrentViewData(d.currentViewType,f,c.optionOverrides,d.dynamicOptionOverrides),v=this.data=_r2(_r2(_r2({viewTitle:this.buildTitle(d.dateProfile,h.options,f.dateEnv),calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f),h),d),g=f.pluginHooks.optionChangeHandlers,m=p&&p.calendarOptions,y=f.calendarOptions;if(m&&m!==y)for(var E in m.timeZone!==y.timeZone&&(d.eventSources=v.eventSources=(a=v.eventSources,l=v,u=(s=d.dateProfile)?s.activeRange:null,pi(a,hi(a,l),u,!0,l)),d.eventStore=v.eventStore=(e=v.eventStore,t=p.dateEnv,n=v.dateEnv,o=e.defs,i=bt(e.instances,(function(e){var i=o[e.defId];return i.allDay||i.recurringDef?e:_r2(_r2({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})})),{defs:o,instances:i})),g)m[E]!==y[E]&&g[E](y[E],v);c.onData&&c.onData(v)},e.prototype._computeOptionsData=function(e,t,n){var r=this.processRawCalendarOptions(e,t),o=r.refinedOptions,i=r.pluginHooks,a=r.localeDefaults,s=r.availableLocaleData;zi(r.extra);var l=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,i,s,o.defaultRangeSeparator),u=this.buildViewSpecs(i.views,e,t,a),c=this.buildTheme(o,i);return{calendarOptions:o,pluginHooks:i,dateEnv:l,viewSpecs:u,theme:c,toolbarConfig:this.parseToolbars(o,e,c,u,n),localeDefaults:a,availableRawLocales:s.map}},e.prototype.processRawCalendarOptions=function(e,t){var n=gn([cn,e,t]),o=n.locales,i=n.locale,a=this.organizeRawLocales(o),s=a.map,l=this.buildLocale(i||a.defaultCode,s).options,u=this.buildPluginHooks(e.plugins||[],xi),c=this.currentCalendarOptionsRefiners=_r2(_r2(_r2(_r2(_r2({},un),dn),pn),u.listenerRefiners),u.optionRefiners),d={},p=gn([cn,l,e,t]),f={},h=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,g=!1;for(var m in p)"plugins"!==m&&(p[m]===h[m]||fn[m]&&m in h&&fn[m](h[m],p[m])?f[m]=v[m]:c[m]?(f[m]=c[m](p[m]),g=!0):d[m]=h[m]);return g&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=f),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:u,availableLocaleData:a,localeDefaults:l,extra:d}},e.prototype._computeCurrentViewData=function(e,t,n,r){var o=t.viewSpecs[e];if(!o)throw new Error('viewType "'+e+"\" is not available. Please make sure you've loaded all neccessary plugins");var i=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,n,r),a=i.refinedOptions;return zi(i.extra),{viewSpec:o,options:a,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,nowInput:a.now,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,monthMode:a.monthMode,fixedWeekCount:a.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}},e.prototype.processRawViewOptions=function(e,t,n,o,i){var a=gn([cn,e.optionDefaults,n,o,e.optionOverrides,i]),s=_r2(_r2(_r2(_r2(_r2(_r2({},un),dn),pn),vn),t.listenerRefiners),t.optionRefiners),l={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,p={};for(var f in a)a[f]===u[f]?l[f]=c[f]:(a[f]===this.currentCalendarOptionsInput[f]?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):s[f]?l[f]=s[f](a[f]):p[f]=a[f],d=!0);return d&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}},e}();function Hi(e,t,n,r,o,i,a,s){var l=Br(t||a.defaultCode,a.map);return new Lr({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:o,cmdFormatter:i.cmdFormatter,defaultSeparator:s})}function Oi(e,t){return new(t.themeClasses[e.themeSystem]||Go)(e)}function Ai(e){return new(e.dateProfileGeneratorClass||ai)(e)}function Li(e,t,n){return new Cr(e,t,n)}function Ui(e){return bt(e,(function(e){return e.ui}))}function Wi(e,t,n){var r={"":t};for(var o in e){var i=e[o];i.sourceId&&n[i.sourceId]&&(r[o]=n[i.sourceId])}return r}function Vi(e){var t=e.options;return{eventUiSingleBase:kn({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:kn({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function Fi(e,t){for(var n=0,r=t.pluginHooks.isLoadingFuncs;n<r.length;n++)if((0,r[n])(e))return!0;return!1}function Bi(e){return Yr(e.options.businessHours,e)}function zi(e,t){for(var n in e)console.warn("Unknown option '"+n+"'"+(t?" for view '"+t+"'":""))}var ji=function(e){function t(t){var n=e.call(this,t)||this;return n.handleData=function(e){n.dataManager?n.setState(e):n.state=e},n.dataManager=new Ni({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:n.handleData}),n}return n(t,e),t.prototype.render=function(){return this.props.children(this.state)},t.prototype.componentDidUpdate=function(e){var t=this.props.optionOverrides;t!==e.optionOverrides&&this.dataManager.resetOptions(t)},t}(Ro),qi=function(){function e(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return e.prototype.addSegs=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];this.insertEntry(o,t)}return t},e.prototype.insertEntry=function(e,t){var n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)},e.prototype.isInsertionValid=function(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)},e.prototype.handleInvalidInsertion=function(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)},e.prototype.splitEntry=function(e,t,n){var r=0,i=[],a=e.span,s=t.span;return a.start<s.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:s.start}},i)),a.end>s.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:a.end}},i)),r?(n.push.apply(n,o([{index:e.index,thickness:e.thickness,span:$i(s,a)}],i)),r):(n.push(e),0)},e.prototype.insertEntryAt=function(e,t){var n=this.entriesByLevel,r=this.levelCoords;-1===t.lateral?(Ji(r,t.level,t.levelCoord),Ji(n,t.level,[e])):Ji(n[t.level],t.lateral,e),this.stackCnts[Zi(e)]=t.stackCnt},e.prototype.findInsertion=function(e){for(var t=this,n=t.levelCoords,r=t.entriesByLevel,o=t.strictOrder,i=t.stackCnts,a=n.length,s=0,l=-1,u=-1,c=null,d=0,p=0;p<a;p+=1){var f=n[p];if(!o&&f>=s+e.thickness)break;for(var h=r[p],v=void 0,g=Qi(h,e.span.start,Yi),m=g[0]+g[1];(v=h[m])&&v.span.start<e.span.end;){var y=f+v.thickness;y>s&&(s=y,c=v,l=p,u=m),y===s&&(d=Math.max(d,i[Zi(v)]+1)),m+=1}}var E=0;if(c)for(E=l+1;E<a&&n[E]<s;)E+=1;var S=-1;return E<a&&n[E]===s&&(S=Qi(r[E],e.span.end,Yi)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:c,stackCnt:d,levelCoord:s,level:E,lateral:S}},e.prototype.toRects=function(){for(var e=this.entriesByLevel,t=this.levelCoords,n=e.length,o=[],i=0;i<n;i+=1)for(var a=e[i],s=t[i],l=0,u=a;l<u.length;l++){var c=u[l];o.push(_r2(_r2({},c),{levelCoord:s}))}return o},e}();function Yi(e){return e.span.end}function Zi(e){return e.index+":"+e.span.start}function Xi(e){for(var t=[],n=0,r=e;n<r.length;n++){for(var o=r[n],i=[],a={span:o.span,entries:[o]},s=0,l=t;s<l.length;s++){var u=l[s];$i(u.span,a.span)?a={entries:u.entries.concat(a.entries),span:Ki(u.span,a.span)}:i.push(u)}i.push(a),t=i}return t}function Ki(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function $i(e,t){var n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function Ji(e,t,n){e.splice(t,0,n)}function Qi(e,t,n){var r=0,o=e.length;if(!o||t<n(e[r]))return[0,0];if(t>n(e[o-1]))return[o,0];for(;r<o;){var i=Math.floor(r+(o-r)/2),a=n(e[i]);if(t<a)o=i;else{if(!(t>a))return[i,1];r=i+1}}return[r,0]}var ea=function(){function e(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return e.prototype.destroy=function(){},e}();function ta(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function na(e){var t;return(t={})[e.component.uid]=e,t}var ra={},oa=function(){function e(e,t){this.emitter=new Eo}return e.prototype.destroy=function(){},e.prototype.setMirrorIsVisible=function(e){},e.prototype.setMirrorNeedsRevert=function(e){},e.prototype.setAutoScrollEnabled=function(e){},e}(),ia={},aa={startTime:Nt,duration:Nt,create:Boolean,sourceId:String};function sa(e){var t=mn(e,aa),n=t.refined,r=t.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:null==n.create||n.create,sourceId:n.sourceId,leftoverProps:r}}var la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this,t=this.props.widgetGroups.map((function(t){return e.renderWidgetGroup(t)}));return _o.apply(void 0,o(["div",{className:"fc-toolbar-chunk"}],t))},t.prototype.renderWidgetGroup=function(e){for(var t=this.props,n=this.context.theme,r=[],i=!0,a=0,s=e;a<s.length;a++){var l=s[a],u=l.buttonName,c=l.buttonClick,d=l.buttonText,p=l.buttonIcon,f=l.buttonHint;if("title"===u)i=!1,r.push(_o("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{var h=u===t.activeButton,v=!t.isTodayEnabled&&"today"===u||!t.isPrevEnabled&&"prev"===u||!t.isNextEnabled&&"next"===u,g=["fc-"+u+"-button",n.getClass("button")];h&&g.push(n.getClass("buttonActive")),r.push(_o("button",{type:"button",title:"function"==typeof f?f(t.navUnit):f,disabled:v,"aria-pressed":h,className:g.join(" "),onClick:c},d||(p?_o("span",{className:p}):"")))}}if(r.length>1){var m=i&&n.getClass("buttonGroup")||"";return _o.apply(void 0,o(["div",{className:m}],r))}return r[0]},t}(Uo),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.model,o=n.extraClassName,i=!1,a=r.sectionWidgets,s=a.center;return a.left?(i=!0,e=a.left):e=a.start,a.right?(i=!0,t=a.right):t=a.end,_o("div",{className:[o||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",s||[]),this.renderSection("end",t||[]))},t.prototype.renderSection=function(e,t){var n=this.props;return _o(la,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})},t}(Uo),ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(e){t.el=e,Fo(t.props.elRef,e),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state,n=e.aspectRatio,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",i="";return n?null!==t.availableWidth?o=t.availableWidth/n:i=1/n*100+"%":o=e.height||"",_o("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:o,paddingBottom:i}},e.children)},t.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},t.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},t}(Uo),da=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSegClick=function(e,t){var r=n.component,o=r.context,i=Jn(t);if(i&&r.isValidSegDownEl(e.target)){var a=Se(e.target,".fc-event-forced-url"),s=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:t,event:new xr(r.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:o.viewApi}),s&&!e.defaultPrevented&&(window.location.href=s)}},n.destroy=Ie(t.el,"click",".fc-event",n.handleSegClick),n}return n(t,e),t}(ea),pa=function(e){function t(t){var n,o,i,a,s=e.call(this,t)||this;return s.handleEventElRemove=function(e){e===s.currentSegEl&&s.handleSegLeave(null,s.currentSegEl)},s.handleSegEnter=function(e,t){Jn(t)&&(s.currentSegEl=t,s.triggerEvent("eventMouseEnter",e,t))},s.handleSegLeave=function(e,t){s.currentSegEl&&(s.currentSegEl=null,s.triggerEvent("eventMouseLeave",e,t))},s.removeHoverListeners=(n=t.el,".fc-event",o=s.handleSegEnter,i=s.handleSegLeave,Ie(n,"mouseover",".fc-event",(function(e,t){if(t!==a){a=t,o(e,t);t.addEventListener("mouseleave",(function n(e){a=null,i(e,t),t.removeEventListener("mouseleave",n)}))}}))),s}return n(t,e),t.prototype.destroy=function(){this.removeHoverListeners()},t.prototype.triggerEvent=function(e,t,n){var r=this.component,o=r.context,i=Jn(n);t&&!r.isValidSegDownEl(t.target)||o.emitter.trigger(e,{el:n,event:new xr(o,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:o.viewApi})},t}(ea),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildViewContext=qt(Ao),t.buildViewPropTransformers=qt(va),t.buildToolbarProps=qt(ha),t.headerRef=ko(),t.footerRef=ko(),t.interactionsStore={},t.state={viewLabelId:xe()},t.registerInteractiveComponent=function(e,n){var r=ta(e,n),o=[da,pa].concat(t.props.pluginHooks.componentInteractions).map((function(e){return new e(r)}));t.interactionsStore[e.uid]=o,ra[e.uid]=r},t.unregisterInteractiveComponent=function(e){for(var n=0,r=t.interactionsStore[e.uid];n<r.length;n++)r[n].destroy();delete t.interactionsStore[e.uid],delete ra[e.uid]},t.resizeRunner=new Mi((function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})})),t.handleWindowResize=function(e){var n=t.props.options;n.handleWindowResize&&e.target===window&&t.resizeRunner.request(n.windowResizeDelay)},t}return n(t,e),t.prototype.render=function(){var e,t=this.props,n=t.toolbarConfig,o=t.options,i=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,Tr(t.options.now,t.dateEnv),t.viewTitle),a=!1,s="";t.isHeightAuto||t.forPrint?s="":null!=o.height?a=!0:null!=o.contentHeight?s=o.contentHeight:e=Math.max(o.aspectRatio,.5);var l=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return _o(Oo.Provider,{value:l},n.header&&_o(ua,_r2({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},i)),_o(ca,{liquid:a,height:s,aspectRatio:e,labeledById:u},this.renderView(t),this.buildAppendContent()),n.footer&&_o(ua,_r2({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))},t.prototype.componentDidMount=function(){var e=this.props;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((function(t){return new t(e)})),window.addEventListener("resize",this.handleWindowResize);var t=e.pluginHooks.propSetHandlers;for(var n in t)t[n](e[n],e)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pluginHooks.propSetHandlers;for(var r in n)t[r]!==e[r]&&n[r](t[r],t)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e=0,t=this.calendarInteractions;e<t.length;e++)t[e].destroy();this.props.emitter.trigger("_unmount")},t.prototype.buildAppendContent=function(){var e=this.props,t=e.pluginHooks.viewContainerAppends.map((function(t){return t(e)}));return _o.apply(void 0,o([xo,{}],t))},t.prototype.renderView=function(e){for(var t=e.pluginHooks,n=e.viewSpec,o={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=0,a=this.buildViewPropTransformers(t.viewPropsTransformers);i<a.length;i++){var s=a[i];_r2(o,s.transform(o,e))}var l=n.component;return _o(l,_r2({},o))},t}(Lo);function ha(e,t,n,r,o,i){var a=n.build(o,void 0,!1),s=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:i,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!Zn(t.currentRange,o),isPrevEnabled:s.isValid,isNextEnabled:l.isValid}}function va(e){return e.map((function(e){return new e}))}var ga=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=this.state.forPrint,r=n||"auto"===t.height||"auto"===t.contentHeight,o=r||null==t.height?"":t.height,i=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-"+t.direction,e.theme.getClass("root")];return Qr()||i.push("fc-liquid-hack"),e.children(i,o,r,n)},t.prototype.componentDidMount=function(){var e=this.props.emitter;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)},t.prototype.componentWillUnmount=function(){var e=this.props.emitter;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)},t}(Uo);function ma(e,t){return ln(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var ya="fc-col-header-cell";function Ea(e){return e.text}var Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.dateEnv,n=e.options,o=e.theme,i=e.viewApi,a=this.props,s=a.date,l=a.dateProfile,u=ro(s,a.todayRange,null,l),c=[ya].concat(oo(u,o)),d=t.format(s,a.dayHeaderFormat),p=!u.isDisabled&&a.colCnt>1?so(this.context,s):{},f=_r2(_r2(_r2({date:t.toDate(s),view:i},a.extraHookProps),{text:d}),u);return _o(Yo,{hookProps:f,classNames:n.dayHeaderClassNames,content:n.dayHeaderContent,defaultContent:Ea,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(function(e,t,n,o){return _o("th",_r2({ref:e,role:"columnheader",className:c.concat(t).join(" "),"data-date":u.isDisabled?void 0:Bt(s),colSpan:a.colSpan},a.extraDataAttrs),_o("div",{className:"fc-scrollgrid-sync-inner"},!u.isDisabled&&_o("a",_r2({ref:n,className:["fc-col-header-cell-cushion",a.isSticky?"fc-sticky":""].join(" ")},p),o)))}))},t}(Uo),ba=ln({weekday:"long"}),Da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.dateEnv,o=t.theme,i=t.viewApi,a=t.options,s=tt(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},u=[ya].concat(oo(l,o),e.extraClassNames||[]),c=n.format(s,e.dayHeaderFormat),d=_r2(_r2(_r2(_r2({date:s},l),{view:i}),e.extraHookProps),{text:c});return _o(Yo,{hookProps:d,classNames:a.dayHeaderClassNames,content:a.dayHeaderContent,defaultContent:Ea,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},(function(t,o,i,a){return _o("th",_r2({ref:t,role:"columnheader",className:u.concat(o).join(" "),colSpan:e.colSpan},e.extraDataAttrs),_o("div",{className:"fc-scrollgrid-sync-inner"},_o("a",{"aria-label":n.format(s,ba),className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:i},a)))}))},t}(Uo),Ca=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.initialNowDate=Tr(n.options.now,n.dateEnv),r.initialNowQueriedMs=(new Date).valueOf(),r.state=r.computeTiming().currentState,r}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return e.children(t.nowDate,t.todayRange)},t.prototype.componentDidMount=function(){this.setTimeout()},t.prototype.componentDidUpdate=function(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.computeTiming=function(){var e=this.props,t=this.context,n=nt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(n,e.unit),o=t.dateEnv.add(r,Nt(1,e.unit)),i=o.valueOf()-n.valueOf();return i=Math.min(864e5,i),{currentState:{nowDate:r,todayRange:wa(r)},nextState:{nowDate:o,todayRange:wa(o)},waitMs:i}},t.prototype.setTimeout=function(){var e=this,t=this.computeTiming(),n=t.nextState,r=t.waitMs;this.timeoutId=setTimeout((function(){e.setState(n,(function(){e.setTimeout()}))}),r)},t.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t.contextType=Oo,t}(Ro);function wa(e){var t=lt(e);return{start:t,end:tt(t,1)}}var Ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDayHeaderFormatter=qt(_a),t}return n(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.dates,r=t.dateProfile,o=t.datesRepDistinctDays,i=t.renderIntro,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,o,n.length);return _o(Ca,{unit:"day"},(function(e,t){return _o("tr",{role:"row"},i&&i("day"),n.map((function(e){return o?_o(Sa,{key:e.toISOString(),date:e,dateProfile:r,todayRange:t,colCnt:n.length,dayHeaderFormat:a}):_o(Da,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:a})})))}))},t}(Uo);function _a(e,t,n){return e||ma(t,n)}var Ta=function(){function e(e,t){for(var n=e.start,r=e.end,o=[],i=[],a=-1;n<r;)t.isHiddenDay(n)?o.push(a+.5):(a+=1,o.push(a),i.push(n)),n=tt(n,1);this.dates=i,this.indices=o,this.cnt=i.length}return e.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(tt(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,n);return(r=Math.ceil(r))<=(o=Math.floor(o))?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:n===o}:null},e.prototype.getDateDayIndex=function(e){var t=this.indices,n=Math.floor(ot(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},e}(),ka=function(){function e(e,t){var n,r,o,i=e.dates;if(t){for(r=i[0].getUTCDay(),n=1;n<i.length&&i[n].getUTCDay()!==r;n+=1);o=Math.ceil(i.length/n)}else o=1,n=i.length;this.rowCnt=o,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return e.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var n=[],r=0;r<this.colCnt;r+=1)n.push(this.buildCell(t,r));e.push(n)}return e},e.prototype.buildCell=function(e,t){var n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}},e.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e},e.prototype.sliceRange=function(e){var t=this.colCnt,n=this.daySeries.sliceRange(e),r=[];if(n)for(var o=n.firstIndex,i=n.lastIndex,a=o;a<=i;){var s=Math.floor(a/t),l=Math.min((s+1)*t,i+1);r.push({row:s,firstCol:a%t,lastCol:(l-1)%t,isStart:n.isStart&&a===o,isEnd:n.isEnd&&l-1===i}),a=l}return r},e}(),xa=function(){function e(){this.sliceBusinessHours=qt(this._sliceBusinessHours),this.sliceDateSelection=qt(this._sliceDateSpan),this.sliceEventStore=qt(this._sliceEventStore),this.sliceEventDrag=qt(this._sliceInteraction),this.sliceEventResize=qt(this._sliceInteraction),this.forceDayIfListItem=!1}return e.prototype.sliceProps=function(e,t,n,r){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var s=e.eventUiBases,l=this.sliceEventStore.apply(this,o([e.eventStore,s,t,n],i));return{dateSelectionSegs:this.sliceDateSelection.apply(this,o([e.dateSelection,s,r],i)),businessHourSegs:this.sliceBusinessHours.apply(this,o([e.businessHours,t,n,r],i)),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag.apply(this,o([e.eventDrag,s,t,n],i)),eventResize:this.sliceEventResize.apply(this,o([e.eventResize,s,t,n],i)),eventSelection:e.eventSelection}},e.prototype.sliceNowDate=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this._sliceDateSpan.apply(this,o([{range:{start:e,end:nt(e,1)},allDay:!1},{},t],n))},e.prototype._sliceBusinessHours=function(e,t,n,r){for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,o([xt(e,Ma(t,Boolean(n)),r),{},t,n],i)).bg:[]},e.prototype._sliceEventStore=function(e,t,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];if(e){var a=Xn(e,t,Ma(n,Boolean(r)),r);return{bg:this.sliceEventRanges(a.bg,o),fg:this.sliceEventRanges(a.fg,o)}}return{bg:[],fg:[]}},e.prototype._sliceInteraction=function(e,t,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];if(!e)return null;var a=Xn(e.mutatedEvents,t,Ma(n,Boolean(r)),r);return{segs:this.sliceEventRanges(a.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},e.prototype._sliceDateSpan=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];if(!e)return[];for(var a=gr(e,t,n),s=this.sliceRange.apply(this,o([e.range],r)),l=0,u=s;l<u.length;l++){var c=u[l];c.eventRange=a}return s},e.prototype.sliceEventRanges=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];n.push.apply(n,this.sliceEventRange(i,t))}return n},e.prototype.sliceEventRange=function(e,t){var n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:tt(n.start,1)});for(var r=this.sliceRange.apply(this,o([n],t)),i=0,a=r;i<a.length;i++){var s=a[i];s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd}return r},e}();function Ma(e,t){var n=e.activeRange;return t?n:{start:nt(n.start,e.slotMinTime.milliseconds),end:nt(n.end,e.slotMaxTime.milliseconds-864e5)}}function Ia(e,t,n){var r=e.mutatedEvents.instances;for(var o in r)if(!Yn(t.validRange,r[o].range))return!1;return Na({eventDrag:e},n)}function Pa(e,t,n){return!!Yn(t.validRange,e.range)&&Na({dateSelection:e},n)}function Na(e,t){var n=t.getCurrentData(),o=_r2({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||Ha)(o,t)}function Ha(e,t,n,o){return void 0===n&&(n={}),!(e.eventDrag&&!function(e,t,n,o){var i=t.getCurrentData(),a=e.eventDrag,s=a.mutatedEvents,l=s.defs,u=s.instances,c=Qn(l,a.isEvent?e.eventUiBases:{"":i.selectionConfig});o&&(c=bt(c,o));var v,g,d=(v=e.eventStore,g=a.affectedEvents.instances,{defs:v.defs,instances:St(v.instances,(function(e){return!g[e.instanceId]}))}),p=d.defs,f=d.instances,h=Qn(p,e.eventUiBases);for(var m in u){var y=u[m],E=y.range,S=c[y.defId],b=l[y.defId];if(!Oa(S.constraints,E,d,e.businessHours,t))return!1;var D=t.options.eventOverlap,C="function"==typeof D?D:null;for(var w in f){var R=f[w];if(qn(E,R.range)){if(!1===h[R.defId].overlap&&a.isEvent)return!1;if(!1===S.overlap)return!1;if(C&&!C(new xr(t,p[R.defId],R),new xr(t,b,y)))return!1}}for(var _=i.eventStore,T=0,k=S.allows;T<k.length;T++){var N,x=k[T],M=_r2(_r2({},n),{range:y.range,allDay:b.allDay}),I=_.defs[b.defId],P=_.instances[m];if(N=I?new xr(t,I,P):new xr(t,b),!x(yr(M,t),N))return!1}}return!0}(e,t,n,o)||e.dateSelection&&!function(e,t,n,o){var i=e.eventStore,a=i.defs,s=i.instances,l=e.dateSelection,u=l.range,c=t.getCurrentData().selectionConfig;if(o&&(c=o(c)),!Oa(c.constraints,u,i,e.businessHours,t))return!1;var d=t.options.selectOverlap,p="function"==typeof d?d:null;for(var f in s){var h=s[f];if(qn(u,h.range)){if(!1===c.overlap)return!1;if(p&&!p(new xr(t,a[h.defId],h),null))return!1}}for(var v=0,g=c.allows;v<g.length;v++)if(!(0,g[v])(yr(_r2(_r2({},n),l),t),null))return!1;return!0}(e,t,n,o))}function Oa(e,t,n,r,o){for(var i=0,a=e;i<a.length;i++)if(!Ua(Aa(a[i],t,n,r,o),t))return!1;return!0}function Aa(e,t,n,r,o){return"businessHours"===e?La(xt(r,t,o)):"string"==typeof e?La(wn(n,(function(t){return t.groupId===e}))):"object"==_typeof(e)&&e?La(xt(e,t,o)):[]}function La(e){var t=e.instances,n=[];for(var r in t)n.push(t[r].range);return n}function Ua(e,t){for(var n=0,r=e;n<r.length;n++)if(Yn(r[n],t))return!0;return!1}var Wa=/^(visible|hidden)$/,Va=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEl=function(e){t.el=e,Fo(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.liquid,n=e.liquidIsAbsolute,r=t&&n,o=["fc-scroller"];return t&&(n?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),_o("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)},t.prototype.needsXScrolling=function(){if(Wa.test(this.props.overflowX))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),n=e.children,r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().width>t)return!0;return!1},t.prototype.needsYScrolling=function(){if(Wa.test(this.props.overflowY))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),n=e.children,r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().height>t)return!0;return!1},t.prototype.getXScrollbarWidth=function(){return Wa.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},t.prototype.getYScrollbarWidth=function(){return Wa.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},t}(Uo),Fa=function(){function e(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(e,n){var r=t,o=r.depths,i=r.currentMap,a=!1,s=!1;null!==e?(a=n in i,i[n]=e,o[n]=(o[n]||0)+1,s=!0):(o[n]-=1,o[n]||(delete i[n],delete t.callbackMap[n],a=!0)),t.masterCallback&&(a&&t.masterCallback(null,String(n)),s&&t.masterCallback(e,String(n)))}}return e.prototype.createRef=function(e){var t=this,n=this.callbackMap[e];return n||(n=this.callbackMap[e]=function(n){t.handleValue(n,String(e))}),n},e.prototype.collect=function(e,t,n){return kt(this.currentMap,e,t,n)},e.prototype.getAll=function(){return Ct(this.currentMap)},e}();function Ba(e){for(var t=0,n=0,r=De(e,".fc-scrollgrid-shrink");n<r.length;n++){var o=r[n];t=Math.max(t,Je(o))}return Math.ceil(t)}function za(e,t){return e.liquid&&t.liquid}function ja(e,t){return null!=t.maxHeight||za(e,t)}function Ga(e,t,n,r){var o=n.expandRows;return"function"==typeof t.content?t.content(n):_o("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:o?n.clientHeight:""}},n.tableColGroupNode,_o(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}function qa(e,t){return Gt(e,t,wt)}function Ya(e,t){for(var n=[],r=0,i=e;r<i.length;r++)for(var a=i[r],s=a.span||1,l=0;l<s;l+=1)n.push(_o("col",{style:{width:"shrink"===a.width?Za(t):a.width||"",minWidth:a.minWidth||""}}));return _o.apply(void 0,o(["colgroup",{}],n))}function Za(e){return null==e?4:e}function Xa(e){for(var t=0,n=e;t<n.length;t++)if("shrink"===n[t].width)return!0;return!1}function Ka(e,t){var n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function $a(e,t){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+e.type,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Ja(e){return _o("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Qa(e){var t=e.stickyHeaderDates;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function es(e){var t=e.stickyFooterScrollbar;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}var ts=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processCols=qt((function(e){return e}),qa),t.renderMicroColGroup=qt(Ya),t.scrollerRefs=new Fa,t.scrollerElRefs=new Fa(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.setState(_r2({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return n(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state,r=e.context,i=t.sections||[],a=this.processCols(t.cols),s=this.renderMicroColGroup(a,n.shrinkWidth),l=Ka(t.liquid,r);t.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");for(var u,c=i.length,d=0,p=[],f=[],h=[];d<c&&"header"===(u=i[d]).type;)p.push(this.renderSection(u,s,!0)),d+=1;for(;d<c&&"body"===(u=i[d]).type;)f.push(this.renderSection(u,s,!1)),d+=1;for(;d<c&&"footer"===(u=i[d]).type;)h.push(this.renderSection(u,s,!0)),d+=1;var v=!Qr(),g={role:"rowgroup"};return _o("table",{role:"grid",className:l.join(" "),style:{height:t.height}},Boolean(!v&&p.length)&&_o.apply(void 0,o(["thead",g],p)),Boolean(!v&&f.length)&&_o.apply(void 0,o(["tbody",g],f)),Boolean(!v&&h.length)&&_o.apply(void 0,o(["tfoot",g],h)),v&&_o.apply(void 0,o(o(o(["tbody",g],p),f),h)))},t.prototype.renderSection=function(e,t,n){return"outerContent"in e?_o(xo,{key:e.key},e.outerContent):_o("tr",{key:e.key,role:"presentation",className:$a(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))},t.prototype.renderChunkTd=function(e,t,n,r){if("outerContent"in n)return n.outerContent;var o=this.props,i=this.state,a=i.forceYScrollbars,s=i.scrollerClientWidths,l=i.scrollerClientHeights,u=ja(o,e),c=za(o,e),d=o.liquid?a?"scroll":u?"auto":"hidden":"visible",p=e.key,f=Ga(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:o.collapsibleWidth||void 0===s[p]?null:s[p],clientHeight:void 0!==l[p]?l[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},r);return _o(r?"th":"td",{ref:n.elRef,role:"presentation"},_o("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},_o(Va,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:d,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},f)))},t.prototype._handleScrollerEl=function(e,t){var n=function(e,t){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o.key===t)return o}return null}(this.props.sections,t);n&&Fo(n.chunk.scrollerElRef,e)},t.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(){this.handleSizing()},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},t.prototype.computeShrinkWidth=function(){return Xa(this.props.cols)?Ba(this.scrollerElRefs.getAll()):0},t.prototype.computeScrollerDims=function(){var e=po(),t=this.scrollerRefs,n=this.scrollerElRefs,r=!1,o={},i={};for(var a in t.currentMap){var s=t.currentMap[a];if(s&&s.needsYScrolling()){r=!0;break}}for(var l=0,u=this.props.sections;l<u.length;l++){a=u[l].key;var c=n.currentMap[a];if(c){var d=c.parentNode;o[a]=Math.floor(d.getBoundingClientRect().width-(r?e.y:0)),i[a]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:i}},t}(Uo);ts.addStateEquality({scrollerClientWidths:wt,scrollerClientHeights:wt});var ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=ko(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=e.seg,o=r.eventRange,i=o.ui,a={event:new xr(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&rr(r,t),isStartResizable:!e.disableResizing&&or(r,t),isEndResizable:!e.disableResizing&&ir(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)},s=lr(a).concat(i.classNames);return _o(Yo,{hookProps:a,classNames:n.eventClassNames,content:n.eventContent,defaultContent:e.defaultContent,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount,elRef:this.elRef},(function(t,n,r,o){return e.children(t,s.concat(n),r,o,a)}))},t.prototype.componentDidMount=function(){$n(this.elRef.current,this.props.seg)},t.prototype.componentDidUpdate=function(e){var t=this.props.seg;t!==e.seg&&$n(this.elRef.current,t)},t}(Uo),rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,o=t.options.eventTimeFormat||e.defaultTimeFormat,i=ar(n,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return _o(ns,{seg:n,timeText:i,disableDragging:e.disableDragging,disableResizing:e.disableResizing,defaultContent:e.defaultContent||os,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(o,i,a,s,l){return _o("a",_r2({className:e.extraClassNames.concat(i).join(" "),style:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},ref:o},cr(n,t)),_o("div",{className:"fc-event-main",ref:a,style:{color:l.textColor}},s),l.isStartResizable&&_o("div",{className:"fc-event-resizer fc-event-resizer-start"}),l.isEndResizable&&_o("div",{className:"fc-event-resizer fc-event-resizer-end"}))}))},t}(Uo);function os(e){return _o("div",{className:"fc-event-main-frame"},e.timeText&&_o("div",{className:"fc-event-time"},e.timeText),_o("div",{className:"fc-event-title-container"},_o("div",{className:"fc-event-title fc-sticky"},e.event.title||_o(xo,null," "))))}var is=function(e){return _o(Oo.Consumer,null,(function(t){var n=t.options,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return _o(Yo,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}))},as=ln({day:"numeric"}),ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=ls({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv});return _o(Xo,{hookProps:r,content:n.dayCellContent,defaultContent:e.defaultContent},e.children)},t}(Uo);function ls(e){var t=e.date,n=e.dateEnv,o=ro(t,e.todayRange,null,e.dateProfile);return _r2(_r2(_r2({date:n.toDate(t),view:e.viewApi},o),{dayNumberText:e.showDayNumber?n.format(t,as):""}),e.extraProps)}var us=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=Yt(ls),t.normalizeClassNames=Jo(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,r=this.refineHookProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraProps:e.extraHookProps,viewApi:t.viewApi,dateEnv:t.dateEnv}),o=oo(r,t.theme).concat(r.isDisabled?[]:this.normalizeClassNames(n.dayCellClassNames,r)),i=r.isDisabled?{}:{"data-date":Bt(e.date)};return _o($o,{hookProps:r,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount,elRef:e.elRef},(function(t){return e.children(t,o,i,r.isDisabled)}))},t}(Uo);function cs(e){return _o("div",{className:"fc-"+e})}var ds=function(e){return _o(ns,{defaultContent:ps,seg:e.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(e,t,n,r,o){return _o("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:o.backgroundColor}},r)}))};function ps(e){return e.event.title&&_o("div",{className:"fc-event-title"},e.event.title)}var fs=function(e){return _o(Oo.Consumer,null,(function(t){var n=t.dateEnv,r=t.options,o=e.date,i=r.weekNumberFormat||e.defaultFormat,a=n.computeWeekNumber(o),s=n.format(o,i);return _o(Yo,{hookProps:{num:a,text:s,date:o},classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:hs,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)}))};function hs(e){return e.text}var vs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={titleId:xe()},t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Fo(t.props.elRef,e)},t.handleDocumentMouseDown=function(e){var n=_e(e);t.rootEl.contains(n)||t.handleCloseClick()},t.handleDocumentKeyDown=function(e){"Escape"===e.key&&t.handleCloseClick()},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.theme,n=e.options,o=this.props,i=this.state,a=["fc-popover",t.getClass("popover")].concat(o.extraClassNames||[]);return Io(_o("div",_r2({id:o.id,className:a.join(" "),"aria-labelledby":i.titleId},o.extraAttrs,{ref:this.handleRootEl}),_o("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},_o("span",{className:"fc-popover-title",id:i.titleId},o.title),_o("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),_o("div",{className:"fc-popover-body "+t.getClass("popoverContent")},o.children)),o.parentEl)},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.updateSize=function(){var e=this.context.isRtl,t=this.props,n=t.alignmentEl,r=t.alignGridTop,o=this.rootEl,i=function(e){for(var t=mo(e),n=e.getBoundingClientRect(),r=0,o=t;r<o.length;r++){var i=Xr(n,o[r].getBoundingClientRect());if(!i)return null;n=i}return n}(n);if(i){var a=o.getBoundingClientRect(),s=r?Se(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=e?i.right-a.width:i.left;s=Math.max(s,10),l=Math.min(l,document.documentElement.clientWidth-10-a.width),l=Math.max(l,10);var u=o.offsetParent.getBoundingClientRect();we(o,{top:s-u.top,left:l-u.left})}},t}(Uo),gs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,r=this.props,o=r.startDate,i=r.todayRange,a=r.dateProfile,s=n.format(o,t.dayPopoverFormat);return _o(us,{date:o,dateProfile:a,todayRange:i,elRef:this.handleRootEl},(function(e,t,n){return _o(vs,{elRef:e,id:r.id,title:s,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},_o(ss,{date:o,dateProfile:a,todayRange:i},(function(e,t){return t&&_o("div",{className:"fc-more-popover-misc",ref:e},t)})),r.children)}))},t.prototype.queryHit=function(e,t,n,o){var i=this.rootEl,a=this.props;return e>=0&&e<n&&t>=0&&t<o?{dateProfile:a.dateProfile,dateSpan:_r2({allDay:!0,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:o},layer:1}:null},t}(Bo),ms=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linkElRef=ko(),t.state={isPopoverOpen:!1,popoverId:xe()},t.handleClick=function(e){var n=t,r=n.props,o=n.context,i=o.options.moreLinkClick,a=Es(r).start;function s(e){var t=e.eventRange,n=t.def,r=t.instance,i=t.range;return{event:new xr(o,n,r),start:o.dateEnv.toDate(i.start),end:o.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof i&&(i=i({date:a,allDay:Boolean(r.allDayDate),allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:o.viewApi})),i&&"popover"!==i?"string"==typeof i&&o.calendarApi.zoomTo(a,i):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.state;return _o(Oo.Consumer,null,(function(r){var o=r.viewApi,i=r.options,a=r.calendarApi,s=i.moreLinkText,l=t.moreCnt,u=Es(t),c="function"==typeof s?s.call(a,l):"+"+l+" "+s,d=Xe(i.moreLinkHint,[l],c),p={num:l,shortText:"+"+l,text:c,view:o};return _o(xo,null,Boolean(t.moreCnt)&&_o(Yo,{elRef:e.linkElRef,hookProps:p,classNames:i.moreLinkClassNames,content:i.moreLinkContent,defaultContent:t.defaultContent||ys,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},(function(r,o,i,a){return t.children(r,["fc-more-link"].concat(o),i,a,e.handleClick,d,n.isPopoverOpen,n.isPopoverOpen?n.popoverId:"")})),n.isPopoverOpen&&_o(gs,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:e.parentEl,alignmentEl:t.alignmentElRef.current,alignGridTop:t.alignGridTop,onClose:e.handlePopoverClose},t.popoverContent()))}))},t.prototype.componentDidMount=function(){this.updateParentEl()},t.prototype.componentDidUpdate=function(){this.updateParentEl()},t.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Se(this.linkElRef.current,".fc-view-harness"))},t}(Uo);function ys(e){return e.text}function Es(e){if(e.allDayDate)return{start:e.allDayDate,end:tt(e.allDayDate,1)};var t,n=e.hiddenSegs;return{start:Ss(n),end:(t=n,t.reduce(Ds).eventRange.range.end)}}function Ss(e){return e.reduce(bs).eventRange.range.start}function bs(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function Ds(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}var Cs=function(e){function t(t,n){void 0===n&&(n={});var o=e.call(this)||this;return o.isRendering=!1,o.isRendered=!1,o.currentClassNames=[],o.customContentRenderId=0,o.handleAction=function(e){switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":o.renderRunner.tryDrain()}},o.handleData=function(e){o.currentData=e,o.renderRunner.request(e.calendarOptions.rerenderDelay)},o.handleRenderRequest=function(){if(o.isRendering){o.isRendered=!0;var e=o.currentData;To(_o(ga,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(function(t,n,i,a){return o.setClassNames(t),o.setHeight(n),_o(Zo.Provider,{value:o.customContentRenderId},_o(fa,_r2({isHeightAuto:i,forPrint:a},e)))})),o.el)}else o.isRendered&&(o.isRendered=!1,No(o.el),o.setClassNames([]),o.setHeight(""));Po()},o.el=t,o.renderRunner=new Mi(o.handleRenderRequest),new Ni({optionOverrides:n,calendarApi:o,onAction:o.handleAction,onData:o.handleData}),o}return n(t,e),Object.defineProperty(t.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()},t.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},t.prototype.updateSize=function(){e.prototype.updateSize.call(this),Po()},t.prototype.batchRendering=function(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")},t.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},t.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},t.prototype.resetOptions=function(e,t){this.currentDataManager.resetOptions(e,t)},t.prototype.setClassNames=function(e){if(!Gt(e,this.currentClassNames)){for(var t=this.el.classList,n=0,r=this.currentClassNames;n<r.length;n++){var o=r[n];t.remove(o)}for(var i=0,a=e;i<a.length;i++)o=a[i],t.add(o);this.currentClassNames=e}},t.prototype.setHeight=function(e){Re(this.el,"height",e)},t}(kr);ia.touchMouseIgnoreWait=500;var ws=0,Rs=0,_s=!1,Ts=function(){function e(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!t.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&t.tryStart(e)){var n=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var r=e.target;t.shouldIgnoreMove||r.addEventListener("touchmove",t.handleTouchMove),r.addEventListener("touchend",t.handleTouchEnd),r.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,ws+=1,setTimeout((function(){ws-=1}),ia.touchMouseIgnoreWait)}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,r=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:r,deltaX:n-t.origPageX,deltaY:r-t.origPageY})}},this.containerEl=e,this.emitter=new Eo,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(Rs+=1)&&window.addEventListener("touchmove",ks,{passive:!1})}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),(Rs-=1)||window.removeEventListener("touchmove",ks,{passive:!1})},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Se(n,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},e.prototype.cleanup=function(){_s=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?Se(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return ws||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(_s=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}},e.prototype.createEventFromTouch=function(e,t){var n,r,o=e.touches,i=0,a=0;return o&&o.length?(n=o[0].pageX,r=o[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(i=n-this.origPageX,a=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:i,deltaY:a}},e}();function ks(e){_s&&e.preventDefault()}var xs=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,r=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",we(n,{left:r.left,top:r.top}),Ne(n,(function(){n.style.transition="",e()}))},e.prototype.cleanup=function(){this.mirrorEl&&(Ee(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&we(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),we(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),Ms=function(e){function t(t,n){var r=e.call(this)||this;return r.handleScroll=function(){r.scrollTop=r.scrollController.getScrollTop(),r.scrollLeft=r.scrollController.getScrollLeft(),r.handleScrollChange()},r.scrollController=t,r.doesListening=n,r.scrollTop=r.origScrollTop=t.getScrollTop(),r.scrollLeft=r.origScrollLeft=t.getScrollLeft(),r.scrollWidth=t.getScrollWidth(),r.scrollHeight=t.getScrollHeight(),r.clientWidth=t.getClientWidth(),r.clientHeight=t.getClientHeight(),r.clientRect=r.computeClientRect(),r.doesListening&&r.getEventTarget().addEventListener("scroll",r.handleScroll),r}return n(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(bo),Is=function(e){function t(t,n){return e.call(this,new Do(t),n)||this}return n(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return vo(this.scrollController.el)},t}(Ms),Ps=function(e){function t(t){return e.call(this,new Co,t)||this}return n(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(Ms),Ns="function"==typeof performance?performance.now:Date.now,Hs=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=Ns();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,r=t-window.pageYOffset,o=null===this.pointerScreenY?0:r-this.pointerScreenY,i=null===this.pointerScreenX?0:n-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ns()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,r=this.edgeThreshold,o=r-e.distance,i=o*o/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+i*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+i*a)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,r=null,o=0,i=this.scrollCaches;o<i.length;o++){var a=i[o],s=a.clientRect,l=e-s.left,u=s.right-e,c=t-s.top,d=s.bottom-t;l>=0&&u>=0&&c>=0&&d>=0&&(c<=n&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>c)&&(r={scrollCache:a,name:"top",distance:c}),d<=n&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>d)&&(r={scrollCache:a,name:"bottom",distance:d}),l<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:a,name:"left",distance:l}),u<=n&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>u)&&(r={scrollCache:a,name:"right",distance:u}))}return r},e.prototype.buildCaches=function(e){return this.queryScrollEls(e).map((function(e){return e===window?new Ps(!1):new Is(e,!1)}))},e.prototype.queryScrollEls=function(e){for(var t=[],n=0,r=this.scrollQuery;n<r.length;n++){var o=r[n];"object"==_typeof(o)?t.push(o):t.push.apply(t,Array.prototype.slice.call(Te(e).querySelectorAll(o)))}return t},e}(),Os=function(e){function t(t,n){var r=e.call(this,t)||this;r.containerEl=t,r.delay=null,r.minDistance=0,r.touchScrollAllowed=!0,r.mirrorNeedsRevert=!1,r.isInteracting=!1,r.isDragging=!1,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,r.delayTimeoutId=null,r.onPointerDown=function(e){r.isDragging||(r.isInteracting=!0,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,Ve(document.body),Be(document.body),e.isTouch||e.origEvent.preventDefault(),r.emitter.trigger("pointerdown",e),r.isInteracting&&!r.pointer.shouldIgnoreMove&&(r.mirror.setIsVisible(!1),r.mirror.start(e.subjectEl,e.pageX,e.pageY),r.startDelay(e),r.minDistance||r.handleDistanceSurpassed(e)))},r.onPointerMove=function(e){if(r.isInteracting){if(r.emitter.trigger("pointermove",e),!r.isDistanceSurpassed){var t=r.minDistance,n=e.deltaX,o=e.deltaY;n*n+o*o>=t*t&&r.handleDistanceSurpassed(e)}r.isDragging&&("scroll"!==e.origEvent.type&&(r.mirror.handleMove(e.pageX,e.pageY),r.autoScroller.handleMove(e.pageX,e.pageY)),r.emitter.trigger("dragmove",e))}},r.onPointerUp=function(e){r.isInteracting&&(r.isInteracting=!1,Fe(document.body),ze(document.body),r.emitter.trigger("pointerup",e),r.isDragging&&(r.autoScroller.stop(),r.tryStopDrag(e)),r.delayTimeoutId&&(clearTimeout(r.delayTimeoutId),r.delayTimeoutId=null))};var o=r.pointer=new Ts(t);return o.emitter.on("pointerdown",r.onPointerDown),o.emitter.on("pointermove",r.onPointerMove),o.emitter.on("pointerup",r.onPointerUp),n&&(o.selector=n),r.mirror=new xs,r.autoScroller=new Hs,r}return n(t,e),t.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},t.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout((function(){t.delayTimeoutId=null,t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(oa),As=function(){function e(e){this.origRect=go(e),this.scrollCaches=mo(e).map((function(e){return new Is(e,!0)}))}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollLeft-r.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var r=n[t];e+=r.origScrollTop-r.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var r,o={left:e,top:t},i=0,a=this.scrollCaches;i<a.length;i++){var s=a[i];if(void 0,"HTML"!==(r=s.getEventTarget().tagName)&&"BODY"!==r&&!Zr(o,s.clientRect))return!1}return!0},e}(),Ls=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Eo}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},r=n,o=e.subjectEl;o instanceof HTMLElement&&(r=Kr(r,t=go(o)));var i=this.initialHit=this.queryHitForOffset(r.left,r.top);if(i){if(this.useSubjectCenter&&t){var a=Xr(t,i.rect);a&&(r=$r(a))}this.coordAdjust=Jr(r,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&Us(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=bt(this.droppableStore,(function(e){return e.component.prepareHits(),new As(e.el)}))},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this.droppableStore,r=this.offsetTrackers,o=null;for(var i in n){var a=n[i].component,s=r[i];if(s&&s.isWithinClipping(e,t)){var l=s.computeLeft(),u=s.computeTop(),c=e-l,d=t-u,p=s.origRect,f=p.right-p.left,h=p.bottom-p.top;if(c>=0&&c<f&&d>=0&&d<h){var v=a.queryHit(c,d,f,h);v&&Yn(v.dateProfile.activeRange,v.dateSpan.range)&&(!o||v.layer>o.layer)&&(v.componentId=i,v.context=a.context,v.rect.left+=l,v.rect.right+=l,v.rect.top+=u,v.rect.bottom+=u,o=v)}}}return o},e}();function Us(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&fr(e.dateSpan,t.dateSpan)}function Ws(e,t){for(var n,o,i={},a=0,s=t.pluginHooks.datePointTransforms;a<s.length;a++){var l=s[a];_r2(i,l(e,t))}return _r2(i,(n=e,{date:(o=t.dateEnv).toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),i}var Vs=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging,r=e.origEvent.target;t.setIgnoreMove(!n.component.isValidDateDownEl(r))},n.handleDragEnd=function(e){var t=n.component;if(!n.dragging.pointer.wasTouchScroll){var o=n.hitDragging,i=o.initialHit,a=o.finalHit;if(i&&a&&Us(i,a)){var s=t.context,l=_r2(_r2({},Ws(i.dateSpan,s)),{dayEl:i.dayEl,jsEvent:e.origEvent,view:s.viewApi||s.calendarApi.view});s.emitter.trigger("dateClick",l)}}},n.dragging=new Os(t.el),n.dragging.autoScroller.isEnabled=!1;var o=n.hitDragging=new Ls(n.dragging,na(t));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragend",n.handleDragEnd),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(ea),Fs=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t=n,r=t.component,o=t.dragging,i=r.context.options.selectable&&r.isValidDateDownEl(e.origEvent.target);o.setIgnoreMove(!i),o.delay=e.isTouch?function(e){var t=e.context.options,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(r):null},n.handleDragStart=function(e){n.component.context.calendarApi.unselect(e)},n.handleHitUpdate=function(e,t){var o=n.component.context,i=null,a=!1;if(e){var s=n.hitDragging.initialHit;e.componentId===s.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(s,e)||(i=function(e,t,n){var o=e.dateSpan,i=t.dateSpan,a=[o.range.start,o.range.end,i.range.start,i.range.end];a.sort(Ke);for(var s={},l=0,u=n;l<u.length;l++){var c=(0,u[l])(e,t);if(!1===c)return null;c&&_r2(s,c)}return s.range={start:a[0],end:a[3]},s.allDay=o.allDay,s}(s,e,o.pluginHooks.dateSelectionTransformers)),i&&Pa(i,e.dateProfile,o)||(a=!0,i=null)}i?o.dispatch({type:"SELECT_DATES",selection:i}):t||o.dispatch({type:"UNSELECT_DATES"}),a?Ue():We(),t||(n.dragSelection=i)},n.handlePointerUp=function(e){n.dragSelection&&(mr(n.dragSelection,e,n.component.context),n.dragSelection=null)};var o=t.component.context.options,i=n.dragging=new Os(t.el);i.touchScrollAllowed=!1,i.minDistance=o.selectMinDistance||0,i.autoScroller.isEnabled=o.dragScroll;var a=n.hitDragging=new Ls(n.dragging,na(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragstart",n.handleDragStart),a.emitter.on("hitupdate",n.handleHitUpdate),a.emitter.on("pointerup",n.handlePointerUp),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(ea),Bs=function(e){function t(n){var o=e.call(this,n)||this;o.subjectEl=null,o.subjectSeg=null,o.isDragging=!1,o.eventRange=null,o.relevantEvents=null,o.receivingContext=null,o.validMutation=null,o.mutatedRelevantEvents=null,o.handlePointerDown=function(e){var t=e.origEvent.target,n=o,r=n.component,i=n.dragging,a=i.mirror,s=r.context.options,l=r.context;o.subjectEl=e.subjectEl;var u=o.subjectSeg=Jn(e.subjectEl),c=(o.eventRange=u.eventRange).instance.instanceId;o.relevantEvents=bn(l.getCurrentData().eventStore,c),i.minDistance=e.isTouch?0:s.eventDragMinDistance,i.delay=e.isTouch&&c!==r.props.eventSelection?function(e){var t=e.context.options,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(r):null,s.fixedMirrorParent?a.parentNode=s.fixedMirrorParent:a.parentNode=Se(t,".fc"),a.revertDuration=s.dragRevertDuration;var d=r.isValidSegDownEl(t)&&!Se(t,".fc-event-resizer");i.setIgnoreMove(!d),o.isDragging=d&&e.subjectEl.classList.contains("fc-event-draggable")},o.handleDragStart=function(e){var t=o.component.context,n=o.eventRange,r=n.instance.instanceId;e.isTouch?r!==o.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),o.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:o.subjectEl,event:new xr(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},o.handleHitUpdate=function(e,t){if(o.isDragging){var n=o.relevantEvents,r=o.hitDragging.initialHit,i=o.component.context,a=null,s=null,l=null,u=!1,c={affectedEvents:n,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){var d=(a=e.context).options;i===a||d.editable&&d.droppable?(s=function(e,t,n){var r=e.dateSpan,o=t.dateSpan,i=r.range.start,a=o.range.start,s={};r.allDay!==o.allDay&&(s.allDay=o.allDay,s.hasEnd=t.context.options.allDayMaintainDuration,o.allDay&&(i=lt(i)));var l=Fn(i,a,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);l.milliseconds&&(s.allDay=!1);for(var u={datesDelta:l,standardProps:s},c=0,d=n;c<d.length;c++)(0,d[c])(u,e,t);return u}(r,e,a.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(l=Sr(n,a.getCurrentData().eventUiBases,s,a),c.mutatedEvents=l,Ia(c,e.dateProfile,a)||(u=!0,s=null,l=null,c.mutatedEvents={defs:{},instances:{}})):a=null}o.displayDrag(a,c),u?Ue():We(),t||(i===a&&Us(r,e)&&(s=null),o.dragging.setMirrorNeedsRevert(!s),o.dragging.setMirrorIsVisible(!e||!Te(o.subjectEl).querySelector(".fc-event-mirror")),o.receivingContext=a,o.validMutation=s,o.mutatedRelevantEvents=l)}},o.handlePointerUp=function(){o.isDragging||o.cleanup()},o.handleDragEnd=function(e){if(o.isDragging){var t=o.component.context,n=t.viewApi,i=o,a=i.receivingContext,s=i.validMutation,l=o.eventRange.def,u=o.eventRange.instance,c=new xr(t,l,u),d=o.relevantEvents,p=o.mutatedRelevantEvents,f=o.hitDragging.finalHit;if(o.clearDrag(),t.emitter.trigger("eventDragStop",{el:o.subjectEl,event:c,jsEvent:e.origEvent,view:n}),s){if(a===t){var h=new xr(t,p.defs[l.defId],u?p.instances[u.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:p});for(var v={oldEvent:c,event:h,relatedEvents:Ir(p,t,u),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}},g={},m=0,y=t.getCurrentData().pluginHooks.eventDropTransformers;m<y.length;m++){var E=y[m];_r2(g,E(s,t))}t.emitter.trigger("eventDrop",_r2(_r2(_r2({},v),g),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",v)}else if(a){var S={event:c,relatedEvents:Ir(d,t,u),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:d})}};t.emitter.trigger("eventLeave",_r2(_r2({},S),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:d}),t.emitter.trigger("eventRemove",S);var b=p.defs[l.defId],D=p.instances[u.instanceId],C=new xr(a,b,D);a.dispatch({type:"MERGE_EVENTS",eventStore:p});var w={event:C,relatedEvents:Ir(p,a,D),revert:function(){a.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};a.emitter.trigger("eventAdd",w),e.isTouch&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instanceId}),a.emitter.trigger("drop",_r2(_r2({},Ws(f.dateSpan,a)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:f.context.viewApi})),a.emitter.trigger("eventReceive",_r2(_r2({},w),{draggedEl:e.subjectEl,view:f.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}o.cleanup()};var i=o.component.context.options,a=o.dragging=new Os(n.el);a.pointer.selector=t.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.dragScroll;var s=o.hitDragging=new Ls(o.dragging,ra);return s.useSubjectCenter=n.useEventCenter,s.emitter.on("pointerdown",o.handlePointerDown),s.emitter.on("dragstart",o.handleDragStart),s.emitter.on("hitupdate",o.handleHitUpdate),s.emitter.on("pointerup",o.handlePointerUp),s.emitter.on("dragend",o.handleDragEnd),o}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t}(ea),zs=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var t=n.component,r=Jn(n.querySegEl(e)),o=n.eventRange=r.eventRange;n.dragging.minDistance=t.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==o.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,r=n.eventRange;n.relevantEvents=bn(t.getCurrentData().eventStore,n.eventRange.instance.instanceId);var o=n.querySegEl(e);n.draggingSegEl=o,n.draggingSeg=Jn(o),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:o,event:new xr(t,r.def,r.instance),jsEvent:e.origEvent,view:t.viewApi})},n.handleHitUpdate=function(e,t,r){var o=n.component.context,i=n.relevantEvents,a=n.hitDragging.initialHit,s=n.eventRange.instance,l=null,u=null,c=!1,d={affectedEvents:i,mutatedEvents:{defs:{},instances:{}},isEvent:!0};e&&(e.componentId===a.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(a,e)||(l=function(e,t,n,r){var o=e.context.dateEnv,s=Fn(e.dateSpan.range.start,t.dateSpan.range.start,o,e.largeUnit);if(n){if(o.add(r.start,s)<r.end)return{startDelta:s}}else if(o.add(r.end,s)>r.start)return{endDelta:s};return null}(a,e,r.subjectEl.classList.contains("fc-event-resizer-start"),s.range))),l&&(u=Sr(i,o.getCurrentData().eventUiBases,l,o),d.mutatedEvents=u,Ia(d,e.dateProfile,o)||(c=!0,l=null,u=null,d.mutatedEvents=null)),u?o.dispatch({type:"SET_EVENT_RESIZE",state:d}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),c?Ue():We(),t||(l&&Us(a,e)&&(l=null),n.validMutation=l,n.mutatedRelevantEvents=u)},n.handleDragEnd=function(e){var t=n.component.context,o=n.eventRange.def,i=n.eventRange.instance,a=new xr(t,o,i),s=n.relevantEvents,l=n.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:a,jsEvent:e.origEvent,view:t.viewApi}),n.validMutation){var u=new xr(t,l.defs[o.defId],i?l.instances[i.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:l});var c={oldEvent:a,event:u,relatedEvents:Ir(l,t,i),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})}};t.emitter.trigger("eventResize",_r2(_r2({},c),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||Nt(0),endDelta:n.validMutation.endDelta||Nt(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",c)}else t.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var o=t.component,i=n.dragging=new Os(t.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=o.context.options.dragScroll;var a=n.hitDragging=new Ls(n.dragging,na(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragstart",n.handleDragStart),a.emitter.on("hitupdate",n.handleHitUpdate),a.emitter.on("dragend",n.handleDragEnd),n}return n(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySegEl=function(e){return Se(e.subjectEl,".fc-event")},t}(ea),js=function(){function e(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var n=t.context.options.unselectCancel,r=_e(e.origEvent);t.matchesCancel=!!Se(r,n),t.matchesEvent=!!Se(r,Bs.SELECTOR)},this.onDocumentPointerUp=function(e){var n=t.context,r=t.documentPointer,o=n.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!t.isRecentPointerDateSelect){var i=n.options.unselectAuto;!i||i&&t.matchesCancel||n.calendarApi.unselect(e)}o.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var n=this.documentPointer=new Ts(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return e.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},e}(),Gs={fixedMirrorParent:yn},qs={dateClick:yn,eventDragStart:yn,eventDragStop:yn,eventDrop:yn,eventResizeStart:yn,eventResizeStop:yn,eventResize:yn,drop:yn,eventReceive:yn,eventLeave:yn},Ys=function(){function e(e,t){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,o){var i=n.hitDragging.dragging,a=null,s=null,l=!1,u={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:n.dragMeta.create};e&&(a=e.context,n.canDropElOnCalendar(o.subjectEl,a)&&(s=function(e,t,n){for(var o=_r2({},t.leftoverProps),i=0,a=n.pluginHooks.externalDefTransforms;i<a.length;i++){var s=a[i];_r2(o,s(e,t))}var l=On(o,n),d=Ln(l.refined,l.extra,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),p=e.range.start;e.allDay&&t.startTime&&(p=n.dateEnv.add(p,t.startTime));var f=t.duration?n.dateEnv.add(p,t.duration):Er(e.allDay,p,n);return{def:d,instance:mt(d.defId,{start:p,end:f})}}(e.dateSpan,n.dragMeta,a),u.mutatedEvents=Sn(s),(l=!Ia(u,e.dateProfile,a))&&(u.mutatedEvents={defs:{},instances:{}},s=null))),n.displayDrag(a,u),i.setMirrorIsVisible(t||!s||!document.querySelector(".fc-event-mirror")),l?Ue():We(),t||(i.setMirrorNeedsRevert(!s),n.receivingContext=a,n.droppableEvent=s)},this.handleDragEnd=function(e){var t=n,o=t.receivingContext,i=t.droppableEvent;if(n.clearDrag(),o&&i){var a=n.hitDragging.finalHit,s=a.context.viewApi,l=n.dragMeta;if(o.emitter.trigger("drop",_r2(_r2({},Ws(a.dateSpan,o)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:s})),l.create){var u=Sn(i);o.dispatch({type:"MERGE_EVENTS",eventStore:u}),e.isTouch&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:i.instance.instanceId}),o.emitter.trigger("eventReceive",{event:new xr(o,i.def,i.instance),relatedEvents:[],revert:function(){o.dispatch({type:"REMOVE_EVENTS",eventStore:u})},draggedEl:e.subjectEl,view:s})}}n.receivingContext=null,n.droppableEvent=null};var o=this.hitDragging=new Ls(e,ra);o.requireInitial=!1,o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){return"object"==_typeof(this.suppliedDragMeta)?sa(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?sa(this.suppliedDragMeta(e)):sa((t=function(e,t){var n=ia.dataAttrPrefix,r=(n?n+"-":"")+"event";return e.getAttribute("data-"+r)||""}(e))?JSON.parse(t):{create:!1});var t},e.prototype.displayDrag=function(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.options.dropAccept;return"function"==typeof n?n.call(t.calendarApi,e):"string"!=typeof n||!n||Boolean(be(e,n))},e}();ia.dataAttrPrefix="";var Zs=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=n.dragging,r=n.settings,o=r.minDistance,i=r.longPressDelay;t.minDistance=null!=o?o:e.isTouch?0:cn.eventDragMinDistance,t.delay=e.isTouch?null!=i?i:cn.longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&n.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;var r=this.dragging=new Os(e);r.touchScrollAllowed=!1,null!=t.itemSelector&&(r.pointer.selector=t.itemSelector),null!=t.appendTo&&(r.mirror.parentNode=t.appendTo),r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),new Ys(r,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),Xs=function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var r=n.pointer=new Ts(t);return r.emitter.on("pointerdown",n.handlePointerDown),r.emitter.on("pointermove",n.handlePointerMove),r.emitter.on("pointerup",n.handlePointerUp),n}return n(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},t}(oa),Ks=function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var r=this.dragging=new Xs(n);"string"==typeof t.itemSelector?r.pointer.selector=t.itemSelector:n===document&&(r.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(r.mirrorSelector=t.mirrorSelector),new Ys(r,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),$s=zo({componentInteractions:[Vs,Fs,Bs,zs],calendarInteractions:[js],elementDraggingImpl:Os,optionRefiners:Gs,listenerRefiners:qs}),Js=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=ko(),t}return n(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,r=this.context,o=[],i=Qa(r.options);return e&&o.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),_o(ti,{viewSpec:r.viewSpec},(function(e,t){return _o("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},_o(ts,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:o}))}))},t.prototype.renderHScrollLayout=function(e,t,n,r){var o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");var i=this.props,a=this.context,s=!i.forPrint&&Qa(a.options),l=!i.forPrint&&es(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:s,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ja}]}),_o(ti,{viewSpec:a.viewSpec},(function(e,t){return _o("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},_o(o,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:u}))}))},t}(Bo);function Qs(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var o=0,i=e;o<i.length;o++){var a=i[o];n[a.row].push(a)}return n}function el(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var o=0,i=e;o<i.length;o++){var a=i[o];n[a.firstCol].push(a)}return n}function tl(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var i=o[r];n[i.row].segs.push(i)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=so(this.context,e.date);return _o(ss,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:rl},(function(n,o){return(o||e.forceDayTop)&&_o("div",{className:"fc-daygrid-day-top",ref:n},_o("a",_r2({id:e.dayNumberId,className:"fc-daygrid-day-number"},t),o||_o(xo,null," ")))}))},t}(Uo);function rl(e){return e.dayNumberText}var ol=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function il(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var al=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props;return _o(rs,_r2({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:ol,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(Uo),sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||ol,o=ar(e.seg,n,t,!0,e.defaultDisplayEventEnd);return _o(ns,{seg:e.seg,timeText:o,defaultContent:ll,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(n,o,i,a){return _o("a",_r2({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(o).join(" "),ref:n},cr(e.seg,t)),a)}))},t}(Uo);function ll(e){return _o(xo,null,_o("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&_o("div",{className:"fc-event-time"},e.timeText),_o("div",{className:"fc-event-title"},e.event.title||_o(xo,null," ")))}var ul=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileSegs=qt(cl),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,o=t.invisibleSegs;return _o(ms,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:o,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return _o(xo,null,n.map((function(n){var o=n.eventRange.instance.instanceId;return _o("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:t[o]?"hidden":""}},il(n)?_o(sl,_r2({seg:n,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},sr(n,e.todayRange))):_o(al,_r2({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},sr(n,e.todayRange))))})))}},(function(e,t,n,o,i,a,s,l){return _o("a",_r2({ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),title:a,"aria-expanded":s,"aria-controls":l},He(i)),o)}))},t}(Uo);function cl(e){for(var t=[],n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.push(i.seg),i.isVisible||n.push(i.seg)}return{allSegs:t,invisibleSegs:n}}var dl=ln({week:"narrow"}),pl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=ko(),t.state={dayNumberId:xe()},t.handleRootEl=function(e){Fo(t.rootElRef,e),Fo(t.props.elRef,e)},t}return n(t,e),t.prototype.render=function(){var e=this,t=e.context,n=e.props,o=e.state,i=e.rootElRef,a=n.date,s=n.dateProfile,l=so(t,a,"week");return _o(us,{date:a,dateProfile:s,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,elRef:this.handleRootEl},(function(e,t,u,c){return _o("td",_r2({ref:e,role:"gridcell",className:["fc-daygrid-day"].concat(t,n.extraClassNames||[]).join(" ")},u,n.extraDataAttrs,n.showDayNumber?{"aria-labelledby":o.dayNumberId}:{}),_o("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:n.innerElRef},n.showWeekNumber&&_o(fs,{date:a,defaultFormat:dl},(function(e,t,n,o){return _o("a",_r2({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},l),o)})),!c&&_o(nl,{date:a,dateProfile:s,showDayNumber:n.showDayNumber,dayNumberId:o.dayNumberId,forceDayTop:n.forceDayTop,todayRange:n.todayRange,extraHookProps:n.extraHookProps}),_o("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,_o("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},_o(ul,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),_o("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}))},t}(Bo);function hl(e,t,n,o){if(e.firstCol===t&&e.lastCol===n-1)return e;var i=e.eventRange,a=i.range,s=jn(a,{start:o[t].date,end:tt(o[n-1].date,1)});return _r2(_r2({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:_r2(_r2({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:e.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===a.end.valueOf()})}var vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return n(t,e),t.prototype.addSegs=function(t){for(var n=this,r=e.prototype.addSegs.call(this,t),o=this.entriesByLevel,i=function(e){return!n.forceHidden[Zi(e)]},a=0;a<o.length;a+=1)o[a]=o[a].filter(i);return r},t.prototype.handleInvalidInsertion=function(t,n,o){var i=this.entriesByLevel,a=this.forceHidden,s=t.touchingEntry,l=t.touchingLevel,u=t.touchingLateral;if(this.hiddenConsumes&&s){var c=Zi(s);if(!a[c])if(this.allowReslicing){var d=_r2(_r2({},s),{span:$i(s.span,n.span)});a[Zi(d)]=!0,i[l][u]=d,this.splitEntry(s,n,o)}else a[c]=!0,o.push(s)}return e.prototype.handleInvalidInsertion.call(this,t,n,o)},t}(qi),gl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new Fa,t.frameElRefs=new Fa,t.fgElRefs=new Fa,t.segHarnessRefs=new Fa,t.rootElRef=ko(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return n(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,r=t.state,o=t.context.options,i=n.cells.length,a=el(n.businessHourSegs,i),s=el(n.bgEventSegs,i),l=el(this.getHighlightSegs(),i),u=el(this.getMirrorSegs(),i),c=function(e,t,n,r,o,i,a){var s=new vl;s.allowReslicing=!0,s.strictOrder=r,!0===t||!0===n?(s.maxCoord=i,s.hiddenConsumes=!0):"number"==typeof t?s.maxStackCnt=t:"number"==typeof n&&(s.maxStackCnt=n,s.hiddenConsumes=!0);for(var l=[],u=[],c=0;c<e.length;c+=1){var d=o[(R=e[c]).eventRange.instance.instanceId];null!=d?l.push({index:c,thickness:d,span:{start:R.firstCol,end:R.lastCol+1}}):u.push(R)}for(var p=s.addSegs(l),f=function(e,t,n){for(var r=function(e,t){for(var n=[],r=0;r<t;r+=1)n.push([]);for(var o=0,i=e;o<i.length;o++){var a=i[o];for(r=a.span.start;r<a.span.end;r+=1)n[r].push(a)}return n}(e,n.length),o=[],i=[],a=[],s=0;s<n.length;s+=1){for(var l=r[s],u=[],c=0,d=0,p=0,f=l;p<f.length;p++){var h=t[(y=f[p]).index];u.push({seg:hl(h,s,s+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:y.levelCoord-c}),c=y.levelCoord+y.thickness}var v=[];c=0,d=0;for(var g=0,m=l;g<m.length;g++){h=t[(y=m[g]).index];var y,E=y.span.end-y.span.start>1,S=y.span.start===s;d+=y.levelCoord-c,c=y.levelCoord+y.thickness,E?(d+=y.thickness,S&&v.push({seg:hl(h,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):S&&(v.push({seg:hl(h,y.span.start,y.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:d}),d=0)}o.push(u),i.push(v),a.push(d)}return{singleColPlacements:o,multiColPlacements:i,leftoverMargins:a}}(s.toRects(),e,a),h=f.singleColPlacements,v=f.multiColPlacements,g=f.leftoverMargins,m=[],y=[],E=0,S=u;E<S.length;E++){v[(R=S[E]).firstCol].push({seg:R,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var b=R.firstCol;b<=R.lastCol;b+=1)h[b].push({seg:hl(R,b,b+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(b=0;b<a.length;b+=1)m.push(0);for(var D=0,C=p;D<C.length;D++){var w=C[D],R=e[w.index],_=w.span;for(v[_.start].push({seg:hl(R,_.start,_.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),b=_.start;b<_.end;b+=1)m[b]+=1,h[b].push({seg:hl(R,b,b+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(b=0;b<a.length;b+=1)y.push(g[b]);return{singleColPlacements:h,multiColPlacements:v,moreCnts:m,moreMarginTops:y}}(tr(n.fgEventSegs,o.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,o.eventOrderStrict,r.eventInstanceHeights,r.maxContentHeight,n.cells),d=c.singleColPlacements,p=c.multiColPlacements,f=c.moreCnts,h=c.moreMarginTops,v=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return _o("tr",{ref:this.rootElRef,role:"row"},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,r){var o=e.renderFgSegs(r,n.forPrint?d[r]:p[r],n.todayRange,v),i=e.renderFgSegs(r,function(e,t){if(!e.length)return[];var n=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var o=0,i=r[n];o<i.length;o++){var a=i[o];t[a.seg.eventRange.instance.instanceId]=a.absoluteTop}return t}(t);return e.map((function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}}))}(u[r],p),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return _o(pl,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&0===r,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:f[r],moreMarginTop:h[r],singlePlacements:d[r],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:_o(xo,null,_o(xo,null,o),_o(xo,null,i)),bgContent:_o(xo,null,e.renderFillSegs(l[r],"highlight"),e.renderFillSegs(a[r],"non-business"),e.renderFillSegs(s[r],"bg-event"))})})))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!wt(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,o,i,a,s){var l=this.context,u=this.props.eventSelection,c=this.state.framePositions,d=1===this.props.cells.length,p=i||a||s,f=[];if(c)for(var h=0,v=t;h<v.length;h++){var g=v[h],m=g.seg,y=m.eventRange.instance.instanceId,E=y+":"+e,S=g.isVisible&&!o[y],b=g.isAbsolute,D="",C="";b&&(l.isRtl?(C=0,D=c.lefts[m.lastCol]-c.lefts[m.firstCol]):(D=0,C=c.rights[m.firstCol]-c.rights[m.lastCol])),f.push(_o("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:E,ref:p?null:this.segHarnessRefs.createRef(E),style:{visibility:S?"":"hidden",marginTop:b?"":g.marginTop,top:b?g.absoluteTop:"",left:D,right:C}},il(m)?_o(sl,_r2({seg:m,isDragging:i,isSelected:y===u,defaultDisplayEventEnd:d},sr(m,n))):_o(al,_r2({seg:m,isDragging:i,isResizing:a,isDateSelecting:s,isSelected:y===u,defaultDisplayEventEnd:d},sr(m,n)))))}return f},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,i=this.props.todayRange,a=this.state.framePositions,s=[];if(a)for(var l=0,u=e;l<u.length;l++){var c=u[l],d=n?{right:0,left:a.lefts[c.lastCol]-a.lefts[c.firstCol]}:{left:0,right:a.rights[c.firstCol]-a.rights[c.lastCol]};s.push(_o("div",{key:ur(c.eventRange),className:"fc-daygrid-bg-harness",style:d},"bg-event"===t?_o(ds,_r2({seg:c},sr(c,i))):cs(t)))}return _o.apply(void 0,o([xo,{}],s))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(!t.forPrint&&null!==t.clientWidth){if(e){var o=t.cells.map((function(e){return n.currentMap[e.key]}));if(o.length){var i=this.rootElRef.current;this.setState({framePositions:new So(i,o,!0,!1)})}}var a=this.state.eventInstanceHeights,s=this.queryEventInstanceHeights(),l=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({eventInstanceHeights:_r2(_r2({},a),s),maxContentHeight:l?this.computeMaxContentHeight():null})}},t.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var r=Math.round(e[n].getBoundingClientRect().height),o=n.split(":")[0];t[o]=Math.max(t[o]||0,r)}return t},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},t}(Bo);gl.addStateEquality({eventInstanceHeights:wt});var ml=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=qt(Qs),t.splitBgEventSegs=qt(Qs),t.splitFgEventSegs=qt(Qs),t.splitDateSelectionSegs=qt(Qs),t.splitEventDrag=qt(tl),t.splitEventResize=qt(tl),t.rowRefs=new Fa,t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,r=t.dayMaxEventRows,o=t.dayMaxEvents,i=t.expandRows,a=t.cells.length,s=this.splitBusinessHourSegs(t.businessHourSegs,a),l=this.splitBgEventSegs(t.bgEventSegs,a),u=this.splitFgEventSegs(t.fgEventSegs,a),c=this.splitDateSelectionSegs(t.dateSelectionSegs,a),d=this.splitEventDrag(t.eventDrag,a),p=this.splitEventResize(t.eventResize,a),f=!0===o||!0===r;return f&&!i&&(f=!1,r=null,o=null),_o("div",{className:["fc-daygrid-body",f?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},_o(Ca,{unit:"day"},(function(f,h){return _o(xo,null,_o("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:i?t.clientHeight:""}},t.colGroupNode,_o("tbody",{role:"presentation"},t.cells.map((function(i,f){return _o(gl,{ref:e.rowRefs.createRef(f),key:i.length?i[0].date.toISOString():f,showDayNumbers:a>1,showWeekNumbers:t.showWeekNumbers,todayRange:h,dateProfile:n,cells:i,renderIntro:t.renderRowIntro,businessHourSegs:s[f],eventSelection:t.eventSelection,bgEventSegs:l[f].filter(yl),fgEventSegs:u[f],dateSelectionSegs:c[f],eventDrag:d[f],eventResize:p[f],dayMaxEvents:o,dayMaxEventRows:r,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})})))))})))},t.prototype.prepareHits=function(){this.rowPositions=new So(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new So(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.queryHit=function(e,t){var n=this.colPositions,o=this.rowPositions,i=n.leftToIndex(e),a=o.topToIndex(t);if(null!=a&&null!=i){var s=this.props.cells[a][i];return{dateProfile:this.props.dateProfile,dateSpan:_r2({range:this.getCellRange(a,i),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(a,i),rect:{left:n.lefts[i],right:n.rights[i],top:o.tops[a],bottom:o.bottoms[a]},layer:0}}return null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:tt(n,1)}},t}(Bo);function yl(e){return e.eventRange.def.allDay}var El=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return n(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(xa),Sl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new El,t.tableRef=ko(),t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return _o(ml,_r2({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t}(Bo),bl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=qt(Dl),t.headerRef=ko(),t.tableRef=ko(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=t.dateProfileGenerator,o=this.props,i=this.buildDayTableModel(o.dateProfile,r),a=n.dayHeaders&&_o(Ra,{ref:this.headerRef,dateProfile:o.dateProfile,dates:i.headerDates,datesRepDistinctDays:1===i.rowCnt}),s=function(t){return _o(Sl,{ref:e.tableRef,dateProfile:o.dateProfile,dayTableModel:i,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:o.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,n.dayMinWidth):this.renderSimpleLayout(a,s)},t}(Js);function Dl(e,t){var n=new Ta(e.renderRange,t);return new ka(n,/year|month|week/.test(e.currentRangeUnit))}var Cl=zo({initialView:"dayGridMonth",views:{dayGrid:{component:bl,dateProfileGeneratorClass:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.buildRenderRange=function(t,n,r){var o,i=this.props.dateEnv,a=e.prototype.buildRenderRange.call(this,t,n,r),s=a.start,l=a.end;return/^(year|month)$/.test(n)&&(s=i.startOfWeek(s),(o=i.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=et(o,1))),this.props.monthMode&&this.props.fixedWeekCount&&(l=et(l,6-Math.ceil(rt(s,l)))),{start:s,end:l}},t}(ai)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),wl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?Kn(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(to),Rl=ln({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function _l(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return _o(Oo.Consumer,null,(function(n){if(!e.isLabeled)return _o("td",{className:t.join(" "),"data-time":e.isoTimeStr});var r=n.dateEnv,o=n.options,i=n.viewApi,a=null==o.slotLabelFormat?Rl:Array.isArray(o.slotLabelFormat)?ln(o.slotLabelFormat[0]):ln(o.slotLabelFormat),s={level:0,time:e.time,date:r.toDate(e.date),view:i,text:r.format(e.date,a)};return _o(Yo,{hookProps:s,classNames:o.slotLabelClassNames,content:o.slotLabelContent,defaultContent:Tl,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},(function(n,r,o,i){return _o("td",{ref:n,className:t.concat(r).join(" "),"data-time":e.isoTimeStr},_o("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},_o("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:o},i)))}))}))}function Tl(e){return e.text}var kl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return _o("tr",{key:e.key},_o(_l,_r2({},e)))}))},t}(Uo),xl=ln({week:"short"}),Ml=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new wl,t.headerElRef=ko(),t.rootElRef=ko(),t.scrollerElRef=ko(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e,n){void 0===n&&(n="");var o=t.context.options,i=t.props.dateProfile.renderRange,a=1===ot(i.start,i.end)?so(t.context,i.start,"week"):{};return o.weekNumbers&&"day"===e?_o(fs,{date:i.start,defaultFormat:xl},(function(e,t,o,i){return _o("th",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},_o("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},_o("a",_r2({ref:o,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},a),i)))})):_o("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},_o("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},t.renderTableRowAxis=function(e){var n=t.context,r=n.options,o=n.viewApi,i={text:r.allDayText,view:o};return _o(Yo,{hookProps:i,classNames:r.allDayClassNames,content:r.allDayContent,defaultContent:Il,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},(function(t,n,r,o){return _o("td",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},_o("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},_o("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:r},o)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return n(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var r=this.context,o=this.props,i=[],a=Qa(r.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:_o("tr",{role:"presentation",className:"fc-scrollgrid-section"},_o("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),_o(ti,{viewSpec:r.viewSpec,elRef:this.rootElRef},(function(e,t){return _o("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},_o(ts,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:i}))}))},t.prototype.renderHScrollLayout=function(e,t,n,r,o,i,a){var s=this,l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");var u=this.context,c=this.props,d=!c.forPrint&&Qa(u.options),p=!c.forPrint&&es(u.options),f=[];e&&f.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return _o("tr",{role:"presentation"},s.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return _o("tr",{role:"presentation"},s.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),f.push({key:"all-day-divider",type:"body",outerContent:_o("tr",{role:"presentation",className:"fc-scrollgrid-section"},_o("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));var h=u.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(u.options.expandRows),chunks:[{key:"axis",content:function(e){return _o("div",{className:"fc-timegrid-axis-chunk"},_o("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,_o("tbody",null,_o(kl,{slatMetas:i}))),_o("div",{className:"fc-timegrid-now-indicator-container"},_o(Ca,{unit:h?"minute":"day"},(function(e){var t=h&&a&&a.safeComputeTop(e);return"number"==typeof t?_o(is,{isAxis:!0,date:e},(function(e,n,r,o){return _o("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},o)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),p&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ja},{key:"cols",content:Ja}]}),_o(ti,{viewSpec:u.viewSpec,elRef:this.rootElRef},(function(e,t){return _o("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},_o(l,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:f}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},t}(Bo);function Il(e){return e.text}var Pl=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(Zn(t.currentRange,e)){var n=lt(e),r=e.valueOf()-n.valueOf();if(r>=Ut(t.slotMinTime)&&r<Ut(t.slotMaxTime))return this.computeTimeTop(Nt(r))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=lt(e)),this.computeTimeTop(Nt(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,r=this.positions,o=this.dateProfile,i=r.els.length,a=(e.milliseconds-Ut(o.slotMinTime))/Ut(this.slotDuration);return a=Math.max(0,a),a=Math.min(i,a),t=Math.floor(a),n=a-(t=Math.min(t,i-1)),r.tops[t]+r.getHeight(t)*n},e}(),Nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,o=e.slatElRefs;return _o("tbody",null,e.slatMetas.map((function(i,a){var s={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",i.isLabeled?"":"fc-timegrid-slot-minor"];return _o("tr",{key:i.key,ref:o.createRef(i.key)},e.axis&&_o(_l,_r2({},i)),_o(Yo,{hookProps:s,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,r){return _o("td",{ref:e,className:l.concat(t).join(" "),"data-time":i.isoTimeStr},r)})))})))},t}(Uo),Hl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=ko(),t.slatElRefs=new Fa,t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return _o("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},_o("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,_o(Nl,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e,t=this.context,n=this.props;n.onCoords&&null!==n.clientWidth&&this.rootElRef.current.offsetHeight&&n.onCoords(new Pl(new So(this.rootElRef.current,(e=this.slatElRefs.currentMap,n.slatMetas.map((function(t){return e[t.key]}))),!1,!0),this.props.dateProfile,t.options.slotDuration))},t}(Uo);function Ol(e,t){var n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function Al(e,t){var n=[];if(e){for(a=0;a<t;a+=1)n[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var i=o[r];n[i.col].segs.push(i)}}else for(var a=0;a<t;a+=1)n[a]=null;return n}var Ll=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=ko(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props;return _o(ms,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:Ul,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return Xl(t.hiddenSegs,t)}},(function(n,r,o,i,a,s,l,u){return _o("a",{ref:function(t){Fo(n,t),Fo(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(r).join(" "),style:{top:t.top,bottom:t.bottom},onClick:a,title:s,"aria-expanded":l,"aria-controls":u},_o("div",{ref:o,className:"fc-timegrid-more-link-inner fc-sticky"},i))}))},t}(Uo);function Ul(e){return e.shortText}function Vl(e,t){if(!e)return[[],0];for(var n=e.level,r=e.lateralStart,o=e.lateralEnd,i=r,a=[];i<o;)a.push(t(n,i)),i+=1;return a.sort(Fl),[a.map(Bl),a[0][1]]}function Fl(e,t){return t[1]-e[1]}function Bl(e){return e[0]}function zl(e,t){var n={};return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=e.apply(void 0,r);return i in n?n[i]:n[i]=t.apply(void 0,r)}}function jl(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=0);var o=[];if(n)for(var i=0;i<e.length;i+=1){var a=e[i],s=n.computeDateTop(a.start,t),l=Math.max(s+(r||0),n.computeDateTop(a.end,t));o.push({start:Math.round(s),end:Math.round(l)})}return o}var Gl=ln({hour:"numeric",minute:"2-digit",meridiem:!1}),ql=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),_o(rs,_r2({},this.props,{defaultTimeFormat:Gl,extraClassNames:e}))},t}(Uo),Yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props;return _o(ss,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&_o("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(Uo),Zl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortEventSegs=qt(tr),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,o=n.options.selectMirror,i=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||o&&t.dateSelectionSegs||[],a=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},s=this.sortEventSegs(t.fgEventSegs,n.options.eventOrder);return _o(us,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(n,l,u){return _o("td",_r2({ref:n,role:"gridcell",className:["fc-timegrid-col"].concat(l,t.extraClassNames||[]).join(" ")},u,t.extraDataAttrs),_o("div",{className:"fc-timegrid-col-frame"},_o("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),_o("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(s,a,!1,!1,!1)),_o("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(i,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(o))),_o("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),_o(Yl,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,r,o){var i=this.props;return i.forPrint?Xl(e,i):this.renderPositionedFgSegs(e,t,n,r,o)},t.prototype.renderPositionedFgSegs=function(e,t,n,o,i){var a=this,s=this.context.options,l=s.eventMaxStack,u=s.eventShortHeight,c=s.eventOrderStrict,d=s.eventMinHeight,p=this.props,f=p.date,h=p.slatCoords,v=p.eventSelection,g=p.todayRange,m=p.nowDate,y=n||o||i,E=function(e,t,n,r){for(var o=[],i=[],a=0;a<e.length;a+=1){var s=t[a];s?o.push({index:a,thickness:1,span:s}):i.push(e[a])}for(var l=function(e,t,n){var o=new qi;null!=t&&(o.strictOrder=t),null!=n&&(o.maxStackCnt=n);var i,s,l=Xi(o.addSegs(e)),u=function(e){var t=e.entriesByLevel,n=zl((function(e,t){return e+":"+t}),(function(o,i){var a=Vl(function(e,t,n){for(var r=e.levelCoords,o=e.entriesByLevel,i=o[t][n],a=r[t]+i.thickness,s=r.length,l=t;l<s&&r[l]<a;l+=1);for(;l<s;l+=1){for(var u=o[l],c=void 0,d=Qi(u,i.span.start,Yi),p=d[0]+d[1],f=p;(c=u[f])&&c.span.start<i.span.end;)f+=1;if(p<f)return{level:l,lateralStart:p,lateralEnd:f}}return null}(e,o,i),n),s=t[o][i];return[_r2(_r2({},s),{nextLevelNodes:a[0]}),s.thickness+a[1]]}));return Vl(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(o);return i=u,1,s=zl((function(e,t,n){return Zi(e)}),(function(e,t,n){var o,i=e.nextLevelNodes,l=e.thickness,u=l+n,c=l/u,d=[];if(i.length)for(var p=0,f=i;p<f.length;p++){var h=f[p];if(void 0===o)o=(v=s(h,t,u))[0],d.push(v[1]);else{var v=s(h,o,0);d.push(v[1])}}else o=1;var g=(o-t)*c;return[o-g,_r2(_r2({},e),{thickness:g,nextLevelNodes:d})]})),{segRects:function(e){var t=[],n=zl((function(e,t,n){return Zi(e)}),(function(e,n,i){var a=_r2(_r2({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(a),a.stackForward=o(e.nextLevelNodes,n+e.thickness,i+1)+1}));function o(e,t,r){for(var o=0,i=0,a=e;i<a.length;i++){var s=a[i];o=Math.max(n(s,t,r),o)}return o}return o(e,0,0),t}(u=i.map((function(e){return s(e,0,0)[1]}))),hiddenGroups:l}}(o,n,r),u=l.segRects,c=l.hiddenGroups,d=[],p=0,f=u;p<f.length;p++){var h=f[p];d.push({seg:e[h.index],rect:h})}for(var v=0,g=i;v<g.length;v++){var m=g[v];d.push({seg:m,rect:null})}return{segPlacements:d,hiddenGroups:c}}(e,jl(e,f,h,d),c,l),S=E.segPlacements,b=E.hiddenGroups;return _o(xo,null,this.renderHiddenGroups(b,e),S.map((function(e){var s=e.seg,l=e.rect,c=s.eventRange.instance.instanceId,d=y||Boolean(!t[c]&&l),p=Kl(l&&l.span),f=!y&&l?a.computeSegHStyle(l):{left:0,right:0},h=Boolean(l)&&l.stackForward>0,E=Boolean(l)&&l.span.end-l.span.start<u;return _o("div",{className:"fc-timegrid-event-harness"+(h?" fc-timegrid-event-harness-inset":""),key:c,style:_r2(_r2({visibility:d?"":"hidden"},p),f)},_o(ql,_r2({seg:s,isDragging:n,isResizing:o,isDateSelecting:i,isSelected:c===v,isShort:E},sr(s,g,m))))})))},t.prototype.renderHiddenGroups=function(e,t){var n=this.props,r=n.extraDateSpan,o=n.dateProfile,i=n.todayRange,a=n.nowDate,s=n.eventSelection,l=n.eventDrag,u=n.eventResize;return _o(xo,null,e.map((function(e){var n,c,d=Kl(e.span),p=(n=e.entries,c=t,n.map((function(e){return c[e.index]})));return _o(Ll,{key:Ft(Ss(p)),hiddenSegs:p,top:d.top,bottom:d.bottom,extraDateSpan:r,dateProfile:o,todayRange:i,nowDate:a,eventSelection:s,eventDrag:l,eventResize:u})})))},t.prototype.renderFillSegs=function(e,t){var n=this.props,o=this.context,i=jl(e,n.date,n.slatCoords,o.options.eventMinHeight).map((function(o,i){var a=e[i];return _o("div",{key:ur(a.eventRange),className:"fc-timegrid-bg-harness",style:Kl(o)},"bg-event"===t?_o(ds,_r2({seg:a},sr(a,n.todayRange,n.nowDate))):cs(t))}));return _o(xo,null,i)},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,r=t.date;return n?e.map((function(e,t){return _o(is,{isAxis:!1,date:r,key:t},(function(t,o,i,a){return _o("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(o).join(" "),style:{top:n.computeDateTop(e.start,r)}},a)}))})):null},t.prototype.computeSegHStyle=function(e){var t,n,r=this.context,o=r.isRtl,i=r.options.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness;i&&(s=Math.min(1,a+2*(s-a))),o?(t=1-s,n=a):(t=a,n=1-s);var l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return i&&!e.stackForward&&(l[o?"marginLeft":"marginRight"]=20),l},t}(Uo);function Xl(e,t){var n=t.todayRange,o=t.nowDate,i=t.eventSelection,a=t.eventDrag,s=t.eventResize,l=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return _o(xo,null,e.map((function(e){var t=e.eventRange.instance.instanceId;return _o("div",{key:t,style:{visibility:l[t]?"hidden":""}},_o(ql,_r2({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===i,isShort:!1},sr(e,n,o))))})))}function Kl(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}var $l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=qt(Ol),t.splitBgEventSegs=qt(Ol),t.splitBusinessHourSegs=qt(Ol),t.splitNowIndicatorSegs=qt(Ol),t.splitDateSelectionSegs=qt(Ol),t.splitEventDrag=qt(Al),t.splitEventResize=qt(Al),t.rootElRef=ko(),t.cellElRefs=new Fa,t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),r=t.cells.length,o=this.splitFgEventSegs(t.fgEventSegs,r),i=this.splitBgEventSegs(t.bgEventSegs,r),a=this.splitBusinessHourSegs(t.businessHourSegs,r),s=this.splitNowIndicatorSegs(t.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(t.dateSelectionSegs,r),u=this.splitEventDrag(t.eventDrag,r),c=this.splitEventResize(t.eventResize,r);return _o("div",{className:"fc-timegrid-cols",ref:this.rootElRef},_o("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,_o("tbody",{role:"presentation"},_o("tr",{role:"row"},t.axis&&_o("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},_o("div",{className:"fc-timegrid-col-frame"},_o("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&_o(is,{isAxis:!0,date:t.nowDate},(function(e,t,r,o){return _o("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},o)}))))),t.cells.map((function(n,r){return _o(Zl,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,extraDateSpan:n.extraDateSpan,fgEventSegs:o[r],bgEventSegs:i[r],businessHourSegs:a[r],nowIndicatorSegs:s[r],dateSelectionSegs:l[r],eventDrag:u[r],eventResize:c[r],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e,t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new So(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((function(t){return e[t.key]}))),!0,!1))},t}(Uo),Jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=qt(Ql),t.state={slatCoords:null},t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,r=t.state.slatCoords;if(n&&r){if(e.time){var o=r.computeTimeTop(e.time);(o=Math.ceil(o))&&(o+=1),n(o)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return _o("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},_o(Hl,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),_o($l,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.queryHit=function(e,t){var n=this.context,o=n.dateEnv,i=n.options,a=this.colCoords,s=this.props.dateProfile,l=this.state.slatCoords,u=this.processSlotOptions(this.props.slotDuration,i.snapDuration),c=u.snapDuration,d=u.snapsPerSlot,p=a.leftToIndex(e),f=l.positions.topToIndex(t);if(null!=p&&null!=f){var h=this.props.cells[p],v=l.positions.tops[f],g=l.positions.getHeight(f),m=(t-v)/g,y=f*d+Math.floor(m*d),E=this.props.cells[p].date,S=Ot(s.slotMinTime,At(c,y)),b=o.add(E,S),D=o.add(b,c);return{dateProfile:s,dateSpan:_r2({range:{start:b,end:D},allDay:!1},h.extraDateSpan),dayEl:a.els[p],rect:{left:a.lefts[p],right:a.rights[p],top:v,bottom:v+g},layer:0}}return null},t}(Bo);function Ql(e,t){var n=t||e,r=Wt(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}var eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],r=0;r<t.length;r+=1){var o=jn(e,t[r]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return n},t}(xa),tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=qt(nu),t.slicer=new eu,t.timeColsRef=ko(),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,o=t.dateProfile,i=t.dayTableModel,a=n.options.nowIndicator,s=this.buildDayRanges(i,o,n.dateEnv);return _o(Ca,{unit:a?"minute":"day"},(function(l,u){return _o(Jl,_r2({ref:e.timeColsRef},e.slicer.sliceProps(t,o,null,n,s),{forPrint:t.forPrint,axis:t.axis,dateProfile:o,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:i.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:a&&e.slicer.sliceNowDate(l,n,s),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},t}(Bo);function nu(e,t,n){for(var r=[],o=0,i=e.headerDates;o<i.length;o++){var a=i[o];r.push({start:n.add(a,t.slotMinTime),end:n.add(a,t.slotMaxTime)})}return r}var ru=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function ou(e,t,n,r,o){for(var i=new Date(0),a=e,s=Nt(0),l=n||function(e){var t,n,r;for(t=ru.length-1;t>=0;t-=1)if(null!==(r=Wt(n=Nt(ru[t]),e))&&r>1)return n;return e}(r),u=[];Ut(a)<Ut(t);){var c=o.add(i,a),d=null!==Wt(s,l);u.push({date:c,time:a,key:c.toISOString(),isoTimeStr:zt(c),isLabeled:d}),a=Ot(a,r),s=Ot(s,r)}return u}var iu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=qt(au),t.buildSlatMetas=qt(ou),t}return n(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateEnv,i=t.dateProfileGenerator,a=this.props,s=a.dateProfile,l=this.buildTimeColsModel(s,i),u=this.allDaySplitter.splitProps(a),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,n.slotLabelInterval,n.slotDuration,o),d=n.dayMinWidth,p=!d,f=d,h=n.dayHeaders&&_o(Ra,{dates:l.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:p?this.renderHeadAxis:null}),v=!1!==n.allDaySlot&&function(t){return _o(Sl,_r2({},u.allDay,{dateProfile:s,dayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:p?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:a.forPrint},e.getAllDayMaxEventProps()))},g=function(t){return _o(tu,_r2({},u.timed,{dayTableModel:l,dateProfile:s,axis:p,slotDuration:n.slotDuration,slatMetas:c,forPrint:a.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return f?this.renderHScrollLayout(h,v,g,l.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(h,v,g)},t}(Ml);function au(e,t){var n=new Ta(e.renderRange,t);return new ka(n,!1)}var su=zo({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:iu,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),lu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={textId:xe()},t}return n(t,e),t.prototype.render=function(){var e=this.context,t=e.theme,n=e.dateEnv,o=e.options,i=e.viewApi,a=this.props,s=a.cellId,l=a.dayDate,u=a.todayRange,c=this.state.textId,d=ro(l,u),p=o.listDayFormat?n.format(l,o.listDayFormat):"",f=o.listDaySideFormat?n.format(l,o.listDaySideFormat):"",h=_r2({date:n.toDate(l),view:i,textId:c,text:p,sideText:f,navLinkAttrs:so(this.context,l),sideNavLinkAttrs:so(this.context,l,"day",!1)},d),v=["fc-list-day"].concat(oo(d,t));return _o(Yo,{hookProps:h,classNames:o.dayHeaderClassNames,content:o.dayHeaderContent,defaultContent:uu,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},(function(e,n,r,o){return _o("tr",{ref:e,className:v.concat(n).join(" "),"data-date":Bt(l)},_o("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":c},_o("div",{className:"fc-list-day-cushion "+t.getClass("tableCellShaded"),ref:r},o)))}))},t}(Uo);function uu(e){return _o(xo,null,e.text&&_o("a",_r2({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&_o("a",_r2({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}var cu=ln({hour:"numeric",minute:"2-digit",meridiem:"short"}),du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=e.seg,o=e.timeHeaderId,i=e.eventHeaderId,a=e.dateHeaderId,s=t.options.eventTimeFormat||cu;return _o(ns,{seg:n,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:function(){return function(e,t){var n=cr(e,t);return _o("a",_r2({},n),e.eventRange.def.title)}(n,t)},isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,isSelected:e.isSelected,isDragging:e.isDragging,isResizing:e.isResizing,isDateSelecting:e.isDateSelecting},(function(e,r,l,u,c){return _o("tr",{className:["fc-list-event",c.event.url?"fc-event-forced-url":""].concat(r).join(" "),ref:e},function(e,t,n,r,o){var i=n.options;if(!1!==i.displayEventTime){var a=e.eventRange.def,s=e.eventRange.instance,l=!1,u=void 0;if(a.allDay?l=!0:Vn(e.eventRange.range)?e.isStart?u=ar(e,t,n,null,null,s.range.start,e.end):e.isEnd?u=ar(e,t,n,null,null,e.start,s.range.end):l=!0:u=ar(e,t,n),l){var c={text:n.options.allDayText,view:n.viewApi};return _o(Yo,{hookProps:c,classNames:i.allDayClassNames,content:i.allDayContent,defaultContent:pu,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount},(function(e,t,n,i){return _o("td",{ref:e,headers:r+" "+o,className:["fc-list-event-time"].concat(t).join(" ")},i)}))}return _o("td",{className:"fc-list-event-time"},u)}return null}(n,s,t,o,a),_o("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},_o("span",{className:"fc-list-event-dot",style:{borderColor:c.borderColor||c.backgroundColor}})),_o("td",{ref:l,headers:i+" "+a,className:"fc-list-event-title"},u))}))},t}(Uo);function pu(e){return e.text}var fu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.computeDateVars=qt(vu),t.eventStoreToSegs=qt(t._eventStoreToSegs),t.state={timeHeaderId:xe(),eventHeaderId:xe(),dateHeaderIdRoot:xe()},t.setRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,r=["fc-list",n.theme.getClass("table"),!1!==n.options.stickyHeaderDates?"fc-list-sticky":""],o=this.computeDateVars(t.dateProfile),i=o.dayDates,a=o.dayRanges,s=this.eventStoreToSegs(t.eventStore,t.eventUiBases,a);return _o(ti,{viewSpec:n.viewSpec,elRef:this.setRootEl},(function(n,o){return _o("div",{ref:n,className:r.concat(o).join(" ")},_o(Va,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},s.length>0?e.renderSegList(s,i):e.renderEmptyMessage()))}))},t.prototype.renderEmptyMessage=function(){var e=this.context,t=e.options,n=e.viewApi,r={text:t.noEventsText,view:n};return _o(Yo,{hookProps:r,classNames:t.noEventsClassNames,content:t.noEventsContent,defaultContent:hu,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},(function(e,t,n,r){return _o("div",{className:["fc-list-empty"].concat(t).join(" "),ref:e},_o("div",{className:"fc-list-empty-cushion",ref:n},r))}))},t.prototype.renderSegList=function(e,t){var n=this.context,o=n.theme,i=n.options,a=this.state,s=a.timeHeaderId,l=a.eventHeaderId,u=a.dateHeaderIdRoot,c=function(e){var t,n,r=[];for(t=0;t<e.length;t+=1)(r[(n=e[t]).dayIndex]||(r[n.dayIndex]=[])).push(n);return r}(e);return _o(Ca,{unit:"day"},(function(e,n){for(var a=[],d=0;d<c.length;d+=1){var p=c[d];if(p){var f=Bt(t[d]),h=u+"-"+f;a.push(_o(lu,{key:f,cellId:h,dayDate:t[d],todayRange:n}));for(var v=0,g=p=tr(p,i.eventOrder);v<g.length;v++){var m=g[v];a.push(_o(du,_r2({key:f+":"+m.eventRange.instance.instanceId,seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:l,dateHeaderId:h},sr(m,n,e))))}}}return _o("table",{className:"fc-list-table "+o.getClass("table")},_o("thead",null,_o("tr",null,_o("th",{scope:"col",id:s},i.timeHint),_o("th",{scope:"col","aria-hidden":!0}),_o("th",{scope:"col",id:l},i.eventHint))),_o("tbody",null,a))}))},t.prototype._eventStoreToSegs=function(e,t,n){return this.eventRangesToSegs(Xn(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)},t.prototype.eventRangesToSegs=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];n.push.apply(n,this.eventRangeToSegs(i,t))}return n},t.prototype.eventRangeToSegs=function(e,t){var n,r,o,i=this.context.dateEnv,a=this.context.options.nextDayThreshold,s=e.range,l=e.def.allDay,u=[];for(n=0;n<t.length;n+=1)if((r=jn(s,t[n]))&&(o={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===s.end.valueOf(),dayIndex:n},u.push(o),!o.isEnd&&!l&&n+1<t.length&&s.end<i.add(t[n+1].start,a))){o.end=s.end,o.isEnd=!0;break}return u},t}(Bo);function hu(e){return e.text}function vu(e){for(var t=lt(e.renderRange.start),n=e.renderRange.end,r=[],o=[];t<n;)r.push(t),o.push({start:t,end:tt(t,1)}),t=tt(t,1);return{dayDates:r,dayRanges:o}}function gu(e){return!1===e?null:ln(e)}var mu=zo({optionRefiners:{listDayFormat:gu,listDaySideFormat:gu,noEventsClassNames:yn,noEventsContent:yn,noEventsDidMount:yn,noEventsWillUnmount:yn},views:{list:{component:fu,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(wo);yu.prototype.classes={root:"fc-theme-bootstrap",table:"table-bordered",tableCellShaded:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"},yu.prototype.baseIconClass="fa",yu.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},yu.prototype.rtlIconClasses={prev:"fa-chevron-right",next:"fa-chevron-left",prevYear:"fa-angle-double-right",nextYear:"fa-angle-double-left"},yu.prototype.iconOverrideOption="bootstrapFontAwesome",yu.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",yu.prototype.iconOverridePrefix="fa-";var Eu=zo({themeClasses:{bootstrap:yu}}),bu=zo({eventSourceDefs:[{parseMeta:function(e){var t=e.googleCalendarId;return!t&&e.url&&(t=function(e){var t;return/^[^/]+@([^/.]+\.)*(google|googlemail|gmail)\.com$/.test(e)?e:(t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^/]*)/.exec(e))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^/]*)/.exec(e))?decodeURIComponent(t[1]):null}(e.url)),t?{googleCalendarId:t,googleCalendarApiKey:e.googleCalendarApiKey,googleCalendarApiBase:e.googleCalendarApiBase,extraParams:e.extraParams}:null},fetch:function(e,t,n){var o=e.context,i=o.dateEnv,a=o.options,s=e.eventSource.meta,l=s.googleCalendarApiKey||a.googleCalendarApiKey;if(l){var u=function(e){var t=e.googleCalendarApiBase;return t||(t="https://www.googleapis.com/calendar/v3/calendars"),t+"/"+encodeURIComponent(e.googleCalendarId)+"/events"}(s),c=s.extraParams,d="function"==typeof c?c():c,p=function(e,t,n,o){var i,a,s;return o.canComputeOffset?(a=o.formatIso(e.start),s=o.formatIso(e.end)):(a=tt(e.start,-1).toISOString(),s=tt(e.end,1).toISOString()),i=_r2(_r2({},n||{}),{key:t,timeMin:a,timeMax:s,singleEvents:!0,maxResults:9999}),"local"!==o.timeZone&&(i.timeZone=o.timeZone),i}(e.range,l,d,i);_i("GET",u,p,(function(e,r){var o,i;e.error?n({message:"Google Calendar API: "+e.error.message,errors:e.error.errors,xhr:r}):t({rawEvents:(o=e.items,i=p.timeZone,o.map((function(e){return function(e,t){var n=e.htmlLink||null;return n&&t&&(n=function(e,t){return e.replace(/(\?.*?)?(#|$)/,(function(e,n,r){return(n?n+"&":"?")+t+r}))}(n,"ctz="+t)),{id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:n,location:e.location,description:e.description,attachments:e.attachments||[],extendedProps:(e.extendedProperties||{}).shared||{}}}(e,i)}))),xhr:r})}),(function(e,t){n({message:e,xhr:t})}))}else n({message:"Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"})}}],optionRefiners:{googleCalendarApiKey:String},eventSourceRefiners:{googleCalendarApiKey:String,googleCalendarId:String,googleCalendarApiBase:String,extraParams:yn}});return xi.push($s,Cl,su,mu,Eu,bu),e.BASE_OPTION_DEFAULTS=cn,e.BASE_OPTION_REFINERS=un,e.BaseComponent=Uo,e.BgEvent=ds,e.BootstrapTheme=yu,e.Calendar=Cs,e.CalendarApi=kr,e.CalendarContent=fa,e.CalendarDataManager=Ni,e.CalendarDataProvider=ji,e.CalendarRoot=ga,e.Component=Ro,e.ContentHook=Xo,e.CustomContentRenderContext=Zo,e.DateComponent=Bo,e.DateEnv=Lr,e.DateProfileGenerator=ai,e.DayCellContent=ss,e.DayCellRoot=us,e.DayGridView=bl,e.DayHeader=Ra,e.DaySeriesModel=Ta,e.DayTable=Sl,e.DayTableModel=ka,e.DayTableSlicer=El,e.DayTimeCols=tu,e.DayTimeColsSlicer=eu,e.DayTimeColsView=iu,e.DelayedRunner=Mi,e.Draggable=Zs,e.ElementDragging=oa,e.ElementScrollController=Do,e.Emitter=Eo,e.EventApi=xr,e.EventRoot=ns,e.EventSourceApi=ye,e.FeaturefulElementDragging=Os,e.Fragment=xo,e.Interaction=ea,e.ListView=fu,e.MoreLinkRoot=ms,e.MountHook=$o,e.NamedTimeZoneImpl=function(e){this.timeZoneName=e},e.NowIndicatorRoot=is,e.NowTimer=Ca,e.PointerDragging=Ts,e.PositionCache=So,e.RefMap=Fa,e.RenderHook=Yo,e.ScrollController=bo,e.ScrollResponder=Ho,e.Scroller=Va,e.SegHierarchy=qi,e.SimpleScrollGrid=ts,e.Slicer=xa,e.Splitter=to,e.StandardEvent=rs,e.Table=ml,e.TableDateCell=Sa,e.TableDowCell=Da,e.TableView=Js,e.Theme=wo,e.ThirdPartyDraggable=Ks,e.TimeCols=Jl,e.TimeColsSlatsCoords=Pl,e.TimeColsView=Ml,e.ViewApi=Cr,e.ViewContextType=Oo,e.ViewRoot=ti,e.WeekNumberRoot=fs,e.WindowScrollController=Co,e.addDays=tt,e.addDurations=Ot,e.addMs=nt,e.addWeeks=et,e.allowContextMenu=ze,e.allowSelection=Fe,e.applyMutationToEventStore=Sr,e.applyStyle=we,e.applyStyleProp=Re,e.asCleanDays=function(e){return e.years||e.months||e.milliseconds?0:e.days},e.asRoughMinutes=function(e){return Ut(e)/6e4},e.asRoughMs=Ut,e.asRoughSeconds=function(e){return Ut(e)/1e3},e.binarySearch=Qi,e.buildClassNameNormalizer=Jo,e.buildDayRanges=nu,e.buildDayTableModel=Dl,e.buildEntryKey=Zi,e.buildEventApis=Ir,e.buildEventRangeKey=ur,e.buildHashFromArray=function(e,t){for(var n={},r=0;r<e.length;r+=1){var o=t(e[r],r);n[o[0]]=o[1]}return n},e.buildIsoString=Ft,e.buildNavLinkAttrs=so,e.buildSegCompareObj=nr,e.buildSegTimeText=ar,e.buildSlatMetas=ou,e.buildTimeColsModel=au,e.collectFromHash=kt,e.combineEventUis=xn,e.compareByFieldSpec=qe,e.compareByFieldSpecs=Ge,e.compareNumbers=Ke,e.compareObjs=_t,e.computeEarliestSegStart=Ss,e.computeEdges=ho,e.computeFallbackHeaderFormat=ma,e.computeHeightAndMargins=function(e){return e.getBoundingClientRect().height+function(e){var t=window.getComputedStyle(e);return parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}(e)},e.computeInnerRect=vo,e.computeRect=go,e.computeSegDraggable=rr,e.computeSegEndResizable=ir,e.computeSegStartResizable=or,e.computeShrinkWidth=Ba,e.computeSmallestCellWidth=Je,e.computeVisibleDayRange=Wn,e.config=ia,e.constrainPoint=Kr,e.createAriaClickAttrs=He,e.createContext=Mo,e.createDuration=Nt,e.createElement=_o,e.createEmptyEventStore=function(){return{defs:{},instances:{}}},e.createEventInstance=mt,e.createEventUi=kn,e.createFormatter=ln,e.createPlugin=zo,e.createPortal=Io,e.createRef=ko,e.diffDates=Fn,e.diffDayAndTime=it,e.diffDays=ot,e.diffPoints=Jr,e.diffWeeks=rt,e.diffWholeDays=st,e.diffWholeWeeks=at,e.disableCursor=Ue,e.elementClosest=Se,e.elementMatches=be,e.enableCursor=We,e.eventTupleToStore=Sn,e.filterEventStoreDefs=wn,e.filterHash=St,e.findDirectChildren=function(e,t){for(var n=e instanceof HTMLElement?[e]:e,r=[],o=0;o<n.length;o+=1)for(var i=n[o].children,a=0;a<i.length;a+=1){var s=i[a];t&&!be(s,t)||r.push(s)}return r},e.findElements=De,e.flexibleCompare=Ye,e.flushToDom=Po,e.formatDate=function(e,t){void 0===t&&(t={});var n=jr(t),r=ln(t),o=n.createMarkerMeta(e);return o?n.format(o.marker,r,{forcedTzo:o.forcedTzo}):""},e.formatDayString=Bt,e.formatIsoTimeString=zt,e.formatRange=function(e,t,n){var r=jr("object"==_typeof(n)&&n?n:{}),o=ln(n),i=r.createMarkerMeta(e),a=r.createMarkerMeta(t);return i&&a?r.formatRange(i.marker,a.marker,o,{forcedStartTzo:i.forcedTzo,forcedEndTzo:a.forcedTzo,isEndExclusive:n.isEndExclusive,defaultSeparator:cn.defaultRangeSeparator}):""},e.getAllowYScrolling=ja,e.getCanVGrowWithinCell=Qr,e.getClippingParents=mo,e.getDateMeta=ro,e.getDayClassNames=oo,e.getDefaultEventEnd=Er,e.getElRoot=Te,e.getElSeg=Jn,e.getEntrySpanEnd=Yi,e.getEventClassNames=lr,e.getEventTargetViaRoot=_e,e.getIsRtlScrollbarOnLeft=co,e.getRectCenter=$r,e.getRelevantEvents=bn,e.getScrollGridClassNames=Ka,e.getScrollbarWidths=po,e.getSectionClassNames=$a,e.getSectionHasLiquidHeight=za,e.getSegAnchorAttrs=cr,e.getSegMeta=sr,e.getSlotClassNames=function(e,t){var n=["fc-slot","fc-slot-"+Qe[e.dow]];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n},e.getStickyFooterScrollbar=es,e.getStickyHeaderDates=Qa,e.getUnequalProps=Rt,e.getUniqueDomId=xe,e.globalLocales=Ur,e.globalPlugins=xi,e.greatestDurationDenominator=Vt,e.groupIntersectingEntries=Xi,e.guid=Le,e.hasBgRendering=Kn,e.hasShrinkWidth=Xa,e.identity=yn,e.interactionSettingsStore=ra,e.interactionSettingsToStore=na,e.intersectRanges=jn,e.intersectRects=Xr,e.intersectSpans=$i,e.isArraysEqual=Gt,e.isColPropsEqual=qa,e.isDateSelectionValid=Pa,e.isDateSpansEqual=fr,e.isInt=$e,e.isInteractionValid=Ia,e.isMultiDayRange=Vn,e.isPropsEqual=wt,e.isPropsValid=Ha,e.isValidDate=vt,e.joinSpans=Ki,e.listenBySelector=Ie,e.mapHash=bt,e.memoize=qt,e.memoizeArraylike=function(e,t,n){var r=this,o=[],i=[];return function(a){for(var s=o.length,l=a.length,u=0;u<s;u+=1)if(a[u]){if(!Gt(o[u],a[u])){n&&n(i[u]);var c=e.apply(r,a[u]);t&&t(c,i[u])||(i[u]=c)}}else n&&n(i[u]);for(;u<l;u+=1)i[u]=e.apply(r,a[u]);return o=a,i.splice(l),i}},e.memoizeHashlike=function(e,t,n){var r=this,o={},i={};return function(a){var s={};for(var l in a)if(i[l])if(Gt(o[l],a[l]))s[l]=i[l];else{n&&n(i[l]);var u=e.apply(r,a[l]);s[l]=t&&t(u,i[l])?i[l]:u}else s[l]=e.apply(r,a[l]);return o=a,i=s,s}},e.memoizeObjArg=Yt,e.mergeEventStores=Cn,e.multiplyDuration=At,e.padStart=Ze,e.parseBusinessHours=Yr,e.parseClassNames=Rn,e.parseDragMeta=sa,e.parseEventDef=Ln,e.parseFieldSpecs=je,e.parseMarker=Ar,e.pointInsideRect=Zr,e.preventContextMenu=Be,e.preventDefault=Me,e.preventSelection=Ve,e.rangeContainsMarker=Zn,e.rangeContainsRange=Yn,e.rangesEqual=Gn,e.rangesIntersect=qn,e.refineEventDef=On,e.refineProps=mn,e.removeElement=Ee,e.removeExact=function(e,t){for(var n=0,r=0;r<e.length;)e[r]===t?(e.splice(r,1),n+=1):r+=1;return n},e.render=To,e.renderChunkContent=Ga,e.renderFill=cs,e.renderMicroColGroup=Ya,e.renderScrollShim=Ja,e.requestJson=_i,e.sanitizeShrinkWidth=Za,e.setElSeg=$n,e.setRef=Fo,e.sliceEventStore=Xn,e.sliceEvents=function(e,t){return Xn(e.eventStore,e.eventUiBases,e.dateProfile.activeRange,t?e.nextDayThreshold:null).fg},e.sortEventSegs=tr,e.startOfDay=lt,e.translateRect=function(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}},e.triggerDateSelect=mr,e.unmountComponentAtNode=No,e.unpromisify=yo,e.version="5.10.0",e.whenTransitionDone=Ne,e.wholeDivideDurations=Wt,Object.defineProperty(e,"__esModule",{value:!0}),e}({});exports.default=_default})),require.register("Utils/glider.min.js",(function(exports,require,module){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}!function(e){"function"==typeof define&&define.amd?define(e):"object"==(void 0===exports?"undefined":_typeof(exports))?module.exports=e():e()}((function(){var n="undefined"!=typeof window?window:this,e=n.Glider=function(e,t){var i=this;if(e._glider)return e._glider;if(i.ele=e,i.ele.classList.add("glider"),(i.ele._glider=i).opt=Object.assign({},{slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,easing:function(e,t,i,o,r){return o*(t/=r)*t+i}},t),i.animate_id=i.page=i.slide=0,i.arrows={},i._opt=i.opt,i.opt.skipTrack)i.track=i.ele.children[0];else for(i.track=document.createElement("div"),i.ele.appendChild(i.track);1!==i.ele.children.length;)i.track.appendChild(i.ele.children[0]);i.track.classList.add("glider-track"),i.init(),i.resize=i.init.bind(i,!0),i.event(i.ele,"add",{scroll:i.updateControls.bind(i)}),i.event(n,"add",{resize:i.resize})},t=e.prototype;return t.init=function(e,t){var i=this,o=0,r=0;i.slides=i.track.children,[].forEach.call(i.slides,(function(e,t){e.classList.add("glider-slide"),e.setAttribute("data-gslide",t)})),i.containerWidth=i.ele.clientWidth;var s=i.settingsBreakpoint();if(t=t||s,"auto"===i.opt.slidesToShow||void 0!==i.opt._autoSlide){var l=i.containerWidth/i.opt.itemWidth;i.opt._autoSlide=i.opt.slidesToShow=i.opt.exactWidth?l:Math.max(1,Math.floor(l))}"auto"===i.opt.slidesToScroll&&(i.opt.slidesToScroll=Math.floor(i.opt.slidesToShow)),i.itemWidth=i.opt.exactWidth?i.opt.itemWidth:i.containerWidth/i.opt.slidesToShow,[].forEach.call(i.slides,(function(e){e.style.height="auto",e.style.width=i.itemWidth+"px",o+=i.itemWidth,r=Math.max(e.offsetHeight,r)})),i.track.style.width=o+"px",i.trackWidth=o,i.isDrag=!1,i.preventClick=!1,i.opt.resizeLock&&i.scrollTo(i.slide*i.itemWidth,0),(s||t)&&(i.bindArrows(),i.buildDots(),i.bindDrag()),i.updateControls(),i.emit(e?"refresh":"loaded")},t.bindDrag=function(){var t=this;function e(){t.mouseDown=void 0,t.ele.classList.remove("drag"),t.isDrag&&(t.preventClick=!0),t.isDrag=!1}t.mouse=t.mouse||t.handleMouse.bind(t);var i={mouseup:e,mouseleave:e,mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.mouseDown=e.clientX,t.ele.classList.add("drag")},mousemove:t.mouse,click:function(e){t.preventClick&&(e.preventDefault(),e.stopPropagation()),t.preventClick=!1}};t.ele.classList.toggle("draggable",!0===t.opt.draggable),t.event(t.ele,"remove",i),t.opt.draggable&&t.event(t.ele,"add",i)},t.buildDots=function(){var e=this;if(e.opt.dots){if("string"==typeof e.opt.dots?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.classList.add("glider-dots");for(var t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){var i=document.createElement("button");i.dataset.index=t,i.setAttribute("aria-label","Page "+(t+1)),i.setAttribute("role","tab"),i.className="glider-dot "+(t?"":"active"),e.event(i,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(i)}}}else e.dots&&(e.dots.innerHTML="")},t.bindArrows=function(){var i=this;i.opt.arrows?["prev","next"].forEach((function(e){var t=i.opt.arrows[e];t&&("string"==typeof t&&(t=document.querySelector(t)),t&&(t._func=t._func||i.scrollItem.bind(i,e),i.event(t,"remove",{click:t._func}),i.event(t,"add",{click:t._func}),i.arrows[e]=t))})):Object.keys(i.arrows).forEach((function(e){var t=i.arrows[e];i.event(t,"remove",{click:t._func})}))},t.updateControls=function(e){var d=this;e&&!d.opt.scrollPropagate&&e.stopPropagation();var t=d.containerWidth>=d.trackWidth;d.opt.rewind||(d.arrows.prev&&(d.arrows.prev.classList.toggle("disabled",d.ele.scrollLeft<=0||t),d.arrows.prev.classList.contains("disabled")?d.arrows.prev.setAttribute("aria-disabled",!0):d.arrows.prev.setAttribute("aria-disabled",!1)),d.arrows.next&&(d.arrows.next.classList.toggle("disabled",Math.ceil(d.ele.scrollLeft+d.containerWidth)>=Math.floor(d.trackWidth)||t),d.arrows.next.classList.contains("disabled")?d.arrows.next.setAttribute("aria-disabled",!0):d.arrows.next.setAttribute("aria-disabled",!1))),d.slide=Math.round(d.ele.scrollLeft/d.itemWidth),d.page=Math.round(d.ele.scrollLeft/d.containerWidth);var c=d.slide+Math.floor(Math.floor(d.opt.slidesToShow)/2),h=Math.floor(d.opt.slidesToShow)%2?0:c+1;1===Math.floor(d.opt.slidesToShow)&&(h=0),d.ele.scrollLeft+d.containerWidth>=Math.floor(d.trackWidth)&&(d.page=d.dots?d.dots.children.length-1:0),[].forEach.call(d.slides,(function(e,t){var i=e.classList,o=i.contains("visible"),r=d.ele.scrollLeft,s=d.ele.scrollLeft+d.containerWidth,l=d.itemWidth*t,a=l+d.itemWidth;[].forEach.call(i,(function(e){/^left|right/.test(e)&&i.remove(e)})),i.toggle("active",d.slide===t),c===t||h&&h===t?i.add("center"):(i.remove("center"),i.add([t<c?"left":"right",Math.abs(t-(t<c?c:h||c))].join("-")));var n=Math.ceil(l)>=Math.floor(r)&&Math.floor(a)<=Math.ceil(s);i.toggle("visible",n),n!==o&&d.emit("slide-"+(n?"visible":"hidden"),{slide:t})})),d.dots&&[].forEach.call(d.dots.children,(function(e,t){e.classList.toggle("active",d.page===t)})),e&&d.opt.scrollLock&&(clearTimeout(d.scrollLock),d.scrollLock=setTimeout((function(){clearTimeout(d.scrollLock),.02<Math.abs(d.ele.scrollLeft/d.itemWidth-d.slide)&&(d.mouseDown||d.trackWidth>d.containerWidth+d.ele.scrollLeft&&d.scrollItem(d.getCurrentSlide()))}),d.opt.scrollLockDelay||250))},t.getCurrentSlide=function(){var e=this;return e.round(e.ele.scrollLeft/e.itemWidth)},t.scrollItem=function(e,t,i){i&&i.preventDefault();var o=this,r=e;if(++o.animate_id,!0===t)e*=o.containerWidth,e=Math.round(e/o.itemWidth)*o.itemWidth;else{if("string"==typeof e){var s="prev"===e;if(e=o.opt.slidesToScroll%1||o.opt.slidesToShow%1?o.getCurrentSlide():o.slide,s?e-=o.opt.slidesToScroll:e+=o.opt.slidesToScroll,o.opt.rewind){var l=o.ele.scrollLeft;e=s&&!l?o.slides.length:!s&&l+o.containerWidth>=Math.floor(o.trackWidth)?0:e}}e=Math.max(Math.min(e,o.slides.length),0),o.slide=e,e=o.itemWidth*e}return o.scrollTo(e,o.opt.duration*Math.abs(o.ele.scrollLeft-e),(function(){o.updateControls(),o.emit("animated",{value:r,type:"string"==typeof r?"arrow":t?"dot":"slide"})})),!1},t.settingsBreakpoint=function(){var e=this,t=e._opt.responsive;if(t){t.sort((function(e,t){return t.breakpoint-e.breakpoint}));for(var i=0;i<t.length;++i){var o=t[i];if(n.innerWidth>=o.breakpoint)return e.breakpoint!==o.breakpoint&&(e.opt=Object.assign({},e._opt,o.settings),e.breakpoint=o.breakpoint,!0)}}var r=0!==e.breakpoint;return e.opt=Object.assign({},e._opt),e.breakpoint=0,r},t.scrollTo=function(t,i,o){var r=this,s=(new Date).getTime(),l=r.animate_id;n.requestAnimationFrame((function a(){var e=(new Date).getTime()-s;r.ele.scrollLeft=r.ele.scrollLeft+(t-r.ele.scrollLeft)*r.opt.easing(0,e,0,1,i),e<i&&l===r.animate_id?n.requestAnimationFrame(a):(r.ele.scrollLeft=t,o&&o.call(r))}))},t.removeItem=function(e){var t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},t.addItem=function(e){this.track.appendChild(e),this.refresh(!0),this.emit("add")},t.handleMouse=function(e){var t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},t.round=function(e){var t=1/(this.opt.slidesToScroll%1||1);return Math.round(e*t)/t},t.refresh=function(e){this.init(!0,e)},t.setOption=function(t,e){var i=this;i.breakpoint&&!e?i._opt.responsive.forEach((function(e){e.breakpoint===i.breakpoint&&(e.settings=Object.assign({},e.settings,t))})):i._opt=Object.assign({},i._opt,t),i.breakpoint=0,i.settingsBreakpoint()},t.destroy=function(){function e(t){t.removeAttribute("style"),[].forEach.call(t.classList,(function(e){/^glider/.test(e)&&t.classList.remove(e)}))}var t=this,i=t.ele.cloneNode(!0);i.children[0].outerHTML=i.children[0].innerHTML,e(i),[].forEach.call(i.getElementsByTagName("*"),e),t.ele.parentNode.replaceChild(i,t.ele),t.event(n,"remove",{resize:t.resize}),t.emit("destroy")},t.emit=function(e,t){var i=new n.CustomEvent("glider-"+e,{bubbles:!this.opt.eventPropagate,detail:t});this.ele.dispatchEvent(i)},t.event=function(e,t,i){var o=e[t+"EventListener"].bind(e);Object.keys(i).forEach((function(e){o(e,i[e])}))},e}))})),require.register("Utils/helpers.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AVATAR_URL=exports.ScrollToPageTitle=exports.oneExists=exports.exists=exports.handlers=exports.formatDate=exports.parsePrices=exports.getTotal=exports.getQuantity=exports.getPrice=exports.toProducts=exports.listOf=exports.uuid=exports.isActiveRoute=exports.jsonCopy=exports.randomEl=exports.scrollToAnchor=exports.getRoute=exports.debounce=exports.filterTask=exports._paginate=exports._direction=exports._sort=exports._search=exports.addTerms=exports.infiniteScroll=exports.isEmpty=exports.makeRoute=void 0;var obj,_ramda=require("ramda"),_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj};function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var makeRoute=(0,_ramda.compose)((0,_ramda.join)("-"),(0,_ramda.split)(" "),(0,_ramda.trim)(),(0,_ramda.toLower)());exports.makeRoute=makeRoute;exports.isEmpty=function(data){return 0==data.length};exports.infiniteScroll=function(mdl){return function(e){var route=mdl.state.route,setpoint=10*mdl.data[route].data.length*mdl.state.scrollPos;e.target.scrollTop-mdl.state.scrollPos>=setpoint&&(mdl.state.scrollPos++,e.target.scrollTop)}};exports.addTerms=function(item){var terms=(0,_ramda.compose)((0,_ramda.join)(" "),_ramda.values,(0,_ramda.props)(["uuid","id","name"]))(item);return(0,_ramda.assoc)("_terms",terms,item)};var _search=function(query){return(0,_ramda.compose)((0,_ramda.filter)(function(query){return(0,_ramda.compose)((0,_ramda.test)(new RegExp(query,"i")),(0,_ramda.prop)("name"))}(query)))};exports._search=_search;var _sort=function(p){return(0,_ramda.sortBy)((0,_ramda.compose)(_ramda.toLower,toString,(0,_ramda.prop)(p)))};exports._sort=_sort;var _direction=function(dir){return"asc"==dir?_ramda.identity:_ramda.reverse};exports._direction=_direction;var _paginate=function(offset){return function(limit){return function(data){return(0,_ramda.slice)((0,_ramda.max)(0,(0,_ramda.min)(offset,data.length)),(0,_ramda.min)(offset+limit,data.length),data)}}};exports._paginate=_paginate;exports.filterTask=function(query){return function(prop){return function(direction){return function(offset){return function(limit){return(0,_ramda.compose)(_data.default.of,(0,_ramda.map)(_paginate(offset)(limit)),(0,_ramda.map)(_direction(direction)),(0,_ramda.map)(_sort(prop)),_search(query))}}}}};exports.debounce=function(wait,now){return function(fn){var timeout=void 0;return function(){var context=this,args=arguments,later=function(){timeout=void 0,now||fn.apply(context,args)},callNow=now&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),console.log(fn),callNow&&fn.apply(context,args)}}};exports.getRoute=function(){return(0,_ramda.last)(m.route.get().split("/"))};exports.scrollToAnchor=function(anchor){var is=function(el){return null!=el},targetEl=is(anchor)?document.getElementById(anchor):document.body,scrollTop=window.pageYOffset||document.documentElement.scrollTop,target=is(targetEl)?targetEl.getBoundingClientRect().top:0;return window.scroll({top:target+scrollTop-150,left:0,behavior:"smooth"})};exports.randomEl=function(list){return list[Math.floor(Math.random()*list.length)]};exports.jsonCopy=function(src){return JSON.parse(JSON.stringify(src))};exports.isActiveRoute=function(route){return m.route.get()==route?"is-active":""};exports.uuid=function(){return"xxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)}))};exports.listOf=function(x){return function(y){return Array(x).fill(y)}};exports.toProducts=function(cart){return(0,_ramda.toPairs)(cart).map((function(_ref){var _ref2=_slicedToArray(_ref,2),product=_ref2[0],genders=_ref2[1];return[product,(0,_ramda.toPairs)(genders)]}))};var getPrice=function(mdl,title,genders){return mdl.state.prices[title]*getQuantity(genders)};exports.getPrice=getPrice;var getQuantity=function(xs){return(0,_ramda.reduce)(_ramda.add,0,(0,_ramda.filter)((0,_ramda.compose)((0,_ramda.equals)("Number"),_ramda.type),(0,_ramda.flatten)(xs)))};exports.getQuantity=getQuantity;exports.getTotal=function(mdl,products){return getQuantity(products.map((function(p){return getPrice(mdl,p[0],p[1])})))};var parsePrices=(0,_ramda.compose)((function(_ref3){return{Burpies:_ref3.Burpies,Wraps:_ref3.Wraps,Blankets:_ref3.Blankets,Collections:_ref3.Collections}}),_ramda.last,(0,_ramda.prop)("results"));exports.parsePrices=parsePrices;exports.formatDate=function(date){return date.split("T")[0]};exports.handlers=function(types,fn){return types.reduce((function(acc,type){return Object.assign(acc,function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},type,fn))}),{})};var exists=function(xs){return xs.length>=1};exports.exists=exists;exports.oneExists=function(xs,ys){return exists(xs)||exists(ys)};exports.ScrollToPageTitle=function(){return document.getElementById("page-title")?document.getElementById("page-title").scrollIntoView({behavior:"smooth",block:"center",inline:"start"}):window.scroll({top:160,left:0,behavior:"smooth"})};exports.AVATAR_URL="https://i.ibb.co/6W0zsZH/avatar.webp"})),require.register("Utils/html-sanitize.js",(function(exports,require,module){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=new function(){var _contentTagWhiteList_,tagWhitelist_={A:!0,ABBR:!0,B:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CENTER:!0,CODE:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IMG:!0,LABEL:!0,LI:!0,OL:!0,P:!0,PRE:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRONG:!0,TABLE:!0,TBODY:!0,TR:!0,TD:!0,TH:!0,THEAD:!0,UL:!0,U:!0,VIDEO:!0},contentTagWhiteList_=(_defineProperty(_contentTagWhiteList_={FORM:!0,TABLE:!0,FIGURE:!0},"TABLE",!0),_defineProperty(_contentTagWhiteList_,"TBODY",!0),_defineProperty(_contentTagWhiteList_,"TR",!0),_defineProperty(_contentTagWhiteList_,"TD",!0),_defineProperty(_contentTagWhiteList_,"TH",!0),_defineProperty(_contentTagWhiteList_,"THEAD",!0),_contentTagWhiteList_),attributeWhitelist_={align:!0,color:!0,class:!0,controls:!0,height:!0,href:!0,src:!0,style:!0,target:!0,title:!0,type:!0,width:!0},cssWhitelist_={color:!0,"background-color":!0,"font-size":!0,"text-align":!0,"text-decoration":!0,"font-weight":!0},schemaWhiteList_=["http:","https:","data:","m-files:","file:","ftp:"],uriAttributes_={href:!0,action:!0};function startsWithAny(str,substrings){for(var i=0;i<substrings.length;i++)if(0==str.indexOf(substrings[i]))return!0;return!1}this.SanitizeHtml=function(input){if(""==(input=input.trim()))return"";if("<br>"==input)return"";var iframe=document.createElement("iframe");if(void 0===iframe.sandbox)return alert("Your browser does not support sandboxed iframes. Please upgrade to a modern browser."),"";iframe.sandbox="allow-same-origin allow-scripts allow-popups allow-forms",iframe.style.display="none",document.body.appendChild(iframe);var iframedoc=iframe.contentDocument||iframe.contentWindow.document;null==iframedoc.body&&iframedoc.write("<body></body>"),iframedoc.body.innerHTML=input;var resultElement=function makeSanitizedCopy(node){if(node.nodeType==Node.TEXT_NODE)var newNode=node.cloneNode(!0);else if(node.nodeType==Node.ELEMENT_NODE&&(tagWhitelist_[node.tagName]||contentTagWhiteList_[node.tagName])){if(("SPAN"==node.tagName||"B"==node.tagName||"I"==node.tagName||"U"==node.tagName)&&""==node.innerHTML.trim())return document.createDocumentFragment();newNode=contentTagWhiteList_[node.tagName]?iframedoc.createElement("DIV"):iframedoc.createElement(node.tagName);for(var i=0;i<node.attributes.length;i++){var attr=node.attributes[i];if(attributeWhitelist_[attr.name])if("style"==attr.name)for(var s=0;s<node.style.length;s++){var styleName=node.style[s];cssWhitelist_[styleName]&&newNode.style.setProperty(styleName,node.style.getPropertyValue(styleName))}else{if(uriAttributes_[attr.name]&&attr.value.indexOf(":")>-1&&!startsWithAny(attr.value,schemaWhiteList_))continue;newNode.setAttribute(attr.name,attr.value)}}for(i=0;i<node.childNodes.length;i++){var subCopy=makeSanitizedCopy(node.childNodes[i]);newNode.appendChild(subCopy,!1)}}else newNode=document.createDocumentFragment();return newNode}(iframedoc.body);return document.body.removeChild(iframe),resultElement.innerHTML.replace(/<br[^>]*>(\S)/g,"<br>\n$1").replace(/div><div/g,"div>\n<div")},this.AllowedTags=tagWhitelist_,this.AllowedAttributes=attributeWhitelist_,this.AllowedCssStyles=cssWhitelist_,this.AllowedSchemas=schemaWhiteList_};exports.default=_default})),require.register("Utils/http.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.parseHttpSuccess=exports.parseHttpError=void 0;var obj,_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj},_secrets=require("../../.secrets.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function onLoad(){return!1}var xhrProgress=function(mdl){return{config:function(xhr){xhr.onprogress=function(mdl){return function(e){e.lengthComputable&&(mdl.state.loadingProgress.max=e.total,mdl.state.loadingProgress.value=e.loaded,m.redraw())}}(mdl),xhr.onload=onLoad,xhr.onloadstart=function(mdl){return function(e){return mdl.state.isLoading(!0),!1}}(mdl),xhr.onloadend=function(mdl){return function(e){return mdl.state.isLoading(!1),mdl.state.loadingProgress.max=0,mdl.state.loadingProgress.value=0,!1}}(mdl)}}},parseHttpError=function(mdl){return function(rej){return function(e){return mdl.state.isLoading(!1),rej(JSON.parse(JSON.stringify(e)))}}};exports.parseHttpError=parseHttpError;var parseHttpSuccess=function(mdl){return function(res){return function(data){return mdl.state.isLoading(!1),res(data)}}};exports.parseHttpSuccess=parseHttpSuccess;var HttpTask=function(_headers){return function(method){return function(mdl){return function(url){return function(body){return mdl.state.isLoading(!0),new _data.default((function(rej,res){return m.request(_objectSpread({method:method,url:url,headers:_objectSpread({},_headers),body:body,withCredentials:!1},xhrProgress(mdl))).then(parseHttpSuccess(mdl)(res),parseHttpError(mdl)(rej))}))}}}}},paypalUrl="".concat(_secrets.PAYPAL.sandbox.baseUrl,"/"),paypal={getTokenTask:function(mdl){return HttpTask(_secrets.PAYPAL.sandbox.headers())("POST")(mdl)(paypalUrl+"v1/oauth2/token/")("grant_type=client_credentials").map(function(mdl){return function(paypal){return mdl.state.paypal=paypal}}(mdl))},getTask:function(mdl){return function(url){return HttpTask(_secrets.PAYPAL.sandbox.headers(_secrets.PAYPAL))("GET")(mdl)(paypalUrl+url)(null)}},postTask:function(mdl){return function(url){return function(dto){return HttpTask(_secrets.PAYPAL.sandbox.headers(_secrets.PAYPAL))("POST")(mdl)(paypalUrl+url)(dto)}}},putTask:function(mdl){return function(url){return function(dto){return HttpTask(_secrets.PAYPAL.sandbox.headers(_secrets.PAYPAL))("PUT")(mdl)(paypalUrl+url)(dto)}}}},back4App={getTask:function(mdl){return function(url){return HttpTask(_secrets.BACK4APP.headers(mdl,_secrets.BACK4APP))("GET")(mdl)("".concat(_secrets.BACK4APP.baseUrl,"/").concat(url))(null)}},postTask:function(mdl){return function(url){return function(dto){return HttpTask(_secrets.BACK4APP.headers(mdl,_secrets.BACK4APP))("POST")(mdl)("".concat(_secrets.BACK4APP.baseUrl,"/").concat(url))(dto)}}},putTask:function(mdl){return function(url){return function(dto){return HttpTask(_secrets.BACK4APP.headers(mdl,_secrets.BACK4APP))("PUT")(mdl)("".concat(_secrets.BACK4APP.baseUrl,"/").concat(url))(dto)}}},deleteTask:function(mdl){return function(url){return HttpTask(_secrets.BACK4APP.headers(mdl,_secrets.BACK4APP))("DELETE")(mdl)("".concat(_secrets.BACK4APP.baseUrl,"/").concat(url))()}}},imgBB={postTask:function(mdl){return function(file){var image=new FormData;return image.append("image",file),image.set("key",_secrets.IMGBB.apiKey),console.log(image,file),HttpTask()("POST")(mdl)("".concat(_secrets.IMGBB.url,"?key=").concat(_secrets.IMGBB.apiKey))(image)}}},OpenCageUrl="".concat(_secrets.OpenCage.baseUrl,"?key=").concat(_secrets.OpenCage.key,"&q="),_default={imgBB:imgBB,openCage:{getLocationTask:function(mdl){return function(query){return HttpTask(_secrets.OpenCage.headers())("GET")(mdl)(OpenCageUrl+query+"&pretty=1&json&bounds=".concat(mdl.Map.bounds()))(null)}}},back4App:back4App,paypal:paypal,HttpTask:HttpTask,getTask:function(mdl){return function(url){return HttpTask({})("GET")(mdl)(url)(null)}},lookupLocationTask:function(query){return new _data.default((function(rej,res){return m.request({method:"GET",url:"https://nominatim.openstreetmap.org/search?q=".concat(query,"&format=json")}).then(res,rej)}))}};exports.default=_default})),require.register("Utils/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _helpers=require("./helpers.js");Object.keys(_helpers).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_helpers[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _helpers[key]}}))}));var _http=require("./http.js");Object.keys(_http).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_http[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _http[key]}}))}));var _validation=require("./validation.js");Object.keys(_validation).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_validation[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _validation[key]}}))}));var _storage=require("./storage.js");Object.keys(_storage).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_storage[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _storage[key]}}))}));var _markdown=require("./markdown.js");Object.keys(_markdown).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_markdown[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _markdown[key]}}))}));var _htmlSanitize=require("./html-sanitize");Object.keys(_htmlSanitize).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_htmlSanitize[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _htmlSanitize[key]}}))}))})),require.register("Utils/markdown.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseMarkdown=void 0;var replaceRegex=function(regex,replacement){return function(str){return str.replace(regex,replacement)}},replaceCodeBlocks=replaceRegex(/((\n\t)(.*))+/g,(function(fullMatch){return"\n<pre>"+fullMatch+"</pre>"})),replaceInlineCodes=replaceRegex(/(`)(.*?)\1/g,(function(fullMatch,tagStart,tagContents){return"<code>"+tagContents+"</code>"})),replaceImages=replaceRegex(/!\[([^\[]+)\]\(([^\)]+)\)/g,(function(fullMatch,tagTitle,tagURL){return'<img src="'+tagURL+'" alt="'+tagTitle+'" />'})),replaceLinks=replaceRegex(/\[([^\[]+)\]\(([^\)]+)\)/g,(function(fullMatch,tagTitle,tagURL){return'<a href="'+tagURL+'">'+tagTitle+"</a>"})),replaceHeadings=replaceRegex(/\n(#+\s*)(.*)/g,(function(fullMatch,tagStart,tagContents){return"\n<h"+tagStart.trim().length+">"+tagContents+"</h"+tagStart.trim().length+">"})),replaceBoldItalics=replaceRegex(/(\*{1,2})(.*?)\1/g,(function(fullMatch,tagStart,tagContents){return"<"+(1==tagStart.trim().length?"em":"strong")+">"+tagContents+"</"+(1==tagStart.trim().length?"em":"strong")+">"})),replaceceStrikethrough=replaceRegex(/(\~\~)(.*?)\1/g,(function(fullMatch,tagStart,tagContents){return"<del>"+tagContents+"</del>"})),replaceBlockquotes=replaceRegex(/\n(&gt;|\>)(.*)/g,(function(fullMatch,tagStart,tagContents){return"\n<blockquote>"+tagContents+"</blockquote>"})),replaceHorizontalRules=replaceRegex(/\n((\-{3,})|(={3,}))/g,(function(fullMatch){return"\n<hr />"})),replaceUnorderedLists=replaceRegex(/(\n\s*(\-|\+)\s.*)+/g,(function(fullMatch){var items="";return fullMatch.trim().split("\n").forEach((function(item){items+="<li>"+item.substring(2)+"</li>"})),"\n<ul>"+items+"</ul>"})),replaceOrderedLists=replaceRegex(/(\n\s*([0-9]+\.)\s.*)+/g,(function(fullMatch){var items="";return fullMatch.trim().split("\n").forEach((function(item){items+="<li>"+item.substring(item.indexOf(".")+2)+"</li>"})),"\n<ol>"+items+"</ol>"})),replaceParagraphs=replaceRegex(/\n+(?!<pre>)(?!<h)(?!<ul>)(?!<blockquote)(?!<hr)(?!\t)([^\n]+)\n/g,(function(fullMatch,tagContents){return"<p>"+tagContents+"</p>"})),fixCodeBlocks=replaceRegex(/\n(<pre>)((\n|.)*)(<\/pre>)/g,(function(fullMatch,tagStart,tagContents,lastMatch,tagEnd){var lines="";return tagContents.split("\n").forEach((function(line){lines+=line.substring(1)+"\n"})),tagStart+lines+tagEnd}));exports.parseMarkdown=function(str){return fixCodeBlocks(function(str){return replaceParagraphs(replaceOrderedLists(replaceUnorderedLists(replaceHorizontalRules(replaceBlockquotes(replaceceStrikethrough(replaceBoldItalics(replaceHeadings(replaceLinks(replaceImages(replaceInlineCodes(replaceCodeBlocks(str))))))))))))}("\n"+str+"\n")).trim()}})),require.register("Utils/openCage.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBoundsTask=exports.locateQueryTask=void 0;var _ramda=require("ramda");function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var toOpenCageFormat=function(q){return"string"==typeof q?encodeURIComponent(q):encodeURIComponent("".concat(q[0],",").concat(q[1]))},toLocationViewModel=function(_ref){var _ref2=_slicedToArray(_ref,2),address=_ref2[0],ll=_ref2[1];return{address:address,latlong:JSON.stringify(ll)}};exports.locateQueryTask=function(http){return function(mdl){return function(query){return http.openCage.getLocationTask(mdl)(toOpenCageFormat(query)).map((0,_ramda.prop)("results")).map((0,_ramda.map)((0,_ramda.paths)([["formatted"],["geometry"]]))).map((0,_ramda.map)(toLocationViewModel))}}};exports.getBoundsTask=function(http){return function(mdl){return function(coords){return http.openCage.getLocationTask(mdl)(toOpenCageFormat(coords)).map((0,_ramda.path)(["results",0,"bounds"])).map((function(_ref3){var southwest=_ref3.southwest,northeast=_ref3.northeast;return encodeURIComponent("".concat(southwest.lng,",").concat(southwest.lat,",").concat(northeast.lng,",").concat(northeast.lat))}))}}}})),require.register("Utils/slider.js",(function(exports,require,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSlider=function(containerId,options){return new VanillaSlider(containerId,options)};var VanillaSlider=function VanillaSlider(containerId){var imageElement,imageAnchor,_this=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,VanillaSlider),this.containerId=containerId,this.images=options.images,this.transitionTime=options.transitionTime,this.transitionDirectionX=options.transitionDirectionX,this.transitionDirectionY=options.transitionDirectionY,this.transitionZoom=options.transitionZoom,this.bullets=options.bullets,this.bulletColor=options.bulletColor,this.bulletsHide=options.bulletsHide,this.arrows=options.arrows,this.arrowsHide=options.arrowsHide,this.swipe=options.swipe,this.auto=options.auto,this.autoTime=options.autoTime,this.autoPauseOnHover=options.autoPauseOnHover,this.webp=options.webp,this.currentIndex=0,this.sliderLock=!1,this.imageElements=[],this.hover=!1,this.autoPaused=!1,this.touch="ontouchstart"in document.documentElement,this.transitionTime=this.transitionTime?this.transitionTime:250,this.bullets="boolean"==typeof this.bullets&&this.bullets,this.bulletsHide=!("boolean"!=typeof this.bulletsHide||!this.bullets)&&this.bulletsHide,this.arrows="boolean"!=typeof this.arrows||this.arrows,this.arrowsHide="boolean"!=typeof this.arrowsHide||!this.arrows||this.arrowsHide,this.swipe="boolean"!=typeof this.swipe||this.swipe,this.auto="boolean"==typeof this.auto&&this.auto,this.autoTime="number"==typeof this.autoTime?this.autoTime:1e4,this.autoPauseOnHover="boolean"!=typeof this.autoPauseOnHover||this.autoPauseOnHover,this.webp="boolean"==typeof this.webp&&this.webp,this.webp){var webpTest,ff=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),ffVer=ff?parseInt(ff[1]):0,ffSupport=ffVer>64,ua=window.navigator.userAgent,edge=ua.indexOf("Edge/"),ieSupport=parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)>17,elem=document.createElement("canvas");elem.getContext&&elem.getContext("2d")&&(webpTest=0==elem.toDataURL("image/webp").indexOf("data:image/webp")),this.webp=webpTest||ffSupport||ieSupport}if(this.bulletColor){var isColor=function(strColor){var s=(new Option).style;return s.color=strColor,""!==s.color};this.bulletColor=isColor(this.bulletColor)?this.bulletColor:"red"}else this.bulletColor="red";if(Array.isArray(this.images)||(this.images=null),"string"!=typeof this.containerId&&this.containerId.id&&(this.containerId=this.containerId.id),!document.getElementById(this.containerId))throw"Slider error: conatinerId must be a valid element or id";var imagesIndex=0;if(this.container=document.getElementById(this.containerId),!this.images){this.images=[];var containerChildren=this.container.children;[].forEach.call(containerChildren,(function(containerChild){imageAnchor=null,"A"===containerChild.tagName&&(imageAnchor=containerChild,containerChild=containerChild.firstElementChild),"IMG"===containerChild.tagName?(_this.images[imagesIndex]={},_this.images[imagesIndex].imageUrl=containerChild.src,imageAnchor&&(_this.images[imagesIndex].linkUrl=imageAnchor.href,_this.images[imagesIndex].linkNewTab="_blank"===imageAnchor.target),containerChild.hasAttribute("text-title")&&(_this.images[imagesIndex].textTitle=containerChild.getAttribute("text-title")),containerChild.hasAttribute("text-body")&&(_this.images[imagesIndex].textBody=containerChild.getAttribute("text-body")),containerChild.hasAttribute("text-position")&&(_this.images[imagesIndex].textPosition=containerChild.getAttribute("text-position")),containerChild.hasAttribute("webp-url")&&(_this.images[imagesIndex].webpUrl=containerChild.getAttribute("webp-url")),containerChild.hasAttribute("alt")&&(_this.images[imagesIndex].alt=containerChild.getAttribute("alt")),containerChild.hasAttribute("title")&&(_this.images[imagesIndex].title=containerChild.getAttribute("title")),imagesIndex++):console.log("Slider error: invalid container child tag name: "+containerChild.tagName)}))}if(this.container.innerHTML="",this.images.forEach((function(image,index){"string"==typeof image&&(image={imageUrl:image,linkUrl:null,linkNewTab:null}),(imageElement=document.createElement("IMG")).id=_this.containerId+"-slide-"+index,_this.webp&&image.webpUrl?imageElement.src=image.webpUrl:imageElement.src=image.imageUrl,imageElement.classList.add("vanilla-slider-image"),imageElement.style.margin="auto",imageElement.style.width="100%",imageElement.style.maxWidth="100%",imageElement.style.position="absolute",imageElement.style.top=0,imageElement.style.left=0,image.alt&&(imageElement.alt=image.alt),image.title&&(imageElement.title=image.title),index>0?(imageElement.style.visibility="hidden",imageElement.style.zIndex=0):imageElement.style.zIndex=2,_this.container.appendChild(imageElement),_this.imageElements[index]=imageElement})),this.images.length<1)throw"Slider error: no images found for slides.";var isIE=function(){return navigator.userAgent.indexOf("MSIE ")>-1||navigator.userAgent.indexOf("Trident/")>-1};this.container.classList.add("vanilla-slider-container"),this.container.style.marginLeft="auto",this.container.style.marginRight="auto",this.container.style.maxWidth="100%",this.container.style.display="flex",this.container.style.overflow="hidden",this.container.style.position="relative",isIE()&&(this.container.style.alignItems="flex-end");var bullet,addArrowStyles=function(arrow){return arrow.style.zIndex=6,arrow.style.color="#fff",arrow.style.fontSize="2.5em",arrow.style.fontWeight="bold",arrow.style.cursor="pointer",arrow.style.transition="all 0.3s linear",arrow.style.textShadow="0px 0px 10px rgba(0,0,0,0.5)",arrow};(this.arrows&&(this.leftArrow=document.createElement("SPAN"),this.leftArrow.id=this.containerId+"-arrow-left",this.leftArrow.classList.add("vanilla-slider-arrow"),this.leftArrow.classList.add("vanilla-slider-arrow-left"),this.leftArrow=addArrowStyles(this.leftArrow),this.leftArrow.style.margin="auto auto auto 10px",this.leftArrow.innerHTML="&#10094;",this.leftArrow.addEventListener("click",(function(event){_this.prevSlide(),event.stopPropagation()})),isIE()&&(this.leftArrow.style.marginTop="45%",this.leftArrow.style.transform="translateY(-55%)"),this.container.appendChild(this.leftArrow)),this.bullets)&&(this.bulletContainer=document.createElement("DIV"),this.bulletContainer.id=this.containerId+"-bullet-container",this.bulletContainer.classList.add("vanilla-slider-bullet-container"),this.bulletContainer.style.zIndex=6,this.bulletContainer.style.position="relative",this.bulletContainer.style.margin="auto auto 0",this.bulletContainer.style.textAlign="center",isIE()&&(this.bulletContainer.style.marginTop="65%"),this.container.appendChild(this.bulletContainer),this.bullets=[],this.imageElements.forEach((function(element,index){(bullet=document.createElement("SPAN")).id=_this.containerId+"-bullet-"+index,bullet.classList.add("vanilla-slider-bullet"),bullet.style.color="#fff",bullet.style.zIndex=10,bullet.style.fontSize="2em",bullet.style.margin="0 5px",bullet.style.cursor="pointer",bullet.style.transition="all "+_this.transitionTime/1e3+"s linear",bullet.style.textShadow="0px 0px 5px rgba(0,0,0,0.5)",bullet.innerHTML="&bull;",bullet.addEventListener("click",(function(event){_this.goToSlide(index),event.stopPropagation()})),0===index&&(bullet.style.color=_this.bulletColor),_this.bullets[index]=bullet,_this.bulletContainer.appendChild(bullet)})),this.bulletsHide&&(this.bulletContainer.style.visibility="hidden",this.bulletContainer.style.opacity=0,this.bulletContainer.style.transition="visibility 0.3s linear,opacity 0.3s linear",this.container.addEventListener("mouseenter",(function(){_this.bulletContainer.style.visibility="visible",_this.bulletContainer.style.opacity=1})),this.container.addEventListener("mouseleave",(function(){_this.bulletContainer.style.visibility="hidden",_this.bulletContainer.style.opacity=0}))));if(this.arrows&&(this.rightArrow=document.createElement("SPAN"),this.rightArrow.id=this.containerId+"-arrow-right",this.rightArrow.classList.add("vanilla-slider-arrow"),this.rightArrow.classList.add("vanilla-slider-arrow-right"),this.rightArrow=addArrowStyles(this.rightArrow),this.rightArrow.style.margin="auto 10px auto auto",this.rightArrow.innerHTML="&#10095;",this.rightArrow.addEventListener("click",(function(event){_this.nextSlide(),event.stopPropagation()})),isIE()&&(this.rightArrow.style.marginTop="45%",this.rightArrow.style.transform="translateY(-55%)"),this.container.appendChild(this.rightArrow),this.arrowsHide&&(this.leftArrow.style.visibility="hidden",this.leftArrow.style.opacity=0,this.rightArrow.style.visibility="hidden",this.rightArrow.style.opacity=0,this.container.addEventListener("mouseenter",(function(){_this.leftArrow.style.visibility="visible",_this.leftArrow.style.opacity=1,_this.rightArrow.style.visibility="visible",_this.rightArrow.style.opacity=1})),this.container.addEventListener("mouseleave",(function(){_this.leftArrow.style.visibility="hidden",_this.leftArrow.style.opacity=0,_this.rightArrow.style.visibility="hidden",_this.rightArrow.style.opacity=0})))),this.resizeContainer=function(){_this.container.style.width=_this.container.parentNode.clientWidth+"px";var imageXYRatio=_this.imageElements[0].naturalWidth/_this.imageElements[0].naturalHeight;_this.container.style.height=parseFloat(_this.container.style.width.replace("px",""))/imageXYRatio+"px"},window.addEventListener("resize",this.resizeContainer),this.slideFadeOut=function(fadeOutTarget){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof callback&&(callback=function(){}),"string"==typeof fadeOutTarget&&(fadeOutTarget=document.getElementById(fadeOutTarget));var defaultWaitTime=2e3,defaultFadeTime=500,intervalTime=20,xDirections=["left","right","random"],yDirections=["up","down","random"],zooms=["in","out","random"];options.waitTime=!!options.waitTime&&options.waitTime,options.fadeTime=options.fadeTime?options.fadeTime:defaultFadeTime,options.directionX=options.directionX?options.directionX:null,options.directionY=options.directionY?options.directionY:null,options.zoom=options.zoom?options.zoom:null;var isVisible=function(element){return"hidden"!==element.style.visibility},makeInvisible=function(element){element.style.visibility="hidden"};if(fadeOutTarget)if(isVisible(fadeOutTarget)){var xDirectionInterval,yDirectionInterval,zoomInterval;if(options.directionX)switch(options.directionX=xDirections.includes(options.directionX)?options.directionX:null,"random"===options.directionX&&(options.directionX=["right","left",null][Math.floor(3*Math.random())]),options.directionX){case"right":xDirectionInterval=1;break;case"left":xDirectionInterval=-1}if(options.directionY)switch(options.directionY=yDirections.includes(options.directionY)?options.directionY:null,"random"===options.directionY&&(options.directionY=["up","down",null][Math.floor(3*Math.random())]),options.directionY){case"up":yDirectionInterval=-1;break;case"down":yDirectionInterval=1}if(options.zoom)switch(options.zoom=zooms.includes(options.zoom)?options.zoom:null,"random"===options.zoom&&(options.zoom=["in","out",null][Math.floor(3*Math.random())]),options.zoom){case"in":zoomInterval=.005;break;case"out":zoomInterval=-.005}if(options.waitTime)options.waitTime=!0===options.waitTime?defaultWaitTime:options.waitTime,options.waitTime="number"==typeof options.waitTime?options.waitTime:defaultWaitTime,setTimeout((function(){options.waitTime=!1,_this.slideFadeOut(fadeOutTarget,callback,options)}),options.waitTime);else{options.fadeTime="number"==typeof options.fadeTime?options.fadeTime:defaultFadeTime;var opacityInterval=intervalTime/options.fadeTime;fadeOutTarget.style.opacity=1;var fadeOutEffect=setInterval((function(){fadeOutTarget.style.opacity>0?(fadeOutTarget.style.opacity-=opacityInterval,options.directionX&&(fadeOutTarget.style.left=parseFloat(fadeOutTarget.style.left.replace("px",""))+xDirectionInterval+"px"),options.directionY&&(fadeOutTarget.style.top=parseFloat(fadeOutTarget.style.top.replace("px",""))+yDirectionInterval+"px"),options.zoom&&(fadeOutTarget.style.transform||(fadeOutTarget.style.transform="scale(1)"),fadeOutTarget.style.transform="scale("+(parseFloat(fadeOutTarget.style.transform.replace("scale(","").replace(")",""))+zoomInterval)+")")):(clearInterval(fadeOutEffect),makeInvisible(fadeOutTarget),fadeOutTarget.style.top=0,fadeOutTarget.style.left=0,fadeOutTarget.style.transform="scale(1)",callback())}),intervalTime)}}else callback();else console.log("fadeOut error: no such element exists.")},this.getNextIndex=function(){return(_this.currentIndex+1)%_this.imageElements.length},this.getPrevIndex=function(){return _this.currentIndex<1?_this.imageElements.length-1:_this.currentIndex-1},this.nextSlide=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_this.goToSlide(_this.getNextIndex(),callback)},this.prevSlide=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_this.goToSlide(_this.getPrevIndex(),callback)},this.goToSlide=function(newIndex){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof newIndex||newIndex<0||newIndex+1>_this.imageElements.length)console.log("Slider error: invalid index in goToSlide: "+newIndex),"function"==typeof callback&&callback();else if(newIndex===_this.currentIndex)console.log("Slider error: current index in goToSlide: "+newIndex),"function"==typeof callback&&callback();else if(_this.sliderLock)console.log("Slider error: slider is locked.");else{_this.pauseAuto(),_this.bullets&&(_this.bullets[_this.currentIndex].style.color="#fff",_this.bullets[newIndex].style.color=_this.bulletColor);var finishSlide=function(){_this.currentIndex=newIndex,_this.setSlideLink(newIndex),_this.setSlideText(newIndex),_this.sliderLock=!1,"function"==typeof callback&&callback(),_this.autoPauseOnHover&&_this.hover&&!_this.touch||_this.resumeAuto()};_this.sliderLock=!0,_this.transitionSlide(newIndex,finishSlide)}},this.startAuto=function(){_this.auto=!0,_this.autoInterval=setInterval(_this.nextSlide,_this.autoTime)},this.pauseAuto=function(){_this.auto&&!_this.autoPaused&&(clearInterval(_this.autoInterval),_this.autoPaused=!0)},this.resumeAuto=function(){_this.auto&&_this.autoPaused&&(_this.autoInterval=setInterval(_this.nextSlide,_this.autoTime),_this.autoPaused=!1)},this.stopAuto=function(){clearInterval(_this.autoInterval),_this.auto=!1},this.setSlideLink=function(index){_this.linkOverlay&&(_this.container.removeChild(_this.linkOverlay),_this.linkOverlay=null),_this.images[index].linkUrl&&(_this.linkOverlay=document.createElement("DIV"),_this.linkOverlay.id=_this.containerId+"-link-overlay",_this.linkOverlay.classList.add("vanilla-slider-link-overlay"),_this.linkOverlay.style.zIndex=5,_this.linkOverlay.style.position="absolute",_this.linkOverlay.style.top=0,_this.linkOverlay.style.left=0,_this.linkOverlay.style.width="100%",_this.linkOverlay.style.height="100%",_this.linkOverlay.style.cursor="pointer",_this.images[index].linkNewTab?_this.linkOverlay.addEventListener("click",(function(){window.open(_this.images[index].linkUrl,"_blank")})):_this.linkOverlay.addEventListener("click",(function(){window.location.href=_this.images[index].linkUrl})),_this.container.appendChild(_this.linkOverlay))},this.setSlideText=function(index){if(_this.textOverlay&&(_this.container.removeChild(_this.textOverlay),_this.textOverlay=null),_this.images[index].textTitle||_this.images[index].textBody){_this.textOverlay=document.createElement("DIV"),_this.textOverlay.id=_this.containerId+"-text-overlay",_this.textOverlay.classList.add("vanilla-slider-text-overlay"),_this.textOverlay.style.zIndex=6,_this.textOverlay.style.position="absolute",_this.textOverlay.style.padding="0 20px",_this.textOverlay.style.textAlign="left",_this.textOverlay.style.color="#fff",_this.textOverlay.style.textShadow="0 0 20px black",_this.textOverlay.style.backgroundColor="rgba(0,0,0,0.3)",_this.textOverlay.style.opacity=0,_this.textOverlay.style.transition="all 0.5s linear";var textOverlayContent="";switch(_this.images[index].textTitle&&(textOverlayContent+="<h1>"+_this.images[index].textTitle+"</h1>"),_this.images[index].textBody&&(textOverlayContent+="<h3>"+_this.images[index].textBody+"</h3>"),_this.images[index].textPosition="string"==typeof _this.images[index].textPosition?_this.images[index].textPosition:"SW",_this.images[index].textPosition){case"NW":_this.textOverlay.style.top="20px",_this.textOverlay.style.left="20px";break;case"NE":_this.textOverlay.style.top="20px",_this.textOverlay.style.right="20px";break;case"SE":_this.textOverlay.style.bottom="20px",_this.textOverlay.style.right="20px";break;default:_this.textOverlay.style.bottom="20px",_this.textOverlay.style.left="20px"}_this.textOverlay.innerHTML=textOverlayContent,_this.images[index].linkUrl&&(_this.textOverlay.style.cursor="pointer",_this.images[index].linkNewTab?_this.textOverlay.addEventListener("click",(function(){window.open(_this.images[index].linkUrl,"_blank")})):_this.textOverlay.addEventListener("click",(function(){window.location.href=_this.images[index].linkUrl}))),_this.container.appendChild(_this.textOverlay)}},this.revealSlideText=function(index){if((_this.images[index].textTitle||_this.images[index].textBody)&&_this.textOverlay)var revealEffect=setInterval((function(){_this.textOverlay.style.opacity=parseFloat(_this.textOverlay.style.opacity)+parseFloat(.1),_this.textOverlay.style.opacity>=1&&clearInterval(revealEffect)}),5)},this.transitionSlide=function(newIndex,callback){_this.imageElements[newIndex].style.zIndex=1,_this.imageElements[newIndex].style.opacity=1,_this.imageElements[newIndex].style.visibility="visible",_this.setSlideText(newIndex),_this.slideFadeOut(_this.imageElements[_this.currentIndex],(function(){_this.imageElements[_this.currentIndex].style.zIndex=0,_this.imageElements[newIndex].style.zIndex=2,callback(),_this.revealSlideText(newIndex)}),{fadeTime:_this.transitionTime,directionX:_this.transitionDirectionX,directionY:_this.transitionDirectionY,zoom:_this.transitionZoom})},this.setSlideLink(this.currentIndex),this.setSlideText(this.currentIndex),this.revealSlideText(this.currentIndex),this.swipe){this.swiper={},this.swiper.xDown=null,this.swiper.yDown=null,this.container.addEventListener("touchstart",(function(evt){_this.swiper.xDown=evt.touches[0].clientX,_this.swiper.yDown=evt.touches[0].clientY}),!1);var handleTouchMove=function(evt){if(_this.swiper.xDown&&_this.swiper.yDown){var xUp=evt.touches[0].clientX,yUp=evt.touches[0].clientY;if(_this.swiper.xDiff=_this.swiper.xDown-xUp,_this.swiper.yDiff=_this.swiper.yDown-yUp,Math.abs(_this.swiper.xDiff)>Math.abs(_this.swiper.yDiff)){var transition={};_this.swiper.xDiff>0?(transition={x:_this.transitionDirectionX,y:_this.transitionDirectionY,z:_this.transitionZoom},_this.transitionDirectionX="left",_this.transitionDirectionY=!1,_this.transitionZoom=!1,_this.nextSlide((function(){_this.transitionDirectionX=transition.x,_this.transitionDirectionY=transition.y,_this.transitionZoom=transition.z}))):(transition={x:_this.transitionDirectionX,y:_this.transitionDirectionY,z:_this.transitionZoom},_this.transitionDirectionX="right",_this.transitionDirectionY=!1,_this.transitionZoom=!1,_this.prevSlide((function(){_this.transitionDirectionX=transition.x,_this.transitionDirectionY=transition.y,_this.transitionZoom=transition.z})))}_this.swiper.xDown=null,_this.swiper.yDown=null}};this.container.addEventListener("touchmove",(function(evt){handleTouchMove(evt)}),!1)}this.auto&&(this.startAuto(),this.autoPauseOnHover&&(this.container.addEventListener("mouseenter",(function(){_this.pauseAuto()})),this.container.addEventListener("mouseleave",(function(){_this.resumeAuto()})))),this.touch||(this.container.addEventListener("mouseenter",(function(){_this.hover=!0})),this.container.addEventListener("mouseleave",(function(){_this.hover=!1}))),this.imageElements[0]&&this.imageElements[0].addEventListener("load",this.resizeContainer)};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(obj){return this.filter((function(el){return el==obj})).length>0}})})),require.register("Utils/storage.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.saveStorageTask=exports.getDbStorageTask=exports.saveDbStorageTask=exports.saveLocalStorageTask=exports.getSessionStorageTask=exports.getLocalStorageTask=void 0;var obj,_data=(obj=require("data.task"))&&obj.__esModule?obj:{default:obj};exports.getLocalStorageTask=function(key){return new _data.default((function(rej,res){return localStorage.getItem(key)?rej("nothing here"):res(localStorage.getItem(key))}))};exports.getSessionStorageTask=function(key){return new _data.default((function(rej,res){return sessionStorage.getItem(key)?rej("nothing here"):res(sessionStorage.getItem(key))}))};var saveLocalStorageTask=function(key){return function(value){return localStorage.setItem(key,JSON.stringify(value)),_data.default.of(localStorage.getItem(key))}};exports.saveLocalStorageTask=saveLocalStorageTask;var saveDbStorageTask=function(mdl){return function(cart){return mdl.http.back4App.putTask(mdl)("classes/Accounts/".concat(mdl.user.account.objectId))({cart:JSON.parse(cart)})}};exports.saveDbStorageTask=saveDbStorageTask;exports.getDbStorageTask=function(mdl){return mdl.http.back4App.gettTask(mdl)("classes/Accounts/".concat(mdl.user.account.objectId))};exports.saveStorageTask=function(mdl){return function(key){return function(value){return mdl.state.isAuth()?saveLocalStorageTask(key)(value).chain(saveDbStorageTask(mdl)):saveLocalStorageTask(key)(value)}}}})),require.register("Utils/validation.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNilOrEmptyOrAtom=exports.allCaps=exports.inDateRange=exports.unique=exports.maxLengthNullable=exports.onlyNumeric=exports.urlFormat=exports.phoneFormat=exports.onlyAlphaNumericSpaceSpecial=exports.onlyAlphaNumericSpaceUnderscore=exports.onlyAlphaNumericSpace=exports.onlyAlphaNumericUnderscore=exports.onlyAlphaNumeric=exports.onlyAlpha=exports.emailFormat=exports.maxSize=exports.maxLength=exports.isNullOrEmpty=exports.isNotNullOrEmpty=exports.IsNotNil=exports.isRequired=exports.validate=exports.getOrElse=void 0;var obj,_ramda=require("ramda"),_data=require("data.validation"),_data2=(obj=require("data.maybe"))&&obj.__esModule?obj:{default:obj};var getOrElse=function(val){return function(x){return x.getOrElse(val)}};exports.getOrElse=getOrElse;var validate=(0,_ramda.curry)((function(rule,lens,msg,data){return rule((0,_ramda.view)(lens,data))?(0,_data.Success)(data):(0,_data.Failure)([(0,_ramda.set)(lens,msg,{})])}));exports.validate=validate;var isRequired=(0,_ramda.compose)(_ramda.not,_ramda.isEmpty);exports.isRequired=isRequired;var IsNotNil=(0,_ramda.compose)(_ramda.not,_ramda.isNil);exports.IsNotNil=IsNotNil;exports.isNotNullOrEmpty=function(data){return!isNullOrEmpty(data)};var isNullOrEmpty=function(data){return(0,_ramda.isNil)(data)||(0,_ramda.isEmpty)(data)};exports.isNullOrEmpty=isNullOrEmpty;exports.maxLength=function(max){return(0,_ramda.compose)((0,_ramda.gte)(max),_ramda.length)};var maxSize=(0,_ramda.curry)((function(max,value){return(0,_ramda.gte)(max,value)}));exports.maxSize=maxSize;var emailFormat=(0,_ramda.test)(/@/);exports.emailFormat=emailFormat;var onlyAlpha=(0,_ramda.test)(/^[a-zA-Z]*$/);exports.onlyAlpha=onlyAlpha;var onlyAlphaNumeric=(0,_ramda.test)(/^[a-zA-Z0-9]*$/);exports.onlyAlphaNumeric=onlyAlphaNumeric;var onlyAlphaNumericUnderscore=(0,_ramda.test)(/^[a-zA-Z0-9_]*$/);exports.onlyAlphaNumericUnderscore=onlyAlphaNumericUnderscore;var onlyAlphaNumericSpace=(0,_ramda.test)(/^[a-zA-Z0-9\s]*$/);exports.onlyAlphaNumericSpace=onlyAlphaNumericSpace;var onlyAlphaNumericSpaceUnderscore=(0,_ramda.test)(/^[a-zA-Z0-9_\s]*$/);exports.onlyAlphaNumericSpaceUnderscore=onlyAlphaNumericSpaceUnderscore;var onlyAlphaNumericSpaceSpecial=(0,_ramda.test)(/^[a-zA-Z0-9_.~!*''();:@&=+$,/?#[%-\]+\s]*$/);exports.onlyAlphaNumericSpaceSpecial=onlyAlphaNumericSpaceSpecial;var phoneFormat=(0,_ramda.test)(/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/);exports.phoneFormat=phoneFormat;var urlFormat=(0,_ramda.test)(/^[a-zA-Z0-9_.~!*''();:@&=+$,/?#[%-\]+]*$/);exports.urlFormat=urlFormat;var onlyNumeric=(0,_ramda.test)(/^[0-9]*$/);exports.onlyNumeric=onlyNumeric;exports.maxLengthNullable=function(max){return(0,_ramda.compose)(getOrElse(!1),(0,_ramda.map)((0,_ramda.gte)(max)),(0,_ramda.map)(_ramda.length),_data2.default.fromNullable)};var unique=(0,_ramda.curry)((function(keys,value){var lookup=_data2.default.fromNullable(keys);return!(0,_ramda.contains)((0,_ramda.toUpper)(value.toString()),(0,_ramda.map)((function(y){return(0,_ramda.toUpper)(y.toString())}),lookup.getOrElse([])))}));exports.unique=unique;var inDateRange=(0,_ramda.curry)((function(start,end,value){return null==value||""===value||new Date(start)<=new Date(value)&&new Date(value)<new Date(end)}));exports.inDateRange=inDateRange;exports.allCaps=function(str){return str.toUpperCase()===str};exports.isNilOrEmptyOrAtom=function(item){return(0,_ramda.isNil)(item)||(0,_ramda.isEmpty)(item)||"{$type:atom}"===item}})),require.register("app.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(mdl){return mdl.Routes.reduce(function(mdl){return function(acc,route){return acc[route.route]={onmatch:function(args,path,fullroute){mdl.state.showNavModal(!1),route.group.includes("authenticated")&&!mdl.state.isAuth()&&mdl.route.set(m.route.get()),mdl.state.route=route,mdl.state.anchor=path.split("#")[1],mdl.state.navState(route.id),route.route.split("/")[2]?(mdl.state.subnavState(route.route),mdl.state.navState(route.route.split("/")[1])):(mdl.state.subnavState(null),mdl.state.navState(route.id));var isAnchor=Boolean(mdl.state.anchor);route.onmatch(mdl,args,path,fullroute,isAnchor)},render:function(){return route.component(mdl)}},acc}}(mdl),{})};exports.default=_default})),require.register("images.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=["images/IMG_4029.webp","images/IMG_3989.webp","images/IMG_3990.webp","images/IMG_3991.webp","images/IMG_3992.webp","images/IMG_3993.webp","images/IMG_3995.webp","images/IMG_3996.webp","images/IMG_3997.webp","images/IMG_3998.webp","images/IMG_3999.webp","images/IMG_4001.webp","images/IMG_4002.webp","images/IMG_4003.webp","images/IMG_4004.webp","images/IMG_4005.webp","images/IMG_4006.webp","images/IMG_4007.webp","images/IMG_4008.webp","images/IMG_4009.webp","images/IMG_4010.webp","images/IMG_4011.webp","images/IMG_4012.webp","images/IMG_4013.webp","images/IMG_4014.webp","images/IMG_4015.webp","images/IMG_4016.webp","images/IMG_4017.webp","images/IMG_4018.webp","images/IMG_4019.webp","images/IMG_4020.webp","images/IMG_4021.webp","images/IMG_4022.webp","images/IMG_4023.webp","images/IMG_4024.webp","images/IMG_4025.webp","images/IMG_4026.webp","images/IMG_4027.webp","images/IMG_4028.webp"];exports.default=_default})),require.register("index.js",(function(exports,require,module){"use strict";var _funConfig=require("@boazblake/fun-config"),_app=_interopRequireDefault(require("./app.js")),_index=_interopRequireDefault(require("Models/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}window.perf=function(fn){var startTime=performance.now(),duration=performance.now()-startTime;console.log("".concat(fn," took ").concat(duration,"ms"))},_funConfig.FunConfig.configure(),_index.default.navState=_index.default.Routes.reduce((function(acc,r){return r.children.any()&&(acc[r.id]=Stream(!1)),acc}),{});var root=document.body,winW=window.innerWidth;window.log=function(m){return function(v){return console.log(m,v),v}},module.hot&&module.hot.accept(),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./sw.js").then((function(registration){console.log(" SW registered: ",registration)})).catch((function(registrationError){console.log(" SW registration failed: ",registrationError)}))}));var getProfile=function(w){return w<464?"phone":w<624?"wide":w<1e3?"tablet":"desktop"};if(_index.default.settings.screenSize=getProfile(winW),function checkWidth(winW){var w=window.innerWidth;if(winW!==w){winW=w;var lastProfile=_index.default.settings.screenSize;_index.default.settings.screenSize=getProfile(w),lastProfile!=_index.default.settings.screenSize&&m.redraw()}return requestAnimationFrame(checkWidth)}(winW),sessionStorage.getItem("baca-session-token")){_index.default.http.back4App.getTask(_index.default)("users/me").fork((function(e){sessionStorage.clear(),console.error("problem fetching user",e)}),(function(user){_index.default.user=user,_index.default.user.routename=user.name.replaceAll(" ",""),user.emailVerified?_index.default.state.isAuth(!0):sessionStorage.clear()}))}m.route(root,"/",(0,_app.default)(_index.default))})),require.register("initialize.js",(function(exports,require,module){"use strict";document.addEventListener("DOMContentLoaded",(function(){return require("./index.js")}))})),require.alias("process/browser.js","process"),require("process"),require.register("___globals___",(function(exports,require,module){window.m=require("mithril"),window.Stream=require("mithril-stream")}))}(),require("___globals___");
